{"version":3,"sources":["webpack:///./_multiappsharing/components/ImageCropper/index.js","webpack:///./assets/public/js/RichEditor.js","webpack:///./assets/containers/ImLiveCreate/ImLiveCreateItem/index.js","webpack:///./assets/containers/ImLiveCreate/ImLiveCreateCropperPopup/index.js","webpack:///./assets/containers/ImLiveCreate/index.js","webpack:///./_multiappsharing/public/hooks/useMemo.js","webpack:///./_multiappsharing/components/Popup/index.js","webpack:///./assets/containers/ImLiveControl/ImLiveControlPopup/index.js","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-down.png","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-add.png","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-date.png","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-popup-close.png","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-course1.png","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-course2.png","webpack:///./assets/containers/ImLiveCreate/Image/im-live-create-course3.png"],"names":["onComplete","image","imgRef","useRef","useState","unit","width","aspect","crop","setCrop","onLoad","useCallback","img","current","makeClientCrop","height","createCropPreview","fileName","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","drawImage","x","y","Promise","resolve","reject","toBlob","blob","Error","name","c","toolbarOptions","header","align","list","editorQuill","RichEditor","state","fullscreen","fullscreenHandle","event","className","target","getAttribute","indexOf","setState","MediaQuill","require","Delta","qlClean","value","range","quill","getSelection","delta2","getContents","index","length","delta","retain","ops","map","item","insert","Object","keys","LinkBlot","text","concat","updateContents","sources","USER","deleteText","videoInit","options","modules","toolbar","container","handlers","clean","imageResize","placeholder","props","textDefault","theme","on","getContent","editorVal","root","innerHTML","mediaUploading","content","oldDelta","setContents","clipboard","convert","fullscreenIcon","formats","setAttribute","button","appendChild","querySelector","addEventListener","removeEventListener","Component","propTypes","string","isRequired","func","ImLiveCreateInputItem","title","valRef","isWrong","wrongText","ImLiveCreateTextareaItem","brief","onBriefChange","alignItems","ImLiveCreatePictureItem","src","inputFileVal","coverImgUpload","imgAddIcon","e","marginLeft","ImLiveDateInputItem","onTimeChange","disabledDate","tomorrow","moment","add","yesterday","subtract","isAfter","isBefore","timePickerElement","calendar","zhCN","zIndex","dateIcon","format","ImLiveCreateExplainItem","data","url","ImLiveCreateBtnItem","click","marginBottom","btnDownIcon","ImLiveCreateCourseItem","urlText","halftitle","textList","onCloseClick","onOkClick","ImageCropper","cropperTextList","explainData","mixUrl","main","coursUrl","obsUrl","courseData","courseIcon1","courseIcon2","courseIcon3","useSelector","userInfo","login","info","shallowEqual","dispatch","useDispatch","inputVal","inputWrong","setInputWrong","setBrief","textImg","imgWrong","setImgWrong","setInputFileVal","textareaWrong","setTextareaWrong","imgDataUrl","setImgDataUrl","imgBolb","setImgBolb","isUpImg","setIsUpImg","isCropperShow","setIsCropperShow","timeVal","setTimeVal","timeWrong","setTimeWrong","isPopShow2","setIsPopShow2","isHaveRoomId","setIsHaveRoomId","useEffect","onSetInputFiles","file","files","window","FileReader","reader","readAsDataURL","onloadend","result","uploadImg","uploadFile","type","watermark","then","res","code","obj","err","console","log","valueOf","onBtnCreateClick","trim","time","getRoomLiveList","passportId","adminCreateFlag","liveListData","liveList","inforList","isHave","i","element","parseInt","status","roomId","customRes","msg","getRoomAdd","nickName","coverPicUrl","beginTime","roomType","Toast","roomAddRes","location","href","onBtnCropperCloseClick","onBtnPopupOKClick2","popupCloseIcon","children","deps","wrap","Fragment","Wrap","comp","useMemo","show","close","closeIcon","closeClassName","wrapperClassName","layoutContent","zIndexStyle","removeZindex","defaultStyle","replace","display","ok","okText","justifyContent"],"mappings":"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","file":"containers-ImLiveCreate.js","sourcesContent":["import React, { useState, useCallback, useRef } from 'react'\nimport ReactCrop from 'react-image-crop'\nimport './index.scss'\n\nexport default ({ onComplete, image }) => {\n    const imgRef = useRef(null)\n    const [crop, setCrop] = useState({ unit: '%', width: 100, aspect: 16 / 9 })\n\n    const onLoad = useCallback(img => {\n        imgRef.current = img\n    }, [])\n\n    const makeClientCrop = async crop => {\n        if (imgRef.current && crop.width && crop.height) {\n            createCropPreview(imgRef.current, crop, 'newFile.jpeg')\n        }\n    }\n\n    const createCropPreview = async (image, crop, fileName) => {\n        const canvas = document.createElement('canvas')\n        const scaleX = image.naturalWidth / image.width\n        const scaleY = image.naturalHeight / image.height\n        canvas.width = crop.width\n        canvas.height = crop.height\n        const ctx = canvas.getContext('2d')\n\n        ctx.drawImage(\n            image,\n            crop.x * scaleX,\n            crop.y * scaleY,\n            crop.width * scaleX,\n            crop.height * scaleY,\n            0,\n            0,\n            crop.width,\n            crop.height\n        )\n\n        return new Promise((resolve, reject) => {\n            canvas.toBlob(blob => {\n                if (!blob) {\n                    reject(new Error('Canvas is empty'))\n                    return\n                }\n                blob.name = fileName\n                onComplete(blob)\n            }, 'image/jpeg')\n        })\n    }\n\n    return <ReactCrop\n        src={image}\n        onImageLoaded={onLoad}\n        crop={crop}\n        onChange={c => setCrop(c)}\n        onComplete={makeClientCrop}\n    />\n}\n","import React, { Component } from 'react'\nimport { string, func } from 'prop-types'\n// import { urlImgUpload, fileImgUpload, fileLargeUpload } from '../../redux/actions/richEditor'\n\nconst toolbarOptions = [\n    [{ header: [2, 3, false] }],\n    // [{ header: 2 }, 'bold', 'italic', 'underline', 'strike'],\n    [{ header: 2 }, 'bold'],\n    ['blockquote'],\n    [{ align: [] }],\n    [{ list: 'ordered' }, { list: 'bullet' }],\n    // ['link', 'image', 'video'],\n    ['link', 'image'],\n    ['clean']\n]\n\nlet editorQuill = null\nclass RichEditor extends Component {\n    state = {\n        fullscreen: false\n    }\n\n    // 点击全屏与退出全屏\n    fullscreenHandle = (event) => {\n        const className = event.target.getAttribute('class')\n        if (className && className.indexOf('ql-fullscreen') > -1) {\n            this.setState({\n                fullscreen: !this.state.fullscreen\n            })\n        }\n    }\n\n    componentDidMount () {\n        const MediaQuill = require('media-quill')\n        const Delta = MediaQuill.import('delta')\n        // 自定义格式清除\n        const qlClean = function (value) {\n            const range = this.quill.getSelection(true)\n            const delta2 = this.quill.getContents(range.index, range.length)\n            let delta = new Delta().retain(range.index + range.length)\n            delta2.ops = delta2.ops.map((item) => {\n                if (!item.insert) {\n                    return item\n                }\n\n                if (typeof item.insert !== 'object') {\n                    return {\n                        insert: item.insert\n                    }\n                }\n\n                switch (Object.keys(item.insert)[0]) {\n                    case 'LinkBlot':\n                        return {\n                            insert: item.insert.LinkBlot.text\n                        }\n                    default:\n                        return {\n                            insert: item.insert\n                        }\n                }\n            })\n            delta = delta.concat(delta2)\n            this.quill.updateContents(delta, MediaQuill.sources.USER)\n            this.quill.deleteText(range.index, range.length)\n\n            this.quill.videoInit()\n        }\n\n        const options = {\n            modules: {\n                toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                        clean: qlClean\n                    }\n                },\n                imageResize: {}\n                // clipboard: {\n                // imageUpload: async (url) => {\n                //     const res = await urlImgUpload([\n                //         {\n                //             signTime: new Date().getTime(),\n                //             imgSrc: url || ''\n                //         }\n                //     ])\n                //     if (res.code === 1 && res.obj[0].imgSrc) {\n                //         return res.obj[0].imgSrc\n                //     }\n                // }\n                // },\n                // mediaUploader: {\n                // imageUpload: async (file) => {\n                //     const res = await fileImgUpload({\n                //         type: 'news',\n                //         uploadFile: file\n                //     })\n\n                //     if (res.code === 1) {\n                //         return res.obj\n                //     }\n                // },\n                // videoUpload: async (file) => {\n                //     const videoUrl = await fileLargeUpload({ file })\n                //     if (videoUrl) return videoUrl\n                // }\n                // }\n            },\n            placeholder: this.props.textDefault,\n            theme: 'snow'\n        }\n\n        editorQuill = new MediaQuill('#editorQuill', options)\n\n        editorQuill.on('text-change', () => {\n            // 通过onChange传给Antd的Form\n            if (this.props.getContent) {\n                const editorVal = editorQuill.root.innerHTML\n                if (editorQuill.mediaUploading() === false) {\n                    this.props.getContent(editorVal)\n                }\n            }\n        })\n\n        if (this.props.content) {\n            const oldDelta = editorQuill.root.innerHTML\n            if (this.props.content !== oldDelta && oldDelta === '<p><br></p>') {\n                editorQuill.setContents(editorQuill.clipboard.convert(this.props.content))\n            }\n        }\n\n        editorQuill.videoInit()\n\n        // 添加全屏按钮\n        const fullscreenIcon = `<svg class=\"ql-fullscreen-svg\" viewBox=\"0 0 1024 1024\"><path d=\"M160 96h192q14.016 0.992 23.008 10.016t8.992 22.496-8.992 22.496T352 160H160v192q0 14.016-8.992 23.008T128 384t-23.008-8.992T96 352V96h64z m0 832H96v-256q0-14.016 8.992-23.008T128 640t23.008 8.992T160 672v192h192q14.016 0 23.008 8.992t8.992 22.496-8.992 22.496T352 928H160zM864 96h64v256q0 14.016-8.992 23.008T896 384t-23.008-8.992T864 352V160h-192q-14.016 0-23.008-8.992T640 128.512t8.992-22.496T672 96h192z m0 832h-192q-14.016-0.992-23.008-10.016T640 895.488t8.992-22.496T672 864h192v-192q0-14.016 8.992-23.008T896 640t23.008 8.992T928 672v256h-64z\" p-id=\"8486\"></path></svg>`\n        const formats = document.createElement('span')\n        formats.setAttribute('class', 'ql-formats ql-fullscreen-formats')\n        const button = document.createElement('button')\n        button.setAttribute('type', 'button')\n        button.setAttribute('class', 'ql-fullscreen')\n        button.innerHTML = fullscreenIcon\n        formats.appendChild(button)\n        document.querySelector('.ql-toolbar').appendChild(formats)\n\n        if (editorQuill) {\n            document.addEventListener('click', this.fullscreenHandle, false)\n        }\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener('click', this.fullscreenHandle, false)\n    }\n\n    render () {\n        const { fullscreen } = this.state\n        return <div className={`editor-quill-box ${fullscreen ? 'active' : ''}`}>\n            <div className='editor-quill-cotent'>\n                <div id='editorQuill'></div>\n            </div>\n        </div>\n    }\n}\n\nRichEditor.propTypes = {\n    content: string.isRequired,\n    getContent: func.isRequired,\n    textDefault: string.isRequired\n}\n\nexport default RichEditor\n","import React, { useCallback } from 'react'\n\nimport './index.scss'\n\n// import Datetime from 'react-datetime'\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport Calendar from 'rc-calendar'\nimport DatePicker from 'rc-calendar/lib/Picker'\nimport zhCN from 'rc-calendar/lib/locale/zh_CN'\nimport TimePickerPanel from 'rc-time-picker/lib/Panel'\nimport RichEditor from '../../../public/js/RichEditor'\nimport btnDownIcon from '../Image/im-live-create-down.png'\nimport imgAddIcon from '../Image/im-live-create-add.png'\nimport dateIcon from '../Image/im-live-create-date.png'\n\n/** @desc 输入框Item */\nexport const ImLiveCreateInputItem = (props) => {\n    const { title, valRef, isWrong, wrongText } = props\n\n    return (\n        <div className={`im-live-create-item ${isWrong ? 'wrong' : ''}`}>\n            <div className=\"im-live-create-item-title\">\n                {title}\n            </div>\n            <input className=\"im-live-create-item-input\" ref={valRef} maxLength={25} placeholder={` ${'标题不超过25个字'}`} />\n            {isWrong && <div className=\"im-live-create-item-wrong\">{wrongText}</div>}\n        </div>\n    )\n}\n\n/** @desc 文本区Item */\nexport const ImLiveCreateTextareaItem = (props) => {\n    const { title, brief, onBriefChange, isWrong, wrongText } = props\n\n    return (\n        <div className={`im-live-create-item ${isWrong ? 'wrong' : ''}`} style={{ height: '74px', alignItems: 'flex-start' }}>\n            <div className=\"im-live-create-item-title\">\n                {title}\n            </div>\n            <textarea className=\"im-live-create-item-textarea\" disabled placeholder={` ${'简介不超过200字'}`} />\n            <RichEditor getContent={onBriefChange} content={brief} textDefault={` ${'简介不超过200字'}`} />\n            {isWrong && <div className=\"im-live-create-item-wrong\">{wrongText}</div>}\n        </div>\n    )\n}\n\n/** @desc 图片Item */\nexport const ImLiveCreatePictureItem = (props) => {\n    const { title, src, inputFileVal, coverImgUpload, isWrong, wrongText } = props\n    return (\n        <div className=\"im-live-create-item\" style={{ alignItems: 'flex-start' }}>\n            <div className=\"im-live-create-item-title\">\n                {title}\n            </div>\n            <div className=\"im-live-create-item-img-box\">\n                {(!src || src === '') && <img className=\"im-live-create-item-icon\" src={imgAddIcon} />}\n                <input className=\"im-live-create-item-img-input\" value={inputFileVal} onChange={(e) => coverImgUpload(e)} name=\"file\" id=\"file\" type=\"file\" accept=\".jpg,.jpeg,.png\" />\n                {src && src !== '' && <img className=\"im-live-create-item-img\" src={src} />}\n            </div>\n            <div className=\"im-live-create-item-explain\" style={{ width: '120px', marginLeft: '16px' }}>建议尺寸1280*720<br />比例16:9</div>\n            {isWrong && <div className=\"im-live-create-item-wrong\">{wrongText}</div>}\n        </div >\n    )\n}\n\n/** @desc 日期Item */\nexport const ImLiveDateInputItem = (props) => {\n    const { title, onTimeChange, isWrong, wrongText } = props\n\n    // 仅能选择三天天以内的时间\n    // const valid = useCallback(\n    //     (current) => {\n    //         const tomorrow = moment().add(2, 'day')\n    //         const yesterday = moment().subtract(1, 'day')\n    //         return current.isAfter(yesterday) && current.isBefore(tomorrow)\n    //     },\n    //     []\n    // )\n\n    // 仅能选择三天天以内的天数\n    const disabledDate = useCallback(\n        (current) => {\n            if (!current) {\n                // allow empty select\n                return false\n            }\n\n            const tomorrow = moment().add(2, 'day')\n            const yesterday = moment().subtract(1, 'day')\n            return !(current.isAfter(yesterday) && current.isBefore(tomorrow))\n        },\n        []\n    )\n\n    // 时间组件\n    const timePickerElement = <TimePickerPanel defaultValue={moment('00:00:00', 'HH:mm')} showSecond={false} />\n\n    // 日期组件\n    const calendar = (\n        <Calendar\n            locale={zhCN}\n            style={{ zIndex: 1001 }}\n            dateInputPlaceholder=\"输入日期\"\n            format='YYYY-MM-DD HH:mm'\n            timePicker={timePickerElement}\n            disabledDate={disabledDate}\n        />\n    )\n\n    return (\n        <div className={`im-live-create-item ${isWrong ? 'wrong' : ''}`}>\n            <div className=\"im-live-create-item-title\">\n                {title}\n            </div>\n            <img className=\"im-live-create-item-date-img\" src={dateIcon} />\n            {/* <Datetime\n                className=\"im-live-create-item-date\"\n                dateFormat=\"YYYY-MM-DD\"\n                timeFormat=\"HH:mm\"\n                isValidDate={valid}\n                inputProps={{ placeholder: ` ${'选择日期'}` }}\n                locale={'zh-cn'}\n                onChange={onTimeChange}\n            /> */}\n            <DatePicker\n                locale={zhCN}\n                animation=\"slide-up\"\n                calendar={calendar}\n                onChange={onTimeChange}\n            >\n                {\n                    ({ value }) => {\n                        return (\n                            <input\n                                className=\"im-live-create-item-date\"\n                                placeholder={` ${'选择日期'}`}\n                                readOnly\n                                value={(value && value.format('YYYY-MM-DD HH:mm')) || ''}\n                            />\n                        )\n                    }\n                }\n            </DatePicker>\n            <div className=\"im-live-create-item-explain\" style={{ width: '360px', marginLeft: '16px' }}>仅能选择三天以内时间；开播时间段仅供参考，不是实际直播可以开播时间，直播间在开始时间前也可以开播</div>\n            {isWrong && <div className=\"im-live-create-item-wrong\">{wrongText}</div>}\n        </div>\n    )\n}\n\n/** @desc 说明Item */\nexport const ImLiveCreateExplainItem = (props) => {\n    const { data } = props\n\n    return (\n        <div className=\"im-live-create-item\">\n            <div className=\"im-live-create-item-explain\">\n                创建直播即为同意\n                <a className=\"im-live-create-item-explain-a\" href={data[0].url} target=\"_blank\">{` 《${data[0].name}》 `}</a>\n                与\n                <a className=\"im-live-create-item-explain-a\" href={data[1].url} target=\"_blank\">{` 《${data[1].name}》 `}</a>\n            </div>\n        </div>\n    )\n}\n\n/** @desc 按钮Item */\nexport const ImLiveCreateBtnItem = (props) => {\n    const { text, click, url } = props\n\n    return (\n        <div className=\"im-live-create-item\" style={{ marginBottom: 0 }}>\n            <div className={`im-live-create-item-btn`} onClick={click}>\n                {text}\n            </div>\n            <a className=\"im-live-create-item-btn-explain\" href={url} target=\"_blank\">\n                <img className=\"im-live-create-item-btn-explain-icon\" src={btnDownIcon} />\n                下载OBS软件\n            </a>\n        </div>\n    )\n}\n\n/** @desc 教程Item */\nexport const ImLiveCreateCourseItem = (props) => {\n    const { img, title, text, urlText, url } = props\n\n    return (\n        <div className=\"im-live-create-course-item\">\n            <img className=\"im-live-create-course-item-img\" src={img} />\n            <div className=\"im-live-create-course-item-title\">{title}</div>\n            <div className=\"im-live-create-course-item-text\">{text}</div>\n            {url && url !== '' && <a className=\"im-live-create-course-item-url\" href={url} target=\"_blank\" >{urlText}</a>}\n        </div>\n    )\n}\n","import React from 'react'\n\nimport './index.scss'\n\nexport default (props) => {\n    const { title, halftitle, textList, onCloseClick, onOkClick, ImageCropper, onComplete, image } = props\n\n    return (\n        <div className=\"im-live-create-cropper-popup\">\n            <div className=\"im-live-create-cropper-popup-title\">{title}</div>\n            <div className=\"im-live-create-cropper-popup-halftitle\">{halftitle}</div>\n            <div className=\"im-live-create-cropper-popup-box\">\n                <div className=\"im-live-create-cropper-popup-left\">\n                    {/* <img className=\"im-live-create-cropper-popup-image\" /> */}\n                    <ImageCropper onComplete={onComplete} image={image} />\n                </div>\n                <div className=\"im-live-create-cropper-popup-right\">\n                    {\n                        textList && textList.map((item, index) => {\n                            return (\n                                <div className=\"im-live-create-cropper-popup-text-item\" key={index}>\n                                    {item}\n                                </div>\n                            )\n                        })\n                    }\n                    <div className=\"im-live-create-cropper-popup-btn-box\">\n                        <div className=\"im-live-create-cropper-popup-btn close\" onClick={onCloseClick}>取消</div>\n                        <div className=\"im-live-create-cropper-popup-btn ok\" onClick={onOkClick}>确定</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux'\nimport moment from 'moment'\n\nimport './index.scss'\n\nimport { uploadImg, getRoomAdd, getRoomLiveList } from '../../redux/actions/live'\nimport Popup from 'multiComps/Popup'\nimport Toast from 'multiComps/Toast'\nimport ImageCropper from 'multiComps/ImageCropper'\nimport { mixUrl, trim } from 'multiPublic'\nimport { ImLiveCreateInputItem, ImLiveCreateTextareaItem, ImLiveCreateBtnItem, ImLiveCreatePictureItem, ImLiveCreateExplainItem, ImLiveDateInputItem, ImLiveCreateCourseItem } from './ImLiveCreateItem'\nimport ImLiveCreateCropperPopup from './ImLiveCreateCropperPopup'\nimport ImLiveControlPopup from '../ImLiveControl/ImLiveControlPopup'\n// import bgIcon from './Image/im-live-create-bg.png'\nimport popupCloseIcon from './Image/im-live-create-popup-close.png'\nimport courseIcon1 from './Image/im-live-create-course1.png'\nimport courseIcon2 from './Image/im-live-create-course2.png'\nimport courseIcon3 from './Image/im-live-create-course3.png'\n\n// 截图弹窗说明\nconst cropperTextList = ['图片格式：JPG、PNG', '文件大小：≦2M', '建议尺寸：1280*720', '图片比例：16:9']\n\n// 协议数据\nconst explainData = [\n    {\n        name: 'MarsBit用户服务协议',\n        url: mixUrl.main('/protocol')\n    }, {\n        name: 'MarsBit直播协议',\n        url: mixUrl.main('/imlive/protocol')\n    }\n]\n\n// MarsBit电脑直播教程\nconst coursUrl = 'https://news.huoxing24.com/20210201154152675262.html'\n\n// obs下载链接\nconst obsUrl = 'https://obsproject.com/zh-cn/download'\n\n// 教程数据\nconst courseData = [\n    {\n        img: courseIcon1,\n        title: '1. 下载与安装OBS软件',\n        text: '在官网下载软件安装包，需要Windows8或者Mac10.13及以上系统'\n    }, {\n        img: courseIcon2,\n        title: '2. 软件设置',\n        text: '设置推流地址与输出码率',\n        urlText: '查看MarsBit电脑直播教程',\n        url: 'https://news.huoxing24.com/20210201154152675262.html'\n    }, {\n        img: courseIcon3,\n        title: '3. 开始直播',\n        text: '设置完成，直播页面点击开始直播'\n    }\n]\n\nexport default () => {\n    const { userInfo } = useSelector((state) => ({\n        userInfo: state.login.userInfo.info\n    }), shallowEqual)\n    const dispatch = useDispatch()\n    const inputVal = useRef() // 直播标题\n    const [inputWrong, setInputWrong] = useState(false) // 是否显示错误\n    // const textareaVal = useRef() // 直播简介\n    const [brief, setBrief] = useState('') // 直播简介\n    const textImg = useRef('') // 直播图片\n    const [imgWrong, setImgWrong] = useState(false) // 是否显示图片错误\n    const [inputFileVal, setInputFileVal] = useState('') // 图片输入框值, 确定取消置空，避免同一张图不触发onChange\n    const [textareaWrong, setTextareaWrong] = useState(false) // 是否显示错误\n    const [imgDataUrl, setImgDataUrl] = useState('') // 上传的图片DataUrl\n    const [imgBolb, setImgBolb] = useState('') // 上传的图片DataUrl\n    const [isUpImg, setIsUpImg] = useState(false) // 是否正在上传图片\n    const [isCropperShow, setIsCropperShow] = useState(false) // 是否打开裁剪弹窗\n    const [timeVal, setTimeVal] = useState(0) // 时间戳\n    const [timeWrong, setTimeWrong] = useState('') // 是否显示时间错误\n    const [isPopShow2, setIsPopShow2] = useState(false) // 已有直播间确认弹窗\n    const [isHaveRoomId, setIsHaveRoomId] = useState('') // 已有直播间RoomId\n\n    useEffect(() => {\n        if (inputWrong === true && inputVal.current.value !== '') {\n            setInputWrong(false)\n        }\n    }, [inputVal.current, inputWrong])\n\n    // 图片地址转换Blob格式\n    // const dataURLtoBlob = (dataurl) => {\n    //     let arr = dataurl.split(',')\n    //     let mime = arr[0].match(/:(.*?);/)[1]\n    //     let bstr = atob(arr[1])\n    //     let n = bstr.length\n    //     let u8arr = new Uint8Array(n)\n    //     while (n--) {\n    //         u8arr[n] = bstr.charCodeAt(n)\n    //     }\n    //     return new Blob([u8arr], { type: mime })\n    // }\n\n    // 选择图片文件\n    const onSetInputFiles = useCallback(\n        (e) => {\n            let file = e.target.files[0] // 获取文件\n            if (window.FileReader) { // 如果浏览器支持FileReader\n                const reader = new FileReader() // 新建一个FileReader对象\n                reader.readAsDataURL(file) // 读取文件url\n                reader.onloadend = (e) => {\n                    setImgDataUrl(e.target.result)\n                    setIsCropperShow(true)\n                }\n            }\n\n            setInputFileVal('')\n        },\n        []\n    )\n\n    // 上传图片事件\n    const coverImgUpload = useCallback(\n        () => {\n            setIsUpImg(true)\n            uploadImg({\n                uploadFile: imgBolb,\n                type: 'news',\n                data: '',\n                watermark: 0\n            }).then((res) => {\n                if (res.code === 1) {\n                    textImg.current = res.obj\n                    setIsCropperShow(false)\n                }\n                setIsUpImg(false)\n            }).catch((err) => {\n                console.log('上传图片失败')\n                setIsUpImg(false)\n                throw err\n            })\n        },\n        [imgBolb, textImg]\n    )\n\n    // 获取直播简介变化\n    const onBriefChange = useCallback(\n        (content) => {\n            setBrief(content)\n        },\n        []\n    )\n\n    // 获取截取图片的Bolb\n    const onComplete = useCallback(\n        (e) => {\n            setImgBolb(e)\n        },\n        []\n    )\n\n    // 获取时间变化\n    const onTimeChange = useCallback(\n        (value) => {\n            if (!value) {\n                setTimeVal('')\n            } else {\n                setTimeVal(value.valueOf())\n            }\n        },\n        []\n    )\n\n    // 点击创建按钮事件\n    const onBtnCreateClick = useCallback(\n        async () => {\n            setInputWrong(inputVal.current.value === '')\n            setTextareaWrong(brief === '' || brief === '<p></p>' || brief === '<p><br></p>')\n            setImgWrong(textImg.current === '')\n            setTimeWrong(timeVal === 0 || timeVal === '')\n            if (isUpImg === true || textImg.current === '' || timeVal === 0 || timeVal === '' || trim(inputVal.current.value) === '' || trim(brief) === '' || brief === '<p></p>' || brief === '<p><br></p>') return\n\n            // 如果所选时间小于此刻时间，直接用此刻时间\n            const time = timeVal < moment().valueOf() ? moment().valueOf() : timeVal\n\n            const liveListData = await dispatch(getRoomLiveList({ passportId: userInfo.passportId, adminCreateFlag: 0, main: true }))\n            if (liveListData.code === 1) {\n                const liveList = liveListData.obj.inforList\n                let isHave = -1\n                for (let i = 0; i < liveList.length; i++) {\n                    const element = liveList[i]\n                    if (parseInt(element.status) !== 2) {\n                        isHave = i\n                        break\n                    }\n                }\n\n                if (isHave !== -1) {\n                    setIsHaveRoomId(liveList[isHave].roomId)\n                    setIsPopShow2(true)\n                    return { customRes: true }\n                }\n            } else {\n                throw Error(liveListData.msg)\n            }\n\n            const roomAddRes = await getRoomAdd({\n                name: inputVal.current.value,\n                brief: brief,\n                passportId: userInfo.passportId,\n                nickName: userInfo.nickName,\n                coverPicUrl: textImg.current,\n                beginTime: time,\n                roomType: 1\n                // displayFlag: 0 // 临时添加：创建不展示的直播间\n            }).catch(function (err) {\n                Toast.info('获取直播间错误')\n                throw err\n            })\n\n            if (roomAddRes.code === 1) {\n                window.location.href = mixUrl.main(`/live/control/${roomAddRes.obj}`)\n            } else {\n                Toast.info(roomAddRes.msg)\n            }\n        },\n        [dispatch, inputVal, isUpImg, textImg, userInfo, brief, timeVal]\n    )\n\n    // 点击关闭裁剪弹窗\n    const onBtnCropperCloseClick = useCallback(\n        () => {\n            setInputFileVal('')\n            setImgDataUrl('')\n            setIsCropperShow(false)\n        },\n        []\n    )\n\n    // 点击已存在直播间按钮\n    const onBtnPopupOKClick2 = useCallback(\n        () => {\n            if (isHaveRoomId !== '') {\n                window.location.href = mixUrl.main(`/live/control/${isHaveRoomId}`)\n            }\n        },\n        [isHaveRoomId]\n    )\n\n    return (\n        <div className=\"im-live-create-page\">\n            <div className=\"im-live-create-page-title-box\">\n                <div className=\"im-live-create-page-title\">创建电脑端直播</div>\n                <div className=\"im-live-create-page-explain-box\">\n                    <div className=\"im-live-create-page-explain\">电脑直播需要OBS软件辅助，手机直播请在MarsBit上开启</div>\n                    <a className=\"im-live-create-page-explain explain2\" href={coursUrl} target=\"_blank\">MarsBit电脑直播教程</a>\n                </div>\n            </div>\n            <div className=\"im-live-create-page-create-box\">\n                <ImLiveCreateInputItem title={'直播标题：'} valRef={inputVal} isWrong={inputWrong} wrongText={'请填写直播标题'} />\n                <ImLiveCreateTextareaItem title={'直播简介：'} brief={brief} onBriefChange={onBriefChange} isWrong={textareaWrong} wrongText={'请填写直播简介'} />\n                <ImLiveCreatePictureItem title={'直播封面：'} src={!textImg.current ? imgDataUrl : textImg.current} inputFileVal={inputFileVal} coverImgUpload={onSetInputFiles} isWrong={imgWrong} wrongText={'请上传直播封面'} />\n                <ImLiveDateInputItem title={'直播日期：'} onTimeChange={onTimeChange} isWrong={timeWrong} wrongText={'请选择直播日期'} />\n                <ImLiveCreateExplainItem data={explainData} />\n                <ImLiveCreateBtnItem text={'创建直播'} click={onBtnCreateClick} url={obsUrl} />\n                {/* <img className=\"im-live-create-page-create-bg\" src={bgIcon} /> */}\n            </div>\n            <div className=\"im-live-create-page-title-box\">\n                <div className=\"im-live-create-page-title\">开启直播教程</div>\n                <div className=\"im-live-create-page-explain-box\">\n                    <div className=\"im-live-create-page-explain\">MarsBit电脑直播需使用OBS或者其他同类型软件辅助，以下教程以OBS软件为例</div>\n                </div>\n            </div>\n            <div className=\"im-live-create-page-course-box\">\n                {\n                    courseData.map((item, index) => {\n                        return (\n                            <ImLiveCreateCourseItem {...item} key={index} />\n                        )\n                    })\n                }\n            </div>\n            <Popup\n                children={\n                    <ImLiveCreateCropperPopup\n                        title={'图片裁剪'}\n                        halftitle={'优秀的封面是获得流量的基础'}\n                        textList={cropperTextList}\n                        onCloseClick={onBtnCropperCloseClick}\n                        onOkClick={coverImgUpload}\n                        ImageCropper={ImageCropper}\n                        onComplete={onComplete}\n                        image={imgDataUrl}\n                    />\n                }\n                show={isCropperShow}\n                close={onBtnCropperCloseClick}\n                closeIcon={popupCloseIcon}\n                closeClassName={'im-live-create-cropper-popup-close '}\n            />\n            <Popup\n                children={\n                    <ImLiveControlPopup\n                        title={'提示'}\n                        text={'您已存在直播间'}\n                        ok={onBtnPopupOKClick2}\n                        okText={'确定'}\n                    />\n                }\n                show={isPopShow2}\n                closeClassName={'im-live-control-popup-close2'}\n            />\n        </div>\n    )\n}\n","import React, { useMemo, Fragment } from 'react'\n\nexport default ({ children, deps = [], wrap = Fragment }) => {\n    // 转换参数为大写开头\n    const Wrap = wrap\n    // 这里由于React 的限制，必须要返回单一节点，因此做了一层包装。\n    // 包装节点可自定义传入一个组件类型\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const comp = useMemo(children, deps)\n    return <Wrap>{comp}</Wrap>\n}\n","import React, { useEffect } from 'react'\nimport './index.scss'\nimport UseMemo from '../../public/hooks/useMemo'\n\nexport default ({\n    children,\n    show,\n    close,\n    closeIcon,\n    closeClassName,\n    wrapperClassName\n}) => {\n    // 显示时让弹出框在最上层\n    // 按项目布局定--只需要layout-content在layout-header,layout-header-auto等外层布局上就好\n    useEffect(() => {\n        const layoutContent = document.querySelector('.layout-content')\n        if (!layoutContent) return\n\n        const zIndexStyle = '; z-index: 10'\n        const removeZindex = () => {\n            const defaultStyle = layoutContent.getAttribute('style')\n            defaultStyle &&\n                defaultStyle.indexOf(zIndexStyle) > -1 &&\n                layoutContent.setAttribute('style', defaultStyle.replace(zIndexStyle, ''))\n        }\n\n        if (show) {\n            const defaultStyle = layoutContent.getAttribute('style')\n            defaultStyle &&\n                defaultStyle.indexOf(zIndexStyle) === -1 &&\n                layoutContent.setAttribute('style', defaultStyle + zIndexStyle)\n        } else {\n            removeZindex()\n        }\n\n        return () => {\n            removeZindex()\n        }\n    }, [show])\n\n    return <UseMemo deps={[children, show, close]}>\n        {() => <div className={`popup-wrapper ${wrapperClassName || ''}`}\n            style={{\n                display: show ? 'flex' : 'none'\n            }}>\n            <div className=\"popup-content\">\n                <img className={`popup-close ${closeClassName || ''}`} src={closeIcon} onClick={close} />\n                {children}\n            </div>\n            <div className=\"popup-mask\" onClick={close}></div>\n        </div>}\n    </UseMemo>\n}\n","import React from 'react'\n\nimport './index.scss'\n\nexport default (props) => {\n    const { title, text, close, ok, okText } = props\n    return (\n        <div className=\"im-live-control-popup\">\n            <div className=\"im-live-control-popup-title\">{title}</div>\n            <div className=\"im-live-control-popup-text\">\n                {text}\n            </div>\n            <div className=\"im-live-control-popup-btn-box\" style={{ justifyContent: close && ok ? 'space-between' : 'center' }}>\n                {close && <div className=\"im-live-control-popup-btn close\" onClick={close}>取消</div>}\n                {ok && <div className=\"im-live-control-popup-btn ok\" onClick={ok}>{okText}</div>}\n            </div>\n        </div>\n    )\n}\n","module.exports = __webpack_public_path__ + \"im-live-create-down-6f6d353d.png\";","module.exports = __webpack_public_path__ + \"im-live-create-add-d14060e5.png\";","module.exports = __webpack_public_path__ + \"im-live-create-date-a9886975.png\";","module.exports = __webpack_public_path__ + \"im-live-create-popup-close-d56650a0.png\";","module.exports = __webpack_public_path__ + \"im-live-create-course1-359e473e.png\";","module.exports = __webpack_public_path__ + \"im-live-create-course2-dcd98fa7.png\";","module.exports = __webpack_public_path__ + \"im-live-create-course3-34dcdab5.png\";"],"sourceRoot":""}