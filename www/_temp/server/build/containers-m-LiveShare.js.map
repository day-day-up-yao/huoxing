{"version":3,"sources":["webpack:///./assets/containers-m/LiveShare/LiveInfo/index.jsx","webpack:///./assets/containers-m/LiveShare/HotLiveroom/LiveRoomItem/index.jsx","webpack:///./assets/containers-m/LiveShare/HotLiveroom/index.jsx","webpack:///./assets/containers-m/LiveShare/LiveroomDesc/index.js","webpack:///./assets/containers-m/LiveShare/LiveroomVideo/index.jsx","webpack:///./assets/containers-m/LiveShare/NostartButton/index.jsx","webpack:///./assets/containers-m/LiveShare/LiveGuestInfo/LiveGuestItem/Profile/index.jsx","webpack:///./assets/containers-m/LiveShare/LiveGuestInfo/LiveGuestItem/index.jsx","webpack:///./assets/containers-m/LiveShare/LiveGuestInfo/index.jsx","webpack:///./assets/containers-m/LiveShare/index.jsx","webpack:///./_multiappsharing/public/img/v-orange.svg","webpack:///./_multiappsharing/public/img/v-blue.svg","webpack:///./assets/public/hooks/useLiveGather.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/index.js","webpack:///./_multiappsharing/public/hooks/useAppDownload.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/images/wechat-download-tips.png","webpack:///./_multiappsharing/components-m/DownloadBtn/index.js","webpack:///./_multiappsharing/components-m/DownloadBtn/images/cellphone-icon.png","webpack:///./assets/public/hooks/useTWebLivePlayer.js","webpack:///./assets/public/hooks/useTWebLiveIm.js","webpack:///./_multiappsharing/components-m/Layout/FooterDownload/index.js","webpack:///./_multiappsharing/components-m/Layout/FooterDownload/img/m-share-logo.png","webpack:///./assets/containers-m/LiveShare/HotLiveroom/Image/im-live-list-item-status.gif","webpack:///./assets/containers-m/LiveShare/HotLiveroom/Image/im-live-list-item-status2.png","webpack:///./assets/containers-m/LiveShare/LiveInfo/images/live-share-guest-blue.png","webpack:///./assets/containers-m/LiveShare/LiveInfo/images/live-share-guest-yellow.png","webpack:///./assets/containers-m/LiveShare/LiveroomDesc/images/arrow-img.png"],"names":["props","presenter","presenterList","Array","isArray","presenterGrade","vGrade","gradeBlue","gradeYellow","playNum","pop","popularity","name","status","beginTime","playNumText","toFixed","IconStatus","IconStatus2","iconUrl","nickName","formatTime","itemType","roomId","coverPicUrl","id","publishTime","href","undefined","mixUrl","main","listData","display","length","map","item","index","LiveroomDesc","onCheckboxChange","setState","showAll","state","__html","brief","arrowImg","Component","useSelector","room","live","userInfo","login","info","shallowEqual","useState","paddingTop","style","setStyle","useTWebLivePlayer","elementID","player","setMutedBtnShow","mutedBtnShow","dispatch","useDispatch","timeImLogin","useRef","timeImJoin","onTextMessageReceived","event","data","elementItem","type","payload","operationType","getRoomByID","setImJoin","useTWebLiveIm","createIM","getImLogin","joinImRoom","im","imReady","imLogin","imJoin","useEffect","passportId","md5","uuid","substring","current","clearInterval","setInterval","timer","window","videoStyle","useCallback","roomType","width","margin","time","timeZero","num","Number","d","h","m","s","authorInfo","iconHide","authStyle","authName","parseInt","vOrange","vBlue","nickname","userType","introduce","guestList","roomData","popularityList","roomLiveRecommendList","inforList","livelinkid","match","params","useTranslation","t","liveState","setLiveState","countTime","setCountTime","getCountTimeText","nowTime","Date","getTime","endTime","leftTime","obj","Math","floor","setTimeout","isBoxShow","setIsBoxShow","changeBoxShow","boxShow","background","eventId","eventInfo","gatherLive","openInBrowser","setOpenInBrowser","tipsImg","checkOpen","callback","_clickTime","_count","intHandle","elsTime","document","hidden","webkitHidden","console","log","iosUrl","andUrl","openApp","url","doNotDownload","location","isIos","isAndroid","appDownload","isWechat","getAndroidDownloadUrl","then","res","code","Toast","msg","err","iphonex","setIphonex","useAppDownload","clickDownload","isIphoneX","phoneIcon","commentStyle","color","fontSize","textShadow","roomHistoryList","setPlayer","querySelector","removeAttribute","video","muted","startPlay","mobileoptions","poster","height","pip","screenShot","autoplay","lang","playsinline","ignores","options","rotate","innerRotate","clockwise","pipConfig","bottom","right","controls","danmu","comments","area","start","end","isPc","playbackRate","defaultPlaybackRate","commentsArray","val","push","mode","duration","updateTime","txt","content","cssFullscreen","fileExtension","require","replace","HlsJsPlayer","Player","isAutoplaySupported","supported","once","setAttribute","play","livePlayer","livePush","liveGather","on","action","roomStatus","onbeforeunload","oldRoomStatus","setOldRoomStatus","playingUrl","webPullStreamUrl","pullStreamUrl","indexOf","split","playbackUrl","recordVideoUrl","destroy","getRoomPopularity","roomIDs","body","onclick","setIm","setImReady","setImLogin","setTextMessageReceived","TWebLive","SDKAppID","onIMReady","onSdkNotReady","onCustomMessageReceived","forEach","message","from","nick","text","onRemoteUserJoin","userIDList","onRemoteUserLeave","onKickedOut","onNetStateChange","onPushStopped","EVENT","IM_READY","IM_NOT_READY","IM_REMOTE_USER_JOIN","IM_REMOTE_USER_LEAVE","IM_KICKED_OUT","IM_NET_STATE_CHANGED","IM_PUSH_STOPPED","_tim","TIM","MESSAGE_RECEIVED","axios","sigRes","userID","userSig","imResponse","imError","warn","enterRoom","TYPES","ENTER_ROOM_SUCCESS","ALREADY_IN_ROOM","mLogo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEe,uDAACA,KAAD,EAAW;AACtB,MAAMC,SAAS,GAAID,KAAK,CAACE,aAAN,IAAuBC,KAAK,CAACC,OAAN,CAAcJ,KAAK,CAACE,aAApB,CAAvB,IAA6DF,KAAK,CAACE,aAAN,CAAoB,CAApB,CAA9D,IAAyF,EAA3G;AACA,MAAMG,cAAc,GAAG,YAAYJ,SAAZ,KAA2BA,SAAS,CAACK,MAAV,KAAqB,CAArB,IAA0BL,SAAS,CAACK,MAAV,KAAqB,CAAhD,GAC3CC,+BAD2C,GAE3CN,SAAS,CAACK,MAAV,KAAqB,CAArB,GACIE,iCADJ,GAEI,IAJa,CAAvB;AAKA,MAAIC,OAAO,GAAGT,KAAK,CAACU,GAAN,CAAUC,UAAV,GAAuBX,KAAK,CAACU,GAAN,CAAUC,UAAjC,GAA8CX,KAAK,CAACW,UAAlE;AAPsB,MASlBC,IATkB,GAYlBZ,KAZkB,CASlBY,IATkB;AAAA,MAUlBC,MAVkB,GAYlBb,KAZkB,CAUlBa,MAVkB;AAAA,MAWlBC,SAXkB,GAYlBd,KAZkB,CAWlBc,SAXkB;AAatB,MAAIC,WAAW,GAAGN,OAAlB;;AACA,MAAIA,OAAO,GAAG,OAAd,EAAuB;AACnBM,eAAW,GAAG,QAAd;AACH,GAFD,MAEO,IAAIA,WAAW,GAAG,KAAlB,EAAyB;AAC5BA,eAAW,aAAM,CAACA,WAAW,GAAG,KAAf,EAAsBC,OAAtB,CAA8B,CAA9B,CAAN,WAAX;AACH;;AAED,SAAO;AAAK,aAAS,EAAC;AAAf,KACH;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAM,aAAS,uCAAgCH,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,QAAzB,GAAqCA,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,QAAzB,GAAoC,OAAzG;AAAf,KACKA,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB;AAAK,OAAG,EAAEI,kCAAUA;AAApB,IAAzB,GAAqDJ,MAAM,IAAIA,MAAM,KAAK,CAAtB,GAA2B;AAAK,OAAG,EAAEK,mCAAWA;AAArB,IAA3B,GAAuD,EADhH,EAEI,mDAAKL,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,KAAzB,GAAkCA,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,KAAzB,GAAiC,MAAxE,CAFJ,CADJ,EAKI;AAAK,aAAS,EAAC;AAAf,KAAwBD,IAAxB,CALJ,CADJ,EAQKC,MAAM,GAAG;AAAK,aAAS,EAAC;AAAf,KACN;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KAAwB;AAAK,OAAG,EAAEZ,SAAS,CAACkB;AAApB,IAAxB,CADJ,EAEI;AAAK,aAAS,EAAC;AAAf,KAAuBlB,SAAS,CAACmB,QAAjC,CAFJ,EAGKf,cAAc,IAAI;AAAK,aAAS,EAAC;AAAf,KAAuB;AAAK,OAAG,EAAEA;AAAV,IAAvB,CAHvB,CADM,EAMN;AAAK,aAAS,EAAC;AAAf,uCAAyC,qDAAOU,WAAP,CAAzC,CANM,CAAH,GAOE;AAAK,aAAS,EAAC;AAAf,uCAAiCM,qDAAU,CAACP,SAAD,EAAY,kBAAZ,CAA3C,CAfb,CADG,CAAP;AAmBH,CAvCD,E;;;;;;;;ACTA;AAEA;AAEA;AAEA;AACA;AAEe,2DAACd,KAAD,EAAW;AAAA,MAElBsB,QAFkB,GAWlBtB,KAXkB,CAElBsB,QAFkB;AAAA,MAGlBC,MAHkB,GAWlBvB,KAXkB,CAGlBuB,MAHkB;AAAA,MAIlBV,MAJkB,GAWlBb,KAXkB,CAIlBa,MAJkB;AAAA,MAKlBF,UALkB,GAWlBX,KAXkB,CAKlBW,UALkB;AAAA,MAMlBa,WANkB,GAWlBxB,KAXkB,CAMlBwB,WANkB;AAAA,MAQlBZ,IARkB,GAWlBZ,KAXkB,CAQlBY,IARkB;AAAA,MASlBa,EATkB,GAWlBzB,KAXkB,CASlByB,EATkB;AAAA,MAUlBC,WAVkB,GAWlB1B,KAXkB,CAUlB0B,WAVkB;AAatB,MAAIjB,OAAO,GAAGE,UAAU,IAAIA,UAAU,KAAK,EAA7B,GAAkCA,UAAlC,GAA+C,CAA7D;AACA,MAAII,WAAW,aAAMN,OAAN,kBAAf;;AACA,MAAIA,OAAO,GAAG,OAAd,EAAuB;AACnBM,eAAW,8BAAX;AACH,GAFD,MAEO,IAAIN,OAAO,GAAG,KAAd,EAAqB;AACxBM,eAAW,aAAM,CAACN,OAAO,GAAG,KAAX,EAAkBO,OAAlB,CAA0B,CAA1B,CAAN,wBAAX;AACH;;AACD,MAAMW,IAAI,GAAGL,QAAQ,KAAKM,SAAb,IAA0BN,QAAQ,KAAK,SAAvC,GAAmDO,yCAAM,CAACC,IAAP,yBAA6BL,EAA7B,cAAmCC,WAAnC,EAAnD,GAAuGG,yCAAM,CAACC,IAAP,sBAA0BP,MAA1B,EAApH;AAEA,SACI;AAAG,aAAS,gDAAyCD,QAAzC,CAAZ;AAAiE,QAAI,EAAEK,IAAvE;AAA6E,UAAM,EAAC;AAApF,KACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC,6BAAf;AAA6C,OAAG,EAAEH;AAAlD,IADJ,EAEKF,QAAQ,KAAKM,SAAb,IAA0BN,QAAQ,KAAK,SAAvC,GAAmD,IAAnD,GACK;AAAK,aAAS,EAAC;AAAf,KACE;AAAK,aAAS,mDAA4CT,MAAM,IAAIA,MAAM,KAAK,EAArB,GAA0BA,MAA1B,GAAmC,GAA/E;AAAd,KACKA,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB;AAAK,aAAS,EAAC,uCAAf;AAAuD,OAAG,EAAEI,kCAAUA;AAAtE,IAAzB,GAAuGJ,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,EAAzB,GAA8B;AAAK,aAAS,EAAC,uCAAf;AAAuD,OAAG,EAAEK,mCAAWA;AAAvE,IAD1I,EAEKL,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,KAAzB,GAAkCA,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB,KAAzB,GAAiC,MAFxE,CADF,EAKGA,MAAM,IAAIA,MAAM,KAAK,CAArB,GAAyB;AAAK,aAAS,EAAC;AAAf,KACrBE,WADqB,CAAzB,GAEQ,IAPX,CAHV,EAaKO,QAAQ,KAAK,MAAb,IAAuBA,QAAQ,KAAK,MAApC,GACK;AAAK,aAAS,EAAC;AAAf,KACE;AAAK,aAAS,EAAC;AAAf,KACKV,IADL,CADF,CADL,GAKY,IAlBjB,CADJ,EAsBKU,QAAQ,KAAKM,SAAb,IAA0BN,QAAQ,KAAK,SAAvC,IAAoDA,QAAQ,KAAK,QAAjE,IAA6EA,QAAQ,KAAK,MAA1F,GACK;AAAK,aAAS,EAAC;AAAf,KACGV,IADH,CADL,GAGY,IAzBjB,CADJ;AA8BH,CApDD,E;;;ACTA;AACA;AAEA;AAEe,0DAACZ,KAAD,EAAW;AAAA,MAElB+B,QAFkB,GAGlB/B,KAHkB,CAElB+B,QAFkB;AAItB,SACI;AAAK,aAAS,EAAC,UAAf;AAA0B,SAAK,EAAE;AAAEC,aAAO,EAAED,QAAQ,CAACE,MAAT,GAAkB,CAAlB,GAAsB,OAAtB,GAAgC;AAA3C;AAAjC,KACI;AAAK,aAAS,EAAC;AAAf,KAEQF,QAAQ,IAAIA,QAAQ,CAACE,MAAT,GAAkB,CAA9B,IAAmCF,QAAQ,CAACG,GAAT,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC7D,WACI;AAAK,eAAS,EAAC;AAAf,OAAqC,uCAAC,YAAD,wBAAkBD,IAAlB;AAAwB,SAAG,EAAEC;AAA7B,OAArC,CADJ;AAGH,GAJkC,CAF3C,CADJ,CADJ;AAaH,CAjBD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;;IAEMC,yB;;;;;AACF,wBAAarC,KAAb,EAAoB;AAAA;;AAAA;;AAChB,wGAAMA,KAAN;;AADgB,UAOpBsC,gBAPoB,GAOD,YAAM;AACrB,YAAKC,QAAL,CAAc;AAAEC,eAAO,EAAE;AAAX,OAAd;AACH,KATmB;;AAEhB,UAAKC,KAAL,GAAa;AACTD,aAAO,EAAE;AADA,KAAb;AAFgB;AAKnB;;;;6BAKS;AAAA,UACEA,OADF,GACc,KAAKC,KADnB,CACED,OADF;AAEN,aACI;AAAK,iBAAS,EAAC;AAAf,SACI;AAAK,iBAAS,EAAC;AAAf,SACI;AAAO,YAAI,EAAC,UAAZ;AAAuB,UAAE,EAAC,SAA1B;AAAoC,gBAAQ,EAAE,KAAKF,gBAAnD;AAAqE,eAAO,EAAEE,OAA9E;AAAuF,iBAAS,EAAC;AAAjG,QADJ,EAEI;AAAK,UAAE,EAAC;AAAR,SACI;AAAK,iBAAS,EAAC,aAAf;AAA6B,+BAAuB,EAAE;AAAEE,gBAAM,EAAE,KAAK1C,KAAL,CAAW2C;AAArB;AAAtD,QADJ,CAFJ,EAKI;AAAK,iBAAS,EAAC;AAAf,SAA8B;AAAK,iBAAS,EAAC;AAAf,QAA9B,EAA8D;AAAO,eAAO,EAAC,SAAf;AAAyB,iBAAS,EAAC;AAAnC,qCAAkD;AAAK,iBAAS,EAAC,OAAf;AAAuB,WAAG,EAAEC,mBAAQA;AAApC,QAAlD,CAA9D,CALJ,CADJ,CADJ;AAWH;;;;EAxBsBC,4B;;AA2BZR,oFAAf,E;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEe,8DAAM;AAAA,qBACUS,4CAAW,CAAC,UAACL,KAAD;AAAA,WAAY;AAC/CM,UAAI,EAAEN,KAAK,CAACO,IAAN,CAAWD,IAD8B;AAE/CE,cAAQ,EAAER,KAAK,CAACS,KAAN,CAAYD,QAAZ,CAAqBE;AAFgB,KAAZ;AAAA,GAAD,EAGlCC,qCAHkC,CADrB;AAAA,MACTL,IADS,gBACTA,IADS;AAAA,MACHE,QADG,gBACHA,QADG;;AAAA,kBAKSI,mCAAQ,CAAC;AAAEC,cAAU,EAAE;AAAd,GAAD,CALjB;AAAA;AAAA,MAKVC,KALU;AAAA,MAKHC,QALG;;AAAA,2BAUbC,4CAAiB,CAAC;AAAEC,aAAS,EAAE;AAAb,GAAD,CAVJ;AAAA,MAObC,MAPa,sBAObA,MAPa;AAAA,MAQbC,eARa,sBAQbA,eARa;AAAA,MASbC,YATa,sBASbA,YATa;;AAWjB,MAAMC,QAAQ,GAAGC,4CAAW,EAA5B;AACA,MAAMC,WAAW,GAAGC,iCAAM,EAA1B;AACA,MAAMC,UAAU,GAAGD,iCAAM,EAAzB;;AAEA,MAAME,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,KAAD,EAAW;AACrC,QAAI,CAACA,KAAD,IAAU,CAACA,KAAK,CAACC,IAAjB,IAAyB,CAACjE,kDAAO,CAACgE,KAAK,CAACC,IAAP,CAArC,EAAmD;AACnDD,SAAK,CAACC,IAAN,CAAWnC,GAAX,CAAe,UAACoC,WAAD,EAAiB;AAC5B,UAAI,CAACA,WAAW,CAACC,IAAjB,EAAuB;;AACvB,cAAQD,WAAW,CAACC,IAApB;AACI,aAAK,0BAAL;AACI,cAAI,CAACD,WAAW,CAACE,OAAjB,EAA0B;;AAC1B,cAAIF,WAAW,CAACE,OAAZ,CAAoBC,aAApB,IAAqCH,WAAW,CAACE,OAAZ,CAAoBC,aAApB,KAAsC,CAA/E,EAAkF;AAC9E;AACAX,oBAAQ,CAACY,mCAAW,CAAC;AAAEnD,oBAAM,EAAEwB,IAAI,CAACxB;AAAf,aAAD,CAAZ,CAAR;AACAoD,qBAAS,CAAC,KAAD,CAAT;AACH;;AACD;;AACJ;AACI;AAVR;AAYH,KAdD;AAeH,GAjBD;;AAfiB,uBAkCqEC,wCAAa,EAlClF;AAAA,MAkCTC,QAlCS,kBAkCTA,QAlCS;AAAA,MAkCCC,UAlCD,kBAkCCA,UAlCD;AAAA,MAkCaC,UAlCb,kBAkCaA,UAlCb;AAAA,MAkCyBJ,SAlCzB,kBAkCyBA,SAlCzB;AAAA,MAkCoCK,EAlCpC,kBAkCoCA,EAlCpC;AAAA,MAkCwCC,OAlCxC,kBAkCwCA,OAlCxC;AAAA,MAkCiDC,OAlCjD,kBAkCiDA,OAlCjD;AAAA,MAkC0DC,MAlC1D,kBAkC0DA,MAlC1D,EAoCjB;;;AACAC,sCAAS,CAAC,YAAM;AACZ,QAAIrC,IAAI,CAAClC,MAAL,KAAgB,CAApB,EAAuB;AACvBgE,YAAQ,CAACV,qBAAD,CAAR;AACH,GAHQ,EAGN,CAACpB,IAAI,CAAClC,MAAN,CAHM,CAAT,CArCiB,CA0CjB;;AACAuE,sCAAS,CAAC,YAAM;AACZ,QAAI,CAACJ,EAAL,EAAS,OADG,CAEZ;;AACA,QAAMK,UAAU,GAAG,CAACpC,QAAQ,CAACoC,UAAV,GAAuBC,8BAAG,CAACC,+CAAI,EAAL,CAAH,CAAYC,SAAZ,CAAsB,CAAtB,EAAyB,EAAzB,CAAvB,GAAsDvC,QAAQ,CAACoC,UAAlF;AACAP,cAAU,CAACO,UAAD,CAAV;AACH,GALQ,EAKN,CAACL,EAAD,EAAK/B,QAAL,CALM,CAAT,CA3CiB,CAiDjB;;AACAmC,sCAAS,CAAC,YAAM;AACZ,QAAIpB,WAAW,CAACyB,OAAhB,EAAyB;AACrBC,mBAAa,CAAC1B,WAAW,CAACyB,OAAb,CAAb;AACAzB,iBAAW,CAACyB,OAAZ,GAAsB,IAAtB;AACH;;AAED,QAAIR,OAAJ,EAAa;AACT,UAAI,CAACC,OAAD,IAAYnC,IAAI,CAAClC,MAAL,KAAgB,CAAhC,EAAmC;AAC/BmD,mBAAW,CAACyB,OAAZ,GAAsBE,WAAW,CAAC,YAAM;AACpC;AACA,cAAMN,UAAU,GAAG,CAACpC,QAAQ,CAACoC,UAAV,GAAuBC,8BAAG,CAACC,+CAAI,EAAL,CAAH,CAAYC,SAAZ,CAAsB,CAAtB,EAAyB,EAAzB,CAAvB,GAAsDvC,QAAQ,CAACoC,UAAlF;AACAP,oBAAU,CAACO,UAAD,CAAV;AACH,SAJgC,EAI9B,KAJ8B,CAAjC;AAKH,OAND,MAMO;AACHK,qBAAa,CAAC1B,WAAW,CAACyB,OAAb,CAAb;AACAzB,mBAAW,CAACyB,OAAZ,GAAsB,IAAtB;AACAV,kBAAU,CAAChC,IAAI,CAACxB,MAAN,CAAV;AACH;AACJ;;AAED,WAAO,YAAM;AACTmE,mBAAa,CAAC1B,WAAW,CAACyB,OAAb,CAAb;AACH,KAFD;AAGH,GAvBQ,EAuBN,CAACR,OAAD,EAAUC,OAAV,EAAmBjC,QAAnB,EAA6BF,IAAI,CAAClC,MAAlC,CAvBM,CAAT,CAlDiB,CA0EjB;;AACAuE,sCAAS,CAAC,YAAM;AACZ,QAAIlB,UAAU,CAACuB,OAAf,EAAwB;AACpBC,mBAAa,CAACxB,UAAU,CAACuB,OAAZ,CAAb;AACAvB,gBAAU,CAACuB,OAAX,GAAqB,IAArB;AACH;;AACD,QAAI,CAACN,MAAD,IAAWpC,IAAI,CAAClC,MAAL,KAAgB,CAA/B,EAAkC;AAC9BqD,gBAAU,CAACuB,OAAX,GAAqBE,WAAW,CAAC,YAAM;AACnCZ,kBAAU,CAAChC,IAAI,CAACxB,MAAN,CAAV;AACH,OAF+B,EAE7B,KAF6B,CAAhC;AAGH,KAJD,MAIO;AACHmE,mBAAa,CAACxB,UAAU,CAACuB,OAAZ,CAAb;AACAvB,gBAAU,CAACuB,OAAX,GAAqB,IAArB;AACH;;AAED,WAAO,YAAM;AACTC,mBAAa,CAACxB,UAAU,CAACuB,OAAZ,CAAb;AACAvB,gBAAU,CAACuB,OAAX,GAAqB,IAArB;AACH,KAHD;AAIH,GAlBQ,EAkBN,CAAC1C,IAAI,CAAClC,MAAN,EAAcsE,MAAd,CAlBM,CAAT;AAoBAC,sCAAS,CAAC,YAAM;AACZ,QAAMQ,KAAK,GAAGD,WAAW,CAAC,YAAM;AAC5B,UAAI,OAAOE,MAAP,KAAkB,WAAlB,IAAiClC,MAArC,EAA6C;AACzCH,gBAAQ,CAACsC,UAAU,EAAX,CAAR;AACAJ,qBAAa,CAACE,KAAD,CAAb;AACH;AACJ,KALwB,EAKtB,GALsB,CAAzB;AAMA,WAAO,YAAM;AACTF,mBAAa,CAACE,KAAD,CAAb;AACH,KAFD;AAGH,GAVQ,EAUN,CAACjC,MAAD,CAVM,CAAT;AAWA,MAAMmC,UAAU,GAAGC,sCAAW,CAAC,YAAM;AACjC;AACA,QAAIhD,IAAI,CAACiD,QAAL,KAAkB,CAAtB,EAAyB,OAAO;AAAEC,WAAK,EAAE,KAAT;AAAgBC,YAAM,EAAE;AAAxB,KAAP;AACzB,QAAInD,IAAI,CAACiD,QAAL,KAAkB,CAAtB,EAAyB,OAAO;AAAE1C,gBAAU,EAAE;AAAd,KAAP;AAC5B,GAJ6B,EAI3B,CAACP,IAAI,CAACiD,QAAN,CAJ2B,CAA9B;AAKA,SAAO;AAAK,aAAS,EAAC;AAAf,KACH;AAAK,aAAS,EAAC,eAAf;AAA+B,SAAK,6BAAOzC,KAAP;AAApC,KACI;AAAK,MAAE,EAAC,eAAR;AAAwB,aAAS,YAAKR,IAAI,IAAIA,IAAI,CAACiD,QAAL,KAAkB,CAA1B,GAA8B,UAA9B,GAA2C,YAAhD;AAAjC,IADJ,EAEI;AAAK,aAAS,+BAAwBjD,IAAI,IAAIA,IAAI,CAACiD,QAAL,KAAkB,CAA1B,GAA8B,QAA9B,GAAyC,IAAjE,CAAd;AAAwF,SAAK,EAAE;AAAEhE,aAAO,EAAE6B,YAAY,GAAG,OAAH,GAAa;AAApC,KAA/F;AAA6I,WAAO,EAAE,mBAAM;AACxJ,UAAI,CAACF,MAAL,EAAa;AACbC,qBAAe,CAAC,KAAD,CAAf;AACH;AAHD,KAII,8FAJJ,CAFJ,CADG,CAAP;AAWH,CA1HD,E;;ACXA;AACA;AAEe,4DAAC5D,KAAD,EAAW;AAAA,MAElBmG,IAFkB,GAGlBnG,KAHkB,CAElBmG,IAFkB;;AAItB,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAS;AACtB,QAAIC,MAAM,CAACD,GAAD,CAAN,GAAc,EAAlB,EAAsB;AAClB,wBAAWA,GAAX;AACH,KAFD,MAEO;AACH,aAAOA,GAAP;AACH;AACJ,GAND;;AAOA,SACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,6CAEMD,QAAQ,CAACD,IAAI,CAACI,CAAN,CAAR,IAAoBJ,IAAI,CAACI,CAAL,KAAW,CAAhC,IAAsC,qDAAOJ,IAAI,CAACI,CAAZ,WAF3C,EAGKH,QAAQ,CAACD,IAAI,CAACK,CAAN,CAAR,IAAoB,qDAAOL,IAAI,CAACK,CAAZ,WAHzB,EAIKJ,QAAQ,CAACD,IAAI,CAACM,CAAN,CAAR,IAAoB,qDAAON,IAAI,CAACM,CAAZ,WAJzB,EAKKL,QAAQ,CAACD,IAAI,CAACO,CAAN,CAAR,IAAoB,qDAAOP,IAAI,CAACO,CAAZ,WALzB,CADJ,CADJ;AAWH,CAtBD,E;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;AACe,sDAAC1G,KAAD,EAAW;AAAA,MACd2G,UADc,GACW3G,KADX,CACd2G,UADc;AAAA,MACFC,QADE,GACW5G,KADX,CACF4G,QADE;AAEtB,MAAIC,SAAS,GAAG,IAAhB;AACA,MAAIC,QAAQ,GAAG,MAAf;;AACA,UAAQC,QAAQ,CAACJ,UAAU,CAACrG,MAAZ,CAAhB;AACI,SAAK,CAAL;AACIwG,cAAQ,GAAG,MAAX;AACA;;AACJ,SAAK,CAAL;AACID,eAAS,GAAGG,kBAAZ;AACAF,cAAQ,GAAG,gBAAX;AACA;;AACJ,SAAK,CAAL;AACID,eAAS,GAAGI,gBAAZ;AACAH,cAAQ,GAAG,gBAAX;AACA;;AACJ,SAAK,CAAL;AACID,eAAS,GAAGI,gBAAZ;AACAH,cAAQ,GAAG,gBAAX;AACA;;AACJ;AACIA,cAAQ,GAAG,MAAX;AAjBR;;AAmBA,SAAO;AAAK,aAAS,EAAC;AAAf,KACH;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC,2BAAf;AAA2C,OAAG,EAAEH,UAAU,CAACxF,OAA3D;AAAoE,OAAG,EAAEwF,UAAU,CAACO;AAApF,IADJ,EAEKL,SAAS,IAAI,CAACD,QAAd,IAA0B;AAAM,SAAK,EAAEE,QAAb;AAAuB,aAAS,EAAC;AAAjC,KACvB;AAAK,aAAS,EAAC,gBAAf;AAAgC,OAAG,EAAED,SAArC;AAAgD,OAAG,EAAEF,UAAU,CAACvF;AAAhE,IADuB,CAF/B,CADG,EAOH;AAAK,aAAS,EAAC;AAAf,KACI;AAAG,aAAS,EAAC;AAAb,KACI,qDAAOuF,UAAU,CAACvF,QAAlB,EACI;AAAM,aAAS,EAAC;AAAhB,KACKuF,UAAU,CAACQ,QAAX,KAAwB,CAAxB,GAA4B;AAAM,aAAS,EAAC;AAAhB,oBAA5B,GAAqE;AAAM,aAAS,EAAC;AAAhB,oBAD1E,CADJ,CADJ,CADJ,EAQI;AAAG,aAAS,EAAC;AAAb,KACKR,UAAU,CAACS,SADhB,CARJ,CAPG,CAAP;AAoBH,CA3CD,E;;ACLA;AACA;AACA;AACe,4DAACpH,KAAD,EAAW;AACtB,SACI;AAAK,aAAS,EAAC;AAAf,KACI,uCAAC,OAAD;AAAS,cAAU,EAAEA;AAArB,IADJ,CADJ;AAKH,CAND,E;;;ACHA;AACA;AACA;AAEe,4DAACA,KAAD,EAAW;AAAA,MAElBqH,SAFkB,GAIlBrH,KAJkB,CAElBqH,SAFkB;AAAA,MAGlBnH,aAHkB,GAIlBF,KAJkB,CAGlBE,aAHkB;AAKtB,SAAQ;AAAK,aAAS,EAAC;AAAf,KAEAA,aAAa,IAAIA,aAAa,CAAC+B,MAAd,GAAuB,CAAxC,IAA6C/B,aAAa,CAACgC,GAAd,CAAkB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC5E,WACI;AAAK,eAAS,EAAC;AAAf,OACI,uCAAC,aAAD,wBAAmBD,IAAnB;AAAyB,SAAG,EAAEC;AAA9B,OADJ,CADJ;AAKH,GAN4C,CAF7C,EAUHiF,SAAS,IAAIA,SAAS,CAACpF,MAAV,GAAmB,CAAhC,IAAqCoF,SAAS,CAACnF,GAAV,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACjE,WACI;AAAK,eAAS,EAAC;AAAf,OACI,uCAAC,aAAD,wBAAmBD,IAAnB;AAAyB,SAAG,EAAEC;AAA9B,OADJ,CADJ;AAKH,GANqC,CAVlC,CAAR;AAkBH,CAvBD,E;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,yFAACpC,KAAD,EAAW;AAAA,qBACsC8C,4CAAW,CAAC,UAACL,KAAD;AAAA,WAAY;AAChF6E,cAAQ,EAAE7E,KAAK,CAACO,IAAN,CAAWD,IAD2D;AAEhFwE,oBAAc,EAAE9E,KAAK,CAACO,IAAN,CAAWuE,cAFqD;AAGhFC,2BAAqB,EAAE/E,KAAK,CAACO,IAAN,CAAWwE,qBAAX,CAAiCC;AAHwB,KAAZ;AAAA,GAAD,EAInErE,qCAJmE,CADjD;AAAA,MACdkE,QADc,gBACdA,QADc;AAAA,MACJC,cADI,gBACJA,cADI;AAAA,MACYC,qBADZ,gBACYA,qBADZ;;AAMtB,MAAME,UAAU,GAAG1H,KAAK,CAAC2H,KAAN,CAAYC,MAAZ,CAAmBrG,MAAtC;;AANsB,wBAORsG,iDAAc,EAPN;AAAA,MAOdC,CAPc,mBAOdA,CAPc,EAQtB;;;AARsB,kBASYzE,mCAAQ,CAACiE,QAAQ,CAACzG,MAAV,CATpB;AAAA;AAAA,MASfkH,SATe;AAAA,MASJC,YATI;;AAAA,mBAUY3E,mCAAQ,CAAC;AACvCkD,KAAC,EAAE,CADoC;AAEvCC,KAAC,EAAE,CAFoC;AAGvCC,KAAC,EAAE,CAHoC;AAIvCC,KAAC,EAAE;AAJoC,GAAD,CAVpB;AAAA;AAAA,MAUfuB,SAVe;AAAA,MAUJC,YAVI;;AAgBtB,MAAMC,gBAAgB,GAAGpC,sCAAW,CAAC,YAAM;AACvC,QAAIqC,OAAO,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAd;AACA,QAAIC,OAAO,GAAGjC,MAAM,CAACgB,QAAQ,CAACxG,SAAV,CAApB;AACA,QAAI0H,QAAQ,GAAGD,OAAO,GAAGH,OAAzB;AACA,QAAIK,GAAG,GAAG;AACNlC,OAAC,EAAE,CADG;AAENC,OAAC,EAAE,CAFG;AAGNC,OAAC,EAAE,CAHG;AAINC,OAAC,EAAE;AAJG,KAAV;;AAMA,QAAI8B,QAAQ,IAAI,CAAhB,EAAmB;AACfC,SAAG,CAAClC,CAAJ,GAAQmC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAAlB,GAAuB,EAAvB,GAA4B,EAAvC,CAAR;AACAC,SAAG,CAACjC,CAAJ,GAAQkC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAAlB,GAAuB,EAAvB,GAA4B,EAAvC,CAAR;AACAC,SAAG,CAAChC,CAAJ,GAAQiC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAAlB,GAAuB,EAAlC,CAAR;AACAC,SAAG,CAAC/B,CAAJ,GAAQgC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAA7B,CAAR;AACH,KALD,MAKO,CACH;AACH;;AAEDN,gBAAY,CAACO,GAAD,CAAZ;;AAEA,QAAInB,QAAQ,CAACzG,MAAT,KAAoB,CAAxB,EAA2B;AACvB+H,gBAAU,CAACT,gBAAD,EAAmB,IAAnB,CAAV;AACH;AACJ,GAxBmC,EAwBjC,EAxBiC,CAApC;;AAhBsB,mBAyCY9E,mCAAQ,CAAC,CAAD,CAzCpB;AAAA;AAAA,MAyCfwF,SAzCe;AAAA,MAyCJC,YAzCI;;AA0CtB1D,sCAAS,CAAC,YAAM;AACZ,QAAIkC,QAAQ,CAACzG,MAAT,KAAoB,CAAxB,EAA2B;AACvBmH,kBAAY,CAAC,CAAD,CAAZ;AACH,KAFD,MAEO,IAAIV,QAAQ,CAACzG,MAAT,KAAoB,CAAxB,EAA2B;AAC9BmH,kBAAY,CAAC,CAAD,CAAZ;AACH,KAFM,MAEA,IAAIV,QAAQ,CAACzG,MAAT,KAAoB,CAAxB,EAA2B;AAC9BmH,kBAAY,CAAC,CAAD,CAAZ;AACH;AACJ,GARQ,EAQN,CAACV,QAAD,CARM,CAAT;AASAlC,sCAAS,CAAC,YAAM;AACZ+C,oBAAgB;AACnB,GAFQ,EAEN,EAFM,CAAT;;AAGA,MAAMY,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AAC/BF,gBAAY,CAACE,OAAD,CAAZ;AACH,GAFD;;AAIA,SAAO;AAAK,MAAE,EAAC;AAAR,KACH,uCAAC,iCAAD;AAAgB,QAAI,EAAC,WAArB;AAAiC,MAAE,EAAEtB;AAArC,IADG,EAEH;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC,sBAAf;AAAsC,MAAE,EAAC;AAAzC,KACKK,SAAS,KAAK,CAAd,GAAkB;AAAK,aAAS,EAAC;AAAf,KACf;AAAK,aAAS,EAAC,6BAAf;AAA6C,OAAG,EAAET,QAAQ,CAAC9F;AAA3D,IADe,EAEf;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,aAAS,EAAC;AAAf,IADJ,CADJ,CAFe,CAAlB,GAOQ,uCAAC,aAAD;AAAe,iBAAa,EAAEuH;AAA9B,IARb,EAUQzB,QAAQ,IAAI;AAAK,aAAS,EAAC,iBAAf;AAAiC,SAAK,EAAE;AAAE2B,gBAAU,gBAAS3B,QAAQ,CAAC9F,WAAlB;AAAZ;AAAxC,IAVpB,CADJ,EAcI;AAAK,aAAS,EAAC;AAAf,KACI,uCAAC,QAAD,wBAAc8F,QAAd;AAAwB,OAAG,EAAEC,cAAc,CAAC,CAAD;AAA3C,KADJ,EAEKQ,SAAS,KAAK,CAAd,IAAmB;AAAK,aAAS,EAAC;AAAf,KAChB,oDAAK;AAAM,aAAS,EAAC;AAAhB,IAAL,mCADgB,EAEhB,uCAAC,aAAD,EAAmBT,QAAnB,CAFgB,CAFxB,CAdJ,CADJ,EAsBI;AAAK,aAAS,EAAC;AAAf,KACI,oDAAK;AAAM,aAAS,EAAC;AAAhB,IAAL,EAAoDQ,CAAC,CAAC,YAAD,CAArD,CADJ,EAEI,uCAAC,sBAAD,EAAkBR,QAAlB,CAFJ,CAtBJ,EA0BI;AAAK,aAAS,EAAC;AAAf,KACI,oDAAK;AAAM,aAAS,EAAC;AAAhB,IAAL,6BADJ,EAEKE,qBAAqB,CAACvF,MAAtB,GAA+B,CAA/B,IAAoC,uCAAC,WAAD;AAAa,YAAQ,EAAEuF;AAAvB,IAFzC,CA1BJ,CADJ,CAFG,EAmCFqB,SAAS,KAAK,CAAd,GAAkB,mDAAlB,GAAgC,IAnC9B,EAoCFd,SAAS,GAAG,uCAAC,8BAAD,OAAH,GAAoB,uCAAC,aAAD,wBAAoBT,QAApB;AAA+B,QAAI,EAAEW;AAArC,KApC3B,CAAP;AAsCH,CAhGD,E;;;;;;;ACbA,iBAAiB,qBAAuB,2B;;;;;;;ACAxC,iBAAiB,qBAAuB,yB;;;;;;;;ACAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACe,qEAAM;AACjB,MAAMnE,QAAQ,GAAGC,+DAAW,EAA5B;;AADiB,qBAEAjB,+DAAW,CAAC,UAACL,KAAD;AAAA,WAAY;AACrCM,UAAI,EAAEN,KAAK,CAACO,IAAN,CAAWD;AADoB,KAAZ;AAAA,GAAD,CAFX;AAAA,MAETA,IAFS,gBAETA,IAFS;;AAMjB,SAAOgD,yDAAW,CAAC,gBAA4B;AAAA,QAAzBmD,OAAyB,QAAzBA,OAAyB;AAAA,QAAhBC,SAAgB,QAAhBA,SAAgB;AAC3CrF,YAAQ,CAACsF,iJAAU,CAAC;AAAErB,eAAS,EAAEhF,IAAb;AAAmBmG,aAAO,EAAPA,OAAnB;AAA4BC,eAAS,EAATA;AAA5B,KAAD,CAAX,CAAR;AACH,GAFiB,EAEf,EAFe,CAAlB;AAGH,CATD,E;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEe,mEAACnJ,KAAD,EAAW;AACtB,SAAOA,KAAK,CAACqJ,aAAN,IAAuB;AAC1B,aAAS,EAAC,0BADgB;AAE1B,WAAO,EAAE;AAAA,aAAMrJ,KAAK,CAACsJ,gBAAN,CAAuB,KAAvB,CAAN;AAAA;AAFiB,KAG1B;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,OAAG,EAAEC,uEAAV;AAAmB,OAAG,EAAC;AAAvB,IADJ,CAH0B,CAA9B;AAOH,CARD,E;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD,EAAc;AAC5B,MAAIC,UAAU,GAAG,CAAE,IAAIrB,IAAJ,EAAnB,CAD4B,CAE5B;;;AACA,MAAIsB,MAAM,GAAG,CAAb;AACA,MAAIC,SAAJ;AACAA,WAAS,GAAGjE,WAAW,CAAC,YAAM;AAC1BgE,UAAM;AACN,QAAIE,OAAO,GAAG,CAAE,IAAIxB,IAAJ,EAAF,GAAgBqB,UAA9B;;AACA,QAAIC,MAAM,IAAI,GAAV,IAAiBE,OAAO,GAAG,IAA/B,EAAqC;AACjCnE,mBAAa,CAACkE,SAAD,CAAb;;AACA,UAAIC,OAAO,GAAG,IAAV,IAAkBC,QAAQ,CAACC,MAA3B,IAAqCD,QAAQ,CAACE,YAAlD,EAAgE;AAC5DC,eAAO,CAACC,GAAR,CAAY,SAAZ;AACH,OAFD,MAEO;AACHT,gBAAQ;AACX;AACJ;AACJ,GAXsB,EAWpB,EAXoB,CAAvB;AAYH,CAjBD;AAmBA;;;;;;;;;;;;AAUe,qEAAM;AACjB,MAAMU,MAAM,GAAG,mDAAf;AACA,MAAMC,MAAM,GAAGnG,oDAAM,CAAC,EAAD,CAArB;AAEA,MAAMoG,OAAO,GAAGtE,yDAAW,CAAC,UAACuE,GAAD,EAAMC,aAAN,EAAwB;AAChDC,YAAQ,CAAC7I,IAAT,GAAgB2I,GAAhB;AACAd,aAAS,CAAC,YAAM;AACZ,UAAIiB,6DAAK,MAAM,CAACF,aAAhB,EAA+BC,QAAQ,CAAC7I,IAAT,GAAgBwI,MAAhB;AAC/B,UAAIO,iEAAS,MAAM,CAACH,aAApB,EAAmCC,QAAQ,CAAC7I,IAAT,GAAgByI,MAAM,CAAC3E,OAAvB;AACtC,KAHQ,CAAT;AAIH,GAN0B,EAMxB,CAAC2E,MAAD,CANwB,CAA3B;AAQA,MAAMO,WAAW,GAAG5E,yDAAW,CAAC,UAACxB,IAAD,EAAO9C,EAAP,EAAWgH,GAAX,EAAmB;AAC/C,QAAM8B,aAAa,GAAG9B,GAAG,GAAGA,GAAG,CAAC8B,aAAP,GAAuB,KAAhD;AACA,QAAIlB,aAAa,GAAG,KAApB;;AACA,QAAIuB,gEAAQ,MAAMH,6DAAK,EAAvB,EAA2B;AACvB;AACAD,cAAQ,CAAC7I,IAAT,GAAgBwI,MAAhB;AACH,KAHD,MAGO,IAAIS,gEAAQ,MAAMF,iEAAS,EAA3B,EAA+B;AAClC;AACArB,mBAAa,GAAG,IAAhB;AACH,KAHM,MAGA;AACH,cAAQ9E,IAAR;AACI,aAAK,WAAL;AACI8F,iBAAO,oCAA6B5I,EAA7B,GAAmC8I,aAAnC,CAAP;AACA;;AACJ,aAAK,YAAL;AACIF,iBAAO,+BAAwB5I,EAAxB,GAA8B8I,aAA9B,CAAP;AACA;;AACJ,aAAK,UAAL;AACIF,iBAAO,kCAA2B5I,EAA3B,GAAiC8I,aAAjC,CAAP;AACA;;AACJ,aAAK,aAAL;AACIF,iBAAO,+BAAwB5I,EAAxB,GAA8B8I,aAA9B,CAAP;AACA;;AACJ,aAAK,WAAL;AACIF,iBAAO,6BAA6BE,aAA7B,CAAP;AACA;;AACJ,aAAK,aAAL;AACIF,iBAAO,gCAAyB5I,EAAzB,GAA+B8I,aAA/B,CAAP;AACA;;AACJ,aAAK,WAAL;AACIF,iBAAO,8BAA8BE,aAA9B,CAAP;AACA;;AACJ,aAAK,cAAL;AACIF,iBAAO,uCAAgC5I,EAAhC,GAAsC8I,aAAtC,CAAP;AACA;;AACJ,aAAK,cAAL;AACIF,iBAAO,uCAAgC5I,EAAhC,GAAsC8I,aAAtC,CAAP;AACA;;AACJ;AACIF,iBAAO,4BAA4BE,aAA5B,CAAP;AA7BR;AA+BH;;AAED,WAAOlB,aAAP;AACH,GA5C8B,EA4C5B,CAACe,MAAD,CA5C4B,CAA/B;AA8CAhF,yDAAS,CAAC,YAAM;AACZyF,+FAAqB,GAAGC,IAAxB,CAA6B,UAAUC,GAAV,EAAe;AACxC,UAAIA,GAAG,CAACC,IAAJ,KAAa,CAAjB,EAAoB;AAChBZ,cAAM,CAAC3E,OAAP,GAAiBsF,GAAG,CAACtC,GAArB;AACH,OAFD,MAEO;AACHwC,yEAAK,CAAC9H,IAAN,CAAW4H,GAAG,CAACG,GAAf;AACH;AACJ,KAND,WAMS,UAAUC,GAAV,EAAe;AACpB,YAAMA,GAAN;AACH,KARD;AASH,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAOR,WAAP;AACH,CAvED,E;;;;;;;AClCA,iBAAiB,qBAAuB,uC;;;;;;;;;;;;;;;;;;;;ACAxC;AACA;AAEA;AACA;AACA;AACA;AAEe,mEAAC3K,KAAD,EAAW;AAAA,kBACQqD,sDAAQ,CAAC,KAAD,CADhB;AAAA;AAAA,MACf+H,OADe;AAAA,MACNC,UADM;;AAAA,mBAEoBhI,sDAAQ,CAAC,KAAD,CAF5B;AAAA;AAAA,MAEfgG,aAFe;AAAA,MAEAC,gBAFA;;AAGtB,MAAMqB,WAAW,GAAGW,oFAAc,EAAlC;AACA,MAAMC,aAAa,GAAGxF,yDAAW,CAAC,YAAM;AACpCuD,oBAAgB,CAACqB,WAAW,CAAC3K,KAAK,CAACuE,IAAP,EAAavE,KAAK,CAACyB,EAAnB,CAAZ,CAAhB;AACH,GAFgC,EAE9B,EAF8B,CAAjC;AAGA2D,yDAAS,CAAC,YAAM;AACZoG,4IAAS,MAAMH,UAAU,CAAC,IAAD,CAAzB;AACH,GAFQ,EAEN,EAFM,CAAT;AAGA,SAAO;AAAK,aAAS,iCAA0BD,OAAO,GAAG,SAAH,GAAe,EAAhD;AAAd,KACH;AAAG,aAAS,EAAC,kBAAb;AAAgC,WAAO,EAAEG;AAAzC,KACI;AAAK,OAAG,EAAEE,iEAAV;AAAqB,OAAG,EAAC;AAAzB,IADJ,4BADG,EAKH,2DAAC,kFAAD;AAAsB,iBAAa,EAAEpC,aAArC;AAAoD,oBAAgB,EAAEC;AAAtE,IALG,CAAP;AAOH,CAjBD,E;;;;;;;ACRA,iBAAiB,qBAAuB,iC;;;;;;;;;;;;;;;;;;;;;;;ACAxC;CAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAMlD,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAS;AACtB,MAAIC,MAAM,CAACD,GAAD,CAAN,GAAc,EAAlB,EAAsB;AAClB,sBAAWA,GAAX;AACH,GAFD,MAEO;AACH,WAAOA,GAAP;AACH;AACJ,CAND;;AAQO,IAAMqF,YAAY,GAAG;AACxBC,OAAK,EAAE,0BADiB;AAExBC,UAAQ,EAAE,MAFc;AAGxBC,YAAU,EAAE,0GAHY,CAIxB;AACA;AACA;AACA;;AAPwB,CAArB;AAUQ,mEAAC7L,KAAD,EAAW;AACtB,MAAM8D,QAAQ,GAAGC,+DAAW,EAA5B;;AADsB,qBAEYjB,+DAAW,CAAC,UAACL,KAAD;AAAA,WAAY;AACtDqJ,qBAAe,EAAErJ,KAAK,CAACO,IAAN,CAAW8I,eAD0B;AAEtD/I,UAAI,EAAEN,KAAK,CAACO,IAAN,CAAWD;AAFqC,KAAZ;AAAA,GAAD,EAGzCK,wDAHyC,CAFvB;AAAA,MAEdL,IAFc,gBAEdA,IAFc;AAAA,MAER+I,eAFQ,gBAERA,eAFQ;;AAAA,kBAOYzI,sDAAQ,CAAC;AACvCkD,KAAC,EAAE,CADoC;AAEvCC,KAAC,EAAE,CAFoC;AAGvCC,KAAC,EAAE,CAHoC;AAIvCC,KAAC,EAAE;AAJoC,GAAD,CAPpB;AAAA;AAAA,MAOfuB,SAPe;AAAA,MAOJC,YAPI,kBActB;;;AAdsB,MAedxE,SAfc,GAeA1D,KAfA,CAed0D,SAfc,EAiBtB;;AACA,MAAMyE,gBAAgB,GAAGpC,yDAAW,CAAC,YAAM;AACvC,QAAIqC,OAAO,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAd;AACA,QAAIC,OAAO,GAAGjC,MAAM,CAACvD,IAAI,CAACjC,SAAN,CAApB;AACA,QAAI0H,QAAQ,GAAGD,OAAO,GAAGH,OAAzB;AACA,QAAIK,GAAG,GAAG;AACNlC,OAAC,EAAE,CADG;AAENC,OAAC,EAAE,CAFG;AAGNC,OAAC,EAAE,CAHG;AAINC,OAAC,EAAE;AAJG,KAAV;;AAMA,QAAI8B,QAAQ,IAAI,CAAhB,EAAmB;AACfC,SAAG,CAAClC,CAAJ,GAAQmC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAAlB,GAAuB,EAAvB,GAA4B,EAAvC,CAAR;AACAC,SAAG,CAACjC,CAAJ,GAAQkC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAAlB,GAAuB,EAAvB,GAA4B,EAAvC,CAAR;AACAC,SAAG,CAAChC,CAAJ,GAAQiC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAAlB,GAAuB,EAAlC,CAAR;AACAC,SAAG,CAAC/B,CAAJ,GAAQgC,IAAI,CAACC,KAAL,CAAWH,QAAQ,GAAG,IAAX,GAAkB,EAA7B,CAAR;AACH;;AAEDN,gBAAY,CAACO,GAAD,CAAZ;;AAEA,QAAI1F,IAAI,CAAClC,MAAL,KAAgB,CAApB,EAAuB;AACnB+H,gBAAU,CAACT,gBAAD,EAAmB,IAAnB,CAAV;AACH;AACJ,GAtBmC,EAsBjC,EAtBiC,CAApC,CAlBsB,CA0CtB;;AA1CsB,mBA2CkB9E,sDAAQ,CAAC,KAAD,CA3C1B;AAAA;AAAA,MA2CfQ,YA3Ce;AAAA,MA2CDD,eA3CC;;AAAA,mBA4CMP,sDAAQ,CAAC,IAAD,CA5Cd;AAAA;AAAA,MA4CfM,MA5Ce;AAAA,MA4CPoI,SA5CO,kBA4CqB;;;AAC3C3G,yDAAS,CAAC,YAAM;AACZ,QAAI,CAACzB,MAAD,IAAWE,YAAf,EAA6B;AAE7BiG,YAAQ,CAACkC,aAAT,CAAuB,sBAAvB,EAA+CC,eAA/C,CAA+D,OAA/D;AACAnC,YAAQ,CAACkC,aAAT,CAAuB,sBAAvB,EAA+CC,eAA/C,CAA+D,OAA/D;AACAtI,UAAM,CAACuI,KAAP,CAAaC,KAAb,GAAqB,KAArB;AACH,GANQ,EAMN,CAACtI,YAAD,CANM,CAAT;AAOA,MAAMuI,SAAS,GAAGrG,yDAAW,CAAC,UAACuE,GAAD,EAAM/F,IAAN,EAAe;AACzC,QAAI,CAAC+F,GAAL,EAAU,OAD+B,CAEzC;;AACA,QAAI+B,aAAa,GAAG;AAChB5K,QAAE,EAAEiC,SADY;AAEhB4G,SAAG,EAAEA,GAFW;AAGhBgC,YAAM,EAAEvJ,IAAI,CAACvB,WAHG;AAIhByE,WAAK,EAAEvC,SAAS,KAAK,eAAd,GAAgC,MAAhC,GAAyC,GAJhC;AAKhB6I,YAAM,EAAE7I,SAAS,KAAK,eAAd,GAAgC,MAAhC,GAAyC,GALjC;AAMhB8I,SAAG,EAAE,KANW;AAMJ;AACZC,gBAAU,EAAE,KAPI;AAQhBC,cAAQ,EAAE,IARM;AAShBC,UAAI,EAAE,OATU;AAUhBC,iBAAW,EAAE,IAVG;AAWhBC,aAAO,EAAE,CAAC,QAAD;AAXO,KAApB;AAcA,QAAIC,OAAO,GAAG;AACVrL,QAAE,EAAEiC,SADM;AAEV4G,SAAG,EAAEA,GAFK;AAGVgC,YAAM,EAAEvJ,IAAI,CAACvB,WAHH;AAIV;AACA;AACAuL,YAAM,EAAE;AAAE;AACNC,mBAAW,EAAE,IADT;AACe;AACnBC,iBAAS,EAAE,KAFP,CAEa;;AAFb,OANE;AAUVT,SAAG,EAAE,IAVK;AAUC;AACXU,eAAS,EAAE;AACPC,cAAM,EAAE,GADD;AAEPC,aAAK,EAAE,CAFA;AAGPnH,aAAK,EAAE,GAHA;AAIPsG,cAAM,EAAE;AAJD,OAXD;AAiBVE,gBAAU,EAAE,IAjBF;AAiBQ;AAClBC,cAAQ,EAAE,IAlBA;AAkBM;AAChB;AACAzG,WAAK,EAAEvC,SAAS,KAAK,eAAd,GAAgC,MAAhC,GAAyC,GApBtC;AAqBV6I,YAAM,EAAE7I,SAAS,KAAK,eAAd,GAAgC,MAAhC,GAAyC,GArBvC;AAsBViJ,UAAI,EAAE,OAtBI;AAuBV;AACAC,iBAAW,EAAE,IAxBH;AAyBVS,cAAQ,EAAE,IAzBA,CAyBK;AAGnB;;AA5Bc,KAAd;AA6BAP,WAAO,CAACQ,KAAR,GAAgB;AACZ;AACAC,cAAQ,EAAE,EAFE;AAGZC,UAAI,EAAE;AAAE;AACJC,aAAK,EAAE,IADL;AACW;AACbC,WAAG,EAAE,IAFH,CAEQ;;AAFR,OAHM,CAShB;AACA;;AAVgB,KAAhB;;AAWA,QAAInJ,IAAI,KAAK,UAAT,IAAuBoJ,mIAAI,EAA/B,EAAmC;AAC/Bb,aAAO,GAAG,+EACHA,OADA;AAEHc,oBAAY,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,CAAZ,EAAe,GAAf,EAAoB,CAApB,CAFX;AAGHC,2BAAmB,EAAE;AAHlB,QAAP;AAMA,UAAIC,aAAa,GAAG,EAApB;AAP+B;AAAA;AAAA;;AAAA;AAQ/B,6BAAkBhC,eAAlB,8HAAmC;AAAA,cAAxBiC,GAAwB;AAC/B;AACAD,uBAAa,CAACE,IAAd,CAAmB;AACfC,gBAAI,EAAE,QADS;AAEfC,oBAAQ,EAAE,KAFK;AAGfzM,cAAE,EAAEsM,GAAG,CAACtM,EAHO;AAIfgM,iBAAK,EAAEM,GAAG,CAACI,UAAJ,GAAiBpL,IAAI,CAACjC,SAJd;AAKf;AACAsN,eAAG,EAAEL,GAAG,CAACM,OANM;AAOf9K,iBAAK,EAAEmI;AAPQ,WAAnB;AASH;AAnB8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoB/BoB,aAAO,CAACQ,KAAR,CAAcC,QAAd,GAAyBO,aAAzB;AACH,KArBD,MAqBO,IAAIvJ,IAAI,KAAK,UAAT,IAAuB,CAACoJ,mIAAI,EAAhC,EAAoC;AACvCb,aAAO,GAAGT,aAAV,CADuC,CAEvC;;AACA,UAAItJ,IAAI,CAACiD,QAAL,KAAkB,CAAtB,EAAyB;AACrB8G,eAAO,CAACP,MAAR,GAAiB,GAAjB,CADqB,CAErB;;AACAO,eAAO,CAACwB,aAAR,GAAwB,IAAxB;AACH,OAJD,MAIO;AACHxB,eAAO,CAACP,MAAR,GAAiB,GAAjB;AACH;AACJ,KAVM,MAUA;AACHO,aAAO,CAACO,QAAR,GAAmB,KAAnB,CADG,CACsB;AAC5B;;AAED,QAAI1J,MAAM,GAAG,IAAb;;AACA,QAAI4K,4IAAa,CAACjE,GAAD,CAAb,KAAuB,KAA3B,EAAkC;AAC9B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAkE,yBAAO,CAAC,GAAD,CAAP;;AACA1B,aAAO,GAAG,+EACHA,OADA;AAEHxC,WAAG,EAAEwC,OAAO,CAACxC,GAAR,CAAYmE,OAAZ,CAAoB,MAApB,EAA4B,OAA5B;AAFF,QAAP;;AAIA,UAAMC,WAAW,GAAGF,mBAAO,CAAC,GAAD,CAA3B;;AACA7K,YAAM,GAAG,IAAI+K,WAAJ,CAAgB5B,OAAhB,CAAT;AACH,KApBD,MAoBO,IAAIyB,4IAAa,CAACjE,GAAD,CAAb,KAAuB,MAA3B,EAAmC;AACtCkE,yBAAO,CAAC,GAAD,CAAP;;AACA,UAAME,YAAW,GAAGF,mBAAO,CAAC,GAAD,CAA3B;;AACA7K,YAAM,GAAG,IAAI+K,YAAJ,CAAgB5B,OAAhB,CAAT;AACH,KAJM,MAIA;AACH,UAAM6B,MAAM,GAAGH,mBAAO,CAAC,GAAD,CAAtB;;AACAA,yBAAO,CAAC,GAAD,CAAP;;AACA7K,YAAM,GAAG,IAAIgL,MAAJ,CAAW7B,OAAX,CAAT;AACH,KAzHwC,CA2HzC;AACA;AACA;;;AACA8B,sJAAmB,CAAC,UAAUC,SAAV,EAAqB;AACrC,UAAIA,SAAJ,EAAe;AACX;AACA5E,eAAO,CAACC,GAAR,CAAY,iCAAZ;AACH,OAHD,MAGO;AACH;AACAD,eAAO,CAACC,GAAR,CAAY,uCAAZ;AACAvG,cAAM,CAACmL,IAAP,CAAY,SAAZ,EAAuB,YAAY;AAC/BhF,kBAAQ,CAACkC,aAAT,CAAuB,sBAAvB,EAA+C+C,YAA/C,CAA4D,OAA5D,EAAqE,cAArE;AACAjF,kBAAQ,CAACkC,aAAT,CAAuB,sBAAvB,EAA+C+C,YAA/C,CAA4D,OAA5D,EAAqE,eAArE;AACApL,gBAAM,CAACuI,KAAP,CAAaC,KAAb,GAAqB,IAArB;AACAxI,gBAAM,CAACqL,IAAP;AACApL,yBAAe,CAAC,IAAD,CAAf;AACH,SAND;AAOH;AACJ,KAfkB,CAAnB;AAiBAmI,aAAS,CAACpI,MAAD,CAAT;AACAkC,UAAM,CAACoJ,UAAP,GAAoBtL,MAApB,CAhJyC,CAgJd;AAE3B;AACH,GAnJ4B,EAmJ1B,EAnJ0B,CAA7B,CApDsB,CAyMtB;;AACA,MAAMuL,QAAQ,GAAGC,sEAAU,EAA3B;AACA/J,yDAAS,CAAC,YAAM;AACZ,QAAI,CAACzB,MAAL,EAAa;AAEbsG,WAAO,CAACC,GAAR,CAAY,IAAZ;AAEAvG,UAAM,CAACyL,EAAP,CAAU,MAAV,EAAkB,YAAY;AAC1BF,cAAQ,CAAC;AAAEhG,eAAO,EAAE,kBAAX;AAA+BC,iBAAS,EAAE;AAAEkG,gBAAM,EAAE;AAAV;AAA1C,OAAD,CAAR;AACH,KAFD;AAGA1L,UAAM,CAACyL,EAAP,CAAU,OAAV,EAAmB,YAAY;AAC3BF,cAAQ,CAAC;AAAEhG,eAAO,EAAE,kBAAX;AAA+BC,iBAAS,EAAE;AAAEkG,gBAAM,EAAE;AAAV;AAA1C,OAAD,CAAR;AACH,KAFD;AAGA1L,UAAM,CAACyL,EAAP,CAAU,mBAAV,EAA+B,YAAY;AACvCF,cAAQ,CAAC;AAAEhG,eAAO,EAAE,kBAAX;AAA+BC,iBAAS,EAAE;AAAEkG,gBAAM,EAAE;AAAV;AAA1C,OAAD,CAAR;AACH,KAFD;AAGA1L,UAAM,CAACyL,EAAP,CAAU,gBAAV,EAA4B,YAAY;AACpCF,cAAQ,CAAC;AAAEhG,eAAO,EAAE,kBAAX;AAA+BC,iBAAS,EAAE;AAAEkG,gBAAM,EAAE;AAAV;AAA1C,OAAD,CAAR;AACH,KAFD;AAGH,GAjBQ,EAiBN,CAAC1L,MAAD,CAjBM,CAAT;AAkBA,MAAM2L,UAAU,GAAGvJ,yDAAW,CAAC,UAAChD,IAAD,EAAU;AACrC,QAAIlC,MAAM,GAAG,EAAb;;AACA,YAAQkC,IAAI,CAAClC,MAAb;AACI,WAAK,CAAL;AACIA,cAAM,GAAG,aAAT;AACA;;AACJ,WAAK,CAAL;AACIA,cAAM,GAAG,QAAT;AACA;;AACJ,WAAK,CAAL;AACIA,cAAM,GAAG,UAAT;AACA;;AACJ;AACIA,cAAM,GAAG,aAAT;AAXR;;AAaA,WAAOA,MAAP;AACH,GAhB6B,EAgB3B,EAhB2B,CAA9B;AAiBAuE,yDAAS,CAAC,YAAM;AACZ,QAAI,CAACrC,IAAL,EAAW,OADC,CAGZ;;AACA8C,UAAM,CAAC0J,cAAP,GAAwB,YAAY;AAChCL,cAAQ,CAAC;AAAEhG,eAAO,EAAE,WAAX;AAAwBC,iBAAS,EAAE;AAAE1G,eAAK,EAAE6M,UAAU,CAACvM,IAAD;AAAnB;AAAnC,OAAD,CAAR;AACH,KAFD;AAGH,GAPQ,EAON,CAACA,IAAD,CAPM,CAAT;;AA9OsB,mBAsPoBM,sDAAQ,EAtP5B;AAAA;AAAA,MAsPfmM,aAtPe;AAAA,MAsPAC,gBAtPA;;AAuPtBrK,yDAAS,CAAC,YAAM;AACZ;AACA,QAAI,CAACrC,IAAD,IAAUA,IAAI,CAAClC,MAAL,KAAgB,CAAhB,IAAqBkC,IAAI,CAAClC,MAAL,KAAgB,CAAnD,EAAuD;AAEvD,QAAIkC,IAAI,CAAClC,MAAL,KAAgB2O,aAApB,EAAmC;AACnCC,oBAAgB,CAAC1M,IAAI,CAAClC,MAAN,CAAhB;AAEAqO,YAAQ,CAAC;AAAEhG,aAAO,EAAE,YAAX;AAAyBC,eAAS,EAAE;AAAE1G,aAAK,EAAE6M,UAAU,CAACvM,IAAD;AAAnB;AAApC,KAAD,CAAR;AACH,GARQ,EAQN,CAACA,IAAD,CARM,CAAT;AAUAqC,yDAAS,CAAC,YAAM;AACZ,QAAI,CAACrC,IAAL,EAAW;;AACX,YAAQA,IAAI,CAAClC,MAAb;AACI,WAAK,CAAL;AAAQ;AACJsH,wBAAgB;AAChB;;AACJ,WAAK,CAAL;AAAQ;AACJ,YAAIuH,UAAU,GAAG3M,IAAI,CAAC4M,gBAAL,GAAwB5M,IAAI,CAAC4M,gBAA7B,GAAgD5M,IAAI,CAAC6M,aAAtE;;AAEA,YAAI,CAACF,UAAL,EAAiB;AACbzE,4IAAK,CAAC9H,IAAN,CAAW,kBAAX;AACA;AACH;;AAED,YAAIQ,MAAM,KAAK,IAAf,EAAqB;AACjB,cAAI+L,UAAU,CAACG,OAAX,CAAmB,YAAnB,IAAmC,CAAC,CAAxC,EAA2CH,UAAU,GAAIA,UAAU,CAACI,KAAX,CAAiB,YAAjB,CAAD,CAAiC,CAAjC,CAAb;AAC3C,cAAIJ,UAAU,CAACG,OAAX,CAAmB,UAAnB,MAAmC,CAAC,CAAxC,EAA2CH,UAAU,GAAGA,UAAU,CAACjB,OAAX,CAAmB,SAAnB,EAA8B,UAA9B,CAAb;AAC3CrC,mBAAS,CAACsD,UAAD,EAAa,SAAb,CAAT;AACH;;AACD;;AACJ,WAAK,CAAL;AAAQ;AACJR,gBAAQ,CAAC;AAAEhG,iBAAO,EAAE;AAAX,SAAD,CAAR;AACA,YAAI6G,WAAW,GAAGhN,IAAI,CAACiN,cAAvB;;AACA,YAAI,CAACD,WAAL,EAAkB;AACd;AACA;AACA;AACH;;AAED,YAAIpM,MAAM,KAAK,IAAf,EAAqB;AACjBA,gBAAM,CAACsM,OAAP,CAAe,IAAf;AACAlE,mBAAS,CAAC,IAAD,CAAT;AACH;;AAED,YAAIgE,WAAW,CAACF,OAAZ,CAAoB,UAApB,MAAoC,CAAC,CAAzC,EAA4C;AACxCE,qBAAW,GAAGA,WAAW,CAACtB,OAAZ,CAAoB,SAApB,EAA+B,UAA/B,CAAd;AACH;;AACDrC,iBAAS,CAAC2D,WAAD,EAAc,UAAd,CAAT;AACA;;AACJ;AACInH,kBAAU,CAAC,YAAM;AACbqC,4IAAK,CAAC9H,IAAN,CAAW,YAAX;AACH,SAFS,EAEP,GAFO,CAAV;AAGA;AAzCR;AA2CH,GA7CQ,EA6CN,CAACJ,IAAD,CA7CM,CAAT,CAjQsB,CAgTtB;;AACAqC,yDAAS,CAAC,YAAM;AACZ,QAAMQ,KAAK,GAAGD,WAAW,CAAC,YAAM;AAC5B,UAAI5C,IAAI,CAAClC,MAAL,KAAgB,CAApB,EAAuB;AACnBiD,gBAAQ,CAACoM,qFAAiB,CAAC;AAAEC,iBAAO,EAAEpN,IAAI,CAACxB;AAAhB,SAAD,CAAlB,CAAR;AACH;AACJ,KAJwB,EAItB,IAJsB,CAAzB;AAKA,WAAO,YAAM;AACTmE,mBAAa,CAACE,KAAD,CAAb;AACH,KAFD;AAGH,GATQ,EASN,CAAC9B,QAAQ,CAACd,IAAV,EAAgBD,IAAhB,CATM,CAAT,CAjTsB,CA4TtB;;AACAqC,yDAAS,CAAC,YAAM;AACZ6E,WAAO,CAACC,GAAR,CAAY,GAAZ;AACA,QAAMtE,KAAK,GAAGD,WAAW,CAAC,YAAM;AAC5B,UAAI5C,IAAI,CAAClC,MAAL,KAAgB,CAAhB,IAAsBkC,IAAI,CAAClC,MAAL,KAAgB,CAAhB,IAAqB,CAACkC,IAAI,CAACiN,cAArD,EAAsE;AAClElM,gBAAQ,CAACY,+EAAW,CAAC;AAAEnD,gBAAM,EAAEwB,IAAI,CAACxB;AAAf,SAAD,CAAZ,CAAR;AACH,OAFD,MAEO;AACHmE,qBAAa,CAACE,KAAD,CAAb;AACH;AACJ,KANwB,EAMtB,IANsB,CAAzB;AAOA,WAAO,YAAM;AACTF,mBAAa,CAACE,KAAD,CAAb;AACH,KAFD;AAGH,GAZQ,EAYN,CAAC9B,QAAQ,CAACd,IAAV,EAAgBD,IAAhB,CAZM,CAAT,CA7TsB,CA2UtB;;AACAqC,yDAAS,CAAC,YAAM;AACZ,QAAI,CAACuI,mIAAI,EAAL,IAAWhK,MAAf,EAAuB;AACnBmG,cAAQ,CAACsG,IAAT,CAAcC,OAAd,GAAwB,YAAM;AAC1B1M,cAAM,CAACqL,IAAP;AACH,OAFD;AAGH;AACJ,GANQ,EAMN,CAACrL,MAAD,CANM,CAAT;AAQA,SAAO;AAAEA,UAAM,EAANA,MAAF;AAAUsE,aAAS,EAATA,SAAV;AAAqB7B,YAAQ,EAARA,QAArB;AAA+BxC,mBAAe,EAAfA,eAA/B;AAAgDC,gBAAY,EAAZA;AAAhD,GAAP;AACH,CArVD,E;;;;;;;;;;;;;;;;;;;;;;;AC3BA;AACA;CAEA;;AAEe,qEAAM;AAAA,kBACGR,sDAAQ,CAAC,IAAD,CADX;AAAA;AAAA,MACV2B,EADU;AAAA,MACNsL,KADM;;AAAA,mBAEajN,sDAAQ,CAAC,KAAD,CAFrB;AAAA;AAAA,MAEV4B,OAFU;AAAA,MAEDsL,UAFC;;AAAA,mBAGalN,sDAAQ,CAAC,KAAD,CAHrB;AAAA;AAAA,MAGV6B,OAHU;AAAA,MAGDsL,UAHC;;AAAA,mBAIWnN,sDAAQ,CAAC,KAAD,CAJnB;AAAA;AAAA,MAIV8B,MAJU;AAAA,MAIFR,SAJE;;AAMjB,MAAME,QAAQ,GAAGkB,yDAAW,CAAC,UAAC0K,sBAAD,EAA4B;AACrD,QAAMC,QAAQ,GAAGlC,mBAAO,CAAC,GAAD,CAAxB;;AAEA,QAAMxJ,EAAE,GAAG0L,QAAQ,CAAC7L,QAAT,CAAkB;AACzB8L,cAAQ,EAAE;AADe,KAAlB,CAAX;;AAIA,QAAMC,SAAS,GAAG,SAAZA,SAAY,CAAUxM,KAAV,EAAiB;AAC/BmM,gBAAU,CAAC,IAAD,CAAV;AACH,KAFD;;AAGA,QAAMM,aAAa,GAAG,SAAhBA,aAAgB,CAAUzM,KAAV,EAAiB;AACnC6F,aAAO,CAACC,GAAR;AACAqG,gBAAU,CAAC,KAAD,CAAV;AACH,KAHD,CAVqD,CAcrD;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAMO,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAU1M,KAAV,EAAiB;AAC7C6F,aAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC9F,KAAK,CAACC,IAA7C;AACAD,WAAK,CAACC,IAAN,CAAW0M,OAAX,CAAmB,UAAUC,OAAV,EAAmB;AAClC/G,eAAO,CAACC,GAAR,CAAY,CAAC8G,OAAO,CAACC,IAAR,IAAgBD,OAAO,CAACE,IAAzB,IAAiC,KAA7C,EAAoDF,OAAO,CAACxM,OAAR,CAAgB2M,IAApE;AACH,OAFD;AAGAV,4BAAsB,CAACrM,KAAD,CAAtB;AACH,KAND;;AAOA,QAAMgN,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUhN,KAAV,EAAiB;AACtCA,WAAK,CAACC,IAAN,CAAW0M,OAAX,CAAmB,UAAUC,OAAV,EAAmB;AAClC/G,eAAO,CAACC,GAAR,CAAY,CAAC8G,OAAO,CAACE,IAAR,IAAgBF,OAAO,CAACxM,OAAR,CAAgB6M,UAAhB,CAA2B,CAA3B,CAAjB,IAAkD,KAA9D;AACH,OAFD;AAGH,KAJD;;AAKA,QAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAUlN,KAAV,EAAiB;AACvCA,WAAK,CAACC,IAAN,CAAW0M,OAAX,CAAmB,UAAUC,OAAV,EAAmB;AAClC/G,eAAO,CAACC,GAAR,CAAY,CAAC8G,OAAO,CAACE,IAAR,IAAgBF,OAAO,CAACxM,OAAR,CAAgB6M,UAAhB,CAA2B,CAA3B,CAAjB,IAAkD,KAA9D;AACH,OAFD;AAGH,KAJD;;AAKA,QAAME,WAAW,GAAG,SAAdA,WAAc,CAAUnN,KAAV,EAAiB;AACjC6F,aAAO,CAACC,GAAR;AACAD,aAAO,CAACC,GAAR,CAAY9F,KAAK,CAACC,IAAN,CAAWE,IAAvB,EAFiC,CAGjC;AACA;AACA;AACH,KAND;;AAOA,QAAIiN,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUpN,KAAV,EAAiB;AACpC6F,aAAO,CAACC,GAAR;AACAD,aAAO,CAACC,GAAR,CAAY9F,KAAK,CAACC,IAAN,CAAW5B,KAAvB,EAFoC,CAGpC;AACA;AACA;AACA;AACH,KAPD;;AAQA,QAAIgP,aAAa,GAAG,SAAhBA,aAAgB,CAAUrN,KAAV,EAAiB;AACjC6F,aAAO,CAACC,GAAR;AACAD,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B9F,KAAK,CAACC,IAAlC;AACH,KAHD,CApDqD,CAyDrD;;;AACAW,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeC,QAArB,EAA+Bf,SAA/B,EA1DqD,CA2DrD;;AACA5L,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeE,YAArB,EAAmCf,aAAnC,EA5DqD,CA6DrD;AACA;AACA;AACA;AACA;;AACA7L,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeG,mBAArB,EAA0CT,gBAA1C,EAlEqD,CAmErD;;AACApM,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeI,oBAArB,EAA2CR,iBAA3C,EApEqD,CAqErD;;AACAtM,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeK,aAArB,EAAoCR,WAApC,EAtEqD,CAuErD;;AACAvM,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeM,oBAArB,EAA2CR,gBAA3C,EAxEqD,CAyErD;;AACAxM,MAAE,CAACoK,EAAH,CAAMsB,QAAQ,CAACgB,KAAT,CAAeO,eAArB,EAAsCR,aAAtC,EA1EqD,CA2ErD;;AACAzM,MAAE,CAACkN,IAAH,CAAQ9C,EAAR,CAAW+C,iDAAG,CAACT,KAAJ,CAAUU,gBAArB,EAAuCtB,uBAAvC;;AAEAR,SAAK,CAACtL,EAAD,CAAL;AACH,GA/E2B,EA+EzB,EA/EyB,CAA5B;AAiFA,MAAMF,UAAU,GAAGiB,yDAAW;AAAA;AAAA;AAAA;AAAA;AAAA,2EAAC,iBAAOV,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACNgN,4CAAK,CAAC;AAAE/H,mBAAG,uBAAgBjF,UAAhB;AAAL,eAAD,CADC;;AAAA;AACrBiN,oBADqB;AAG3B;AACA;AACAtN,gBAAE,CAAC9B,KAAH,CAAS;AAAEqP,sBAAM,EAAElN,UAAV;AAAsBmN,uBAAO,EAAEF,MAAM,CAACjO,IAAP,CAAYA;AAA3C,eAAT,EAA4DyG,IAA5D,CAAiE,UAAC2H,UAAD,EAAgB;AAC7ExI,uBAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,uBAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,uBAAO,CAACC,GAAR,CAAYuI,UAAZ,EAH6E,CAGrD;AACxB;AACA;AACA;AACA;;AACAjC,0BAAU,CAAC,IAAD,CAAV;AACH,eATD,WASS,UAACkC,OAAD,EAAa;AAClBzI,uBAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,uBAAO,CAAC0I,IAAR,CAAa,qBAAb,EAAoCD,OAApC,EAFkB,CAE2B;;AAC7ClC,0BAAU,CAAC,KAAD,CAAV;AACH,eAbD;;AAL2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,OAmB3B,CAACxL,EAAD,CAnB2B,CAA9B;AAqBA,MAAMD,UAAU,GAAGgB,yDAAW,CAAC,UAACxE,MAAD,EAAY;AACvC,QAAMmP,QAAQ,GAAGlC,mBAAO,CAAC,GAAD,CAAxB;;AAEA,QAAIxJ,EAAE,CAAC4N,SAAP,EAAkB;AACd;AACA5N,QAAE,CAAC4N,SAAH,CAAarR,MAAb,EAAqBuJ,IAArB,CAA0B,UAAC2H,UAAD,EAAgB;AACtCxI,eAAO,CAACC,GAAR,CAAYuI,UAAU,CAACpO,IAAvB;;AACA,gBAAQoO,UAAU,CAACpO,IAAX,CAAgBxD,MAAxB;AACI,eAAK6P,QAAQ,CAACmC,KAAT,CAAeC,kBAApB;AAAwC;AACpC7I,mBAAO,CAACC,GAAR,CAAY,SAAZ;AACAvF,qBAAS,CAAC,IAAD,CAAT;AACA;;AACJ,eAAK+L,QAAQ,CAACmC,KAAT,CAAeE,eAApB;AAAqC;AACjC9I,mBAAO,CAACC,GAAR,CAAY,SAAZ;AACAvF,qBAAS,CAAC,IAAD,CAAT;AACA;;AACJ;AACIA,qBAAS,CAAC,KAAD,CAAT;AACA;AAXR;AAaH,OAfD,WAeS,UAAC+N,OAAD,EAAa;AAClBzI,eAAO,CAAC0I,IAAR,CAAa,yBAAb,EAAwCD,OAAxC,EADkB,CAC+B;;AACjD/N,iBAAS,CAAC,KAAD,CAAT;AACH,OAlBD;AAmBH;AACJ,GAzB6B,EAyB3B,CAACK,EAAD,CAzB2B,CAA9B;AA2BA,SAAO;AACHC,WAAO,EAAPA,OADG;AAEHC,WAAO,EAAPA,OAFG;AAGHC,UAAM,EAANA,MAHG;AAIHN,YAAQ,EAARA,QAJG;AAKHC,cAAU,EAAVA,UALG;AAMHC,cAAU,EAAVA,UANG;AAOHyL,cAAU,EAAVA,UAPG;AAQH7L,aAAS,EAATA,SARG;AASHK,MAAE,EAAFA;AATG,GAAP;AAWH,CAlJD,E;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AAEA;AACA;AACA;AACA;AACe,mEAAUhF,KAAV,EAAiB;AAAA,wBACd6H,oEAAc,EADA;AAAA,MACpBC,CADoB,mBACpBA,CADoB;;AAAA,MAEpBvD,IAFoB,GAEPvE,KAFO,CAEpBuE,IAFoB;AAAA,MAEd9C,EAFc,GAEPzB,KAFO,CAEdyB,EAFc;;AAAA,kBAGc4B,sDAAQ,CAAC,KAAD,CAHtB;AAAA;AAAA,MAGrBgG,aAHqB;AAAA,MAGNC,gBAHM;;AAI5B,MAAMqB,WAAW,GAAGW,oFAAc,EAAlC;AACA,MAAMC,aAAa,GAAGxF,yDAAW,CAAC,YAAM;AACpCuD,oBAAgB,CAACqB,WAAW,CAACpG,IAAD,EAAO9C,EAAP,CAAZ,CAAhB;AACH,GAFgC,EAE9B,EAF8B,CAAjC;AAGA,SAAO;AAAK,aAAS,EAAC,8BAAf;AAA8C,MAAE,EAAC;AAAjD,KACH;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,OAAG,EAAEuR,4DAAKA;AAAf,IADJ,EAEI,iFAFJ,EAGI,sEAAIlL,CAAC,CAAC,mBAAD,CAAL,CAHJ,CADG,EAMH;AAAG,aAAS,EAAC,QAAb;AAAsB,WAAO,EAAEyD;AAA/B,KAA+CzD,CAAC,CAAC,YAAD,CAAhD,SANG,EAOH,2DAAC,kFAAD;AAAsB,iBAAa,EAAEuB,aAArC;AAAoD,oBAAgB,EAAEC;AAAtE,IAPG,CAAP;AASH,C;;;;;;;ACxBD,iBAAiB,qBAAuB,+B;;;;;;;ACAxC,iBAAiB,qBAAuB,2C;;;;;;;ACAxC,iBAAiB,qBAAuB,4C;;;;;;;ACAxC,iBAAiB,qBAAuB,wC;;;;;;;ACAxC,iBAAiB,qBAAuB,0C;;;;;;;ACAxC,iBAAiB,qBAAuB,4B","file":"containers-m-LiveShare.js","sourcesContent":["import React from 'react'\n\nimport './index.scss'\nimport gradeBlue from '../../LiveShare/LiveInfo/images/live-share-guest-blue.png'\nimport gradeYellow from '../../LiveShare/LiveInfo/images/live-share-guest-yellow.png'\nimport IconStatus from '../HotLiveroom/Image/im-live-list-item-status.gif'\nimport IconStatus2 from '../HotLiveroom/Image/im-live-list-item-status2.png'\nimport { formatTime } from 'multiPublic'\n\nexport default (props) => {\n    const presenter = (props.presenterList && Array.isArray(props.presenterList) && props.presenterList[0]) || {}\n    const presenterGrade = 'vGrade' in presenter && ((presenter.vGrade === 2 || presenter.vGrade === 3)\n        ? gradeBlue\n        : presenter.vGrade === 1\n            ? gradeYellow\n            : null)\n    let playNum = props.pop.popularity ? props.pop.popularity : props.popularity\n    const {\n        name,\n        status,\n        beginTime\n    } = props\n    let playNumText = playNum\n    if (playNum > 1000000) {\n        playNumText = '99.9万+'\n    } else if (playNumText > 10000) {\n        playNumText = `${(playNumText / 10000).toFixed(1)}万`\n    }\n\n    return <div className=\"liveshare-m-info-box\">\n        <div className=\"liveshare-info-simple\">\n            <div className=\"video-title\">\n                <span className={`live-status im-item-status-${status && status === 2 ? 'finish' : (status && status === 1 ? 'living' : 'ready')}`}>\n                    {status && status === 1 ? <img src={IconStatus} /> : (status && status === 2) ? <img src={IconStatus2} /> : ''}\n                    <em>{status && status === 1 ? '直播中' : (status && status === 2 ? '回放中' : '即将开始')}</em>\n                </span>\n                <div className=\"title\">{name}</div>\n            </div>\n            {status ? <div className=\"liveshare-info-presenter\">\n                <div className=\"presenter-info\">\n                    <div className=\"avatar\"><img src={presenter.iconUrl}/></div>\n                    <div className=\"name\">{presenter.nickName}</div>\n                    {presenterGrade && <div className=\"grade\"><img src={presenterGrade}/></div>}\n                </div>\n                <div className=\"presenter-play-num\">观看人次：<span>{playNumText}</span></div>\n            </div> : <div className=\"live-time\">直播时间：{formatTime(beginTime, 'yyyy-MM-dd hh:mm')}</div>}\n        </div>\n    </div>\n}\n","import React from 'react'\n\nimport './index.scss'\n\nimport { mixUrl } from 'multiPublic'\n\nimport IconStatus from '../../HotLiveroom/Image/im-live-list-item-status.gif'\nimport IconStatus2 from '../../HotLiveroom/Image/im-live-list-item-status2.png'\n\nexport default (props) => {\n    const {\n        itemType, // item样式 undefind.正常直播列表组件  top1.广场推荐位左侧大图 top2.广场推荐位左侧左侧小图 top3.广场推荐位新小图 right.首页右侧列表 myvideo.个人视频列表组件 mylive.个人直播组件\n        roomId, // 房间ID\n        status, // 播放状态 0.未直播 1.直播中 2.回放中\n        popularity, // 观看人数\n        coverPicUrl, // 背景图片\n        // presenterList, // 主播人列表\n        name, // 直播间名称\n        id, // 视频ID（暂时只有视频列表组件）\n        publishTime // 视频创建时间（暂时只有视频列表组件）\n    } = props\n\n    let playNum = popularity && popularity !== '' ? popularity : 0\n    let playNumText = `${playNum} 人次`\n    if (playNum > 1000000) {\n        playNumText = `99.9万+  人次`\n    } else if (playNum > 10000) {\n        playNumText = `${(playNum / 10000).toFixed(1)}万 人次`\n    }\n    const href = itemType !== undefined && itemType === 'myvideo' ? mixUrl.main(`/video/detail/${id}/${publishTime}`) : mixUrl.main(`/liveshare/${roomId}`)\n\n    return (\n        <a className={`im-live-list-item im-live-list-item-${itemType}`} href={href} target=\"_self\">\n            <div className=\"im-live-list-item-video\">\n                <img className=\"im-live-list-item-video-img\" src={coverPicUrl} />\n                {itemType !== undefined && itemType === 'myvideo' ? null\n                    : <div className=\"im-live-list-item-video-state type-lt\">\n                        <div className={`im-live-list-item-video-state-box type-${status && status !== '' ? status : '0'}`}>\n                            {status && status === 1 ? <img className=\"im-live-list-item-video-state-box-img\" src={IconStatus} /> : (status && status === 0 ? '' : <img className=\"im-live-list-item-video-state-box-img\" src={IconStatus2} />)}\n                            {status && status === 1 ? '直播中' : (status && status === 2 ? '回放中' : '即将开始')}\n                        </div>\n                        {status && status !== 0 ? <div className=\"im-live-list-item-video-state-box type-pop\">\n                            {playNumText}\n                        </div> : null}\n                    </div>\n                }\n                {itemType === 'top1' || itemType === 'top2'\n                    ? <div className=\"im-live-list-item-list-top-state\">\n                        <div className=\"im-live-list-item-list-top-title\">\n                            {name}\n                        </div>\n                    </div> : null\n                }\n            </div>\n            {itemType === undefined || itemType === 'myvideo' || itemType === 'mylive' || itemType === 'top3'\n                ? <div className=\"im-live-list-item-title\">\n                    {name}\n                </div> : null\n            }\n        </a>\n    )\n}\n","import React from 'react'\nimport LiveRoomItem from './LiveRoomItem'\n\nimport './index.scss'\n\nexport default (props) => {\n    const {\n        listData\n    } = props\n    return (\n        <div className=\"hot-live\" style={{ display: listData.length > 0 ? 'block' : 'none' }}>\n            <div className=\"live-room-list\">\n                {\n                    listData && listData.length > 0 && listData.map((item, index) => {\n                        return (\n                            <div className=\"live-room-list-item\"><LiveRoomItem {...item} key={index} /></div>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n","import React, { Component } from 'react'\nimport arrowImg from './images/arrow-img.png'\nimport './index.scss'\n\nclass LiveroomDesc extends Component {\n    constructor (props) {\n        super(props)\n        this.state = {\n            showAll: true\n        }\n    }\n\n    onCheckboxChange = () => {\n        this.setState({ showAll: false })\n    }\n    render () {\n        const { showAll } = this.state\n        return (\n            <div className=\"im-live-detail-left-live-info\">\n                <div className=\"description_box\">\n                    <input type=\"checkbox\" id=\"contTab\" onChange={this.onCheckboxChange} checked={showAll} className=\"tabbed\" />\n                    <div id=\"cont\">\n                        <div className=\"description\" dangerouslySetInnerHTML={{ __html: this.props.brief }} />\n                    </div>\n                    <div className=\"content-more\"><div className=\"gradient\"></div><label htmlFor=\"contTab\" className=\"readmore\">展开全部<img className=\"arrow\" src={arrowImg} /></label></div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default LiveroomDesc\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux'\nimport md5 from 'blueimp-md5'\n\nimport useTWebLivePlayer from '../../../public/hooks/useTWebLivePlayer'\nimport useTWebLiveIm from '../../../public/hooks/useTWebLiveIm'\nimport { getRoomByID } from '../../../redux/actions/live'\nimport { isArray, uuid } from 'multiPublic'\n\nimport './index.scss'\n\nexport default () => {\n    const { room, userInfo } = useSelector((state) => ({\n        room: state.live.room,\n        userInfo: state.login.userInfo.info\n    }), shallowEqual)\n    const [style, setStyle] = useState({ paddingTop: '0' })\n    const {\n        player,\n        setMutedBtnShow,\n        mutedBtnShow\n    } = useTWebLivePlayer({ elementID: 'id_test_video' })\n    const dispatch = useDispatch()\n    const timeImLogin = useRef()\n    const timeImJoin = useRef()\n\n    const onTextMessageReceived = (event) => {\n        if (!event || !event.data || !isArray(event.data)) return\n        event.data.map((elementItem) => {\n            if (!elementItem.type) return\n            switch (elementItem.type) {\n                case 'TIMGroupSystemNoticeElem':\n                    if (!elementItem.payload) return\n                    if (elementItem.payload.operationType && elementItem.payload.operationType === 5) {\n                        // 直播间直播结束（群被解散）\n                        dispatch(getRoomByID({ roomId: room.roomId }))\n                        setImJoin(false)\n                    }\n                    break\n                default:\n                    break\n            }\n        })\n    }\n\n    const { createIM, getImLogin, joinImRoom, setImJoin, im, imReady, imLogin, imJoin } = useTWebLiveIm()\n\n    // 创建直播间\n    useEffect(() => {\n        if (room.status !== 1) return\n        createIM(onTextMessageReceived)\n    }, [room.status])\n\n    // 登录\n    useEffect(() => {\n        if (!im) return\n        // 未登录下用 uuid md5 取第8-24位\n        const passportId = !userInfo.passportId ? md5(uuid()).substring(7, 23) : userInfo.passportId\n        getImLogin(passportId)\n    }, [im, userInfo])\n    // 加入聊天室\n    useEffect(() => {\n        if (timeImLogin.current) {\n            clearInterval(timeImLogin.current)\n            timeImLogin.current = null\n        }\n\n        if (imReady) {\n            if (!imLogin && room.status === 1) {\n                timeImLogin.current = setInterval(() => {\n                    // 未登录下用 uuid md5 取第8-24位\n                    const passportId = !userInfo.passportId ? md5(uuid()).substring(7, 23) : userInfo.passportId\n                    getImLogin(passportId)\n                }, 10000)\n            } else {\n                clearInterval(timeImLogin.current)\n                timeImLogin.current = null\n                joinImRoom(room.roomId)\n            }\n        }\n\n        return () => {\n            clearInterval(timeImLogin.current)\n        }\n    }, [imReady, imLogin, userInfo, room.status])\n    // 掉线后循环请求加入\n    useEffect(() => {\n        if (timeImJoin.current) {\n            clearInterval(timeImJoin.current)\n            timeImJoin.current = null\n        }\n        if (!imJoin && room.status === 1) {\n            timeImJoin.current = setInterval(() => {\n                joinImRoom(room.roomId)\n            }, 10000)\n        } else {\n            clearInterval(timeImJoin.current)\n            timeImJoin.current = null\n        }\n\n        return () => {\n            clearInterval(timeImJoin.current)\n            timeImJoin.current = null\n        }\n    }, [room.status, imJoin])\n\n    useEffect(() => {\n        const timer = setInterval(() => {\n            if (typeof window !== 'undefined' && player) {\n                setStyle(videoStyle())\n                clearInterval(timer)\n            }\n        }, 200)\n        return () => {\n            clearInterval(timer)\n        }\n    }, [player])\n    const videoStyle = useCallback(() => {\n        // 1是obs推流，0是手机\n        if (room.roomType === 0) return { width: '57%', margin: '0 auto' }\n        if (room.roomType === 1) return { paddingTop: '0' }\n    }, [room.roomType])\n    return <div className=\"live-share-live-video-m\">\n        <div className=\"video-wrapper\" style={{ ...style }}>\n            <div id=\"id_test_video\" className={`${room && room.roomType === 0 ? 'vertical' : 'horizontal'}`}></div>\n            <div className={`click-cancel-muted ${room && room.roomType === 0 ? 'mobile' : 'pc'}` } style={{ display: mutedBtnShow ? 'block' : 'none' }} onClick={() => {\n                if (!player) return\n                setMutedBtnShow(false)\n            }}>\n                <button>点击取消静音</button>\n            </div>\n        </div>\n    </div>\n}\n","import React from 'react'\nimport './index.scss'\n\nexport default (props) => {\n    const {\n        time // 当前直播间状态\n    } = props\n    const timeZero = (num) => {\n        if (Number(num) < 10) {\n            return `0${num}`\n        } else {\n            return num\n        }\n    }\n    return (\n        <div className=\"im-live-detail-left-live-video-footer\">\n            <div className=\"im-live-detail-left-live-video-footer-text2\">\n                距直播开始：\n                {(timeZero(time.d) && time.d !== 0) && <span>{time.d}天</span>}\n                {timeZero(time.h) && <span>{time.h}时</span>}\n                {timeZero(time.m) && <span>{time.m}分</span>}\n                {timeZero(time.s) && <span>{time.s}秒</span>}\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport './index.scss'\nimport vOrange from 'multiPublic/img/v-orange.svg'\nimport vBlue from 'multiPublic/img/v-blue.svg'\n/** @desc 头像，不可跳转 */\nexport default (props) => {\n    const { authorInfo, iconHide } = props\n    let authStyle = null\n    let authName = '普通用户'\n    switch (parseInt(authorInfo.vGrade)) {\n        case 0:\n            authName = '普通用户'\n            break\n        case 1:\n            authStyle = vOrange\n            authName = 'MarsBit 专栏个人认证'\n            break\n        case 2:\n            authStyle = vBlue\n            authName = 'MarsBit 专栏媒体认证'\n            break\n        case 3:\n            authStyle = vBlue\n            authName = 'MarsBit 专栏机构认证'\n            break\n        default:\n            authName = '普通用户'\n    }\n    return <div className=\"author-info-avatar\">\n        <div className=\"author-info-avatar-img\">\n            <img className=\"img-clear-blur avatar-img\" src={authorInfo.iconUrl} alt={authorInfo.nickname} />\n            {authStyle && !iconHide && <span title={authName} className=\"avatar-mark\">\n                <img className=\"img-clear-blur\" src={authStyle} alt={authorInfo.nickName} />\n            </span>}\n        </div>\n        <div className=\"author-info-avatar-text\">\n            <p className=\"live-profile-title\">\n                <span>{authorInfo.nickName}\n                    <span className=\"avatar-role\">\n                        {authorInfo.userType === 0 ? <span className=\"guest-icon\">嘉宾</span> : <span className=\"presenter-icon\">主播</span>}\n                    </span>\n                </span>\n            </p>\n            <p className=\"im-live-list-right-live-good-up-item-text\">\n                {authorInfo.introduce}\n            </p>\n        </div>\n    </div>\n}\n","import React from 'react'\nimport './index.scss'\nimport Profile from './Profile'\nexport default (props) => {\n    return (\n        <div className=\"im-live-list-right-live-good-up-item\">\n            <Profile authorInfo={props} />\n        </div>\n    )\n}\n","import React from 'react'\nimport LiveGuestItem from './LiveGuestItem'\nimport './index.scss'\n\nexport default (props) => {\n    const {\n        guestList,\n        presenterList\n    } = props\n    return (<div className=\"liveshare-m-guest-box\">\n        {\n            presenterList && presenterList.length > 0 && presenterList.map((item, index) => {\n                return (\n                    <div className=\"live-guest-list-item\">\n                        <LiveGuestItem {...item} key={index}/>\n                    </div>\n                )\n            })\n        }\n        {guestList && guestList.length > 0 && guestList.map((item, index) => {\n            return (\n                <div className=\"live-guest-list-item\">\n                    <LiveGuestItem {...item} key={index} />\n                </div>\n            )\n        }) }\n    </div>)\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useSelector, shallowEqual } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\nimport LiveInfo from './LiveInfo'\nimport FooterDownload from 'multiCompsM/Layout/FooterDownload'\nimport DownloadBtn from 'multiCompsM/DownloadBtn'\nimport HotLiveroom from './HotLiveroom'\nimport LiveroomDesc from './LiveroomDesc'\nimport LiveroomVideo from './LiveroomVideo'\nimport NostartButton from './NostartButton'\nimport LiveGuestInfo from './LiveGuestInfo'\nimport './index.scss'\n\nexport default (props) => {\n    const { roomData, popularityList, roomLiveRecommendList } = useSelector((state) => ({\n        roomData: state.live.room,\n        popularityList: state.live.popularityList,\n        roomLiveRecommendList: state.live.roomLiveRecommendList.inforList\n    }), shallowEqual)\n    const livelinkid = props.match.params.roomId\n    const { t } = useTranslation()\n    // 当前直播间状态 0.未直播 1.直播中 2.回放中\n    const [liveState, setLiveState] = useState(roomData.status)\n    const [countTime, setCountTime] = useState({\n        d: 0,\n        h: 0,\n        m: 0,\n        s: 0\n    })\n    const getCountTimeText = useCallback(() => {\n        let nowTime = new Date().getTime()\n        let endTime = Number(roomData.beginTime)\n        let leftTime = endTime - nowTime\n        let obj = {\n            d: 0,\n            h: 0,\n            m: 0,\n            s: 0\n        }\n        if (leftTime >= 0) {\n            obj.d = Math.floor(leftTime / 1000 / 60 / 60 / 24)\n            obj.h = Math.floor(leftTime / 1000 / 60 / 60 % 24)\n            obj.m = Math.floor(leftTime / 1000 / 60 % 60)\n            obj.s = Math.floor(leftTime / 1000 % 60)\n        } else {\n            // 跳走，reload\n        }\n\n        setCountTime(obj)\n\n        if (roomData.status === 0) {\n            setTimeout(getCountTimeText, 1000)\n        }\n    }, [])\n    const [isBoxShow, setIsBoxShow] = useState(0)\n    useEffect(() => {\n        if (roomData.status === 0) {\n            setLiveState(0)\n        } else if (roomData.status === 1) {\n            setLiveState(1)\n        } else if (roomData.status === 2) {\n            setLiveState(2)\n        }\n    }, [roomData])\n    useEffect(() => {\n        getCountTimeText()\n    }, [])\n    const changeBoxShow = (boxShow) => {\n        setIsBoxShow(boxShow)\n    }\n\n    return <div id=\"hxwrap\">\n        <FooterDownload type=\"liveshare\" id={livelinkid}/>\n        <div className='hxwrap'>\n            <div className=\"live-share-m\">\n                <div className=\"live-share-m-info\">\n                    <div className=\"live-share-m-content\" id=\"live-share-m-content\">\n                        {liveState === 0 ? <div className=\"readyPic\">\n                            <img className=\"live-share-m-ready-coverPic\" src={roomData.coverPicUrl}/>\n                            <div className=\"container\">\n                                <div className=\"playerWrap\">\n                                    <div className=\"player\"></div>\n                                </div>\n                            </div>\n                        </div> : <LiveroomVideo changeBoxShow={changeBoxShow} />}\n                        {\n                            roomData && <div className=\"live-background\" style={{ background: `url(${roomData.coverPicUrl})` }} />\n                        }\n                    </div>\n                    <div className=\"live-share-m-info\">\n                        <LiveInfo {...roomData} pop={popularityList[0]}/>\n                        {liveState === 0 && <div className=\"live-share-m-brief\">\n                            <div><span className=\"live-share-box-title\"></span>主播与嘉宾</div>\n                            <LiveGuestInfo {...roomData} /></div>}\n                    </div>\n                </div>\n                <div className=\"live-share-m-brief\">\n                    <div><span className=\"live-share-box-title\"></span>{t('live_brief')}</div>\n                    <LiveroomDesc {...roomData } />\n                </div>\n                <div className=\"live-share-m-hot-box\">\n                    <div><span className=\"live-share-box-title\"></span>热门直播</div>\n                    {roomLiveRecommendList.length > 0 && <HotLiveroom listData={roomLiveRecommendList} />}\n                </div>\n            </div>\n        </div>\n        {isBoxShow !== 0 ? <div></div> : null }\n        {liveState ? <DownloadBtn/> : <NostartButton { ...roomData } time={countTime} />}\n    </div>\n}\n","module.exports = __webpack_public_path__ + \"v-orange-ddf372b8.svg\";","module.exports = __webpack_public_path__ + \"v-blue-77c6a4e4.svg\";","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { gatherLive } from 'multiRedux/actions/public'\nexport default () => {\n    const dispatch = useDispatch()\n    const { room } = useSelector((state) => ({\n        room: state.live.room\n    }))\n\n    return useCallback(({ eventId, eventInfo }) => {\n        dispatch(gatherLive({ liveState: room, eventId, eventInfo }))\n    }, [])\n}\n","import React from 'react'\nimport './index.scss'\nimport tipsImg from './images/wechat-download-tips.png'\n\nexport default (props) => {\n    return props.openInBrowser && <div\n        className=\"download-app-wechat-tips\"\n        onClick={() => props.setOpenInBrowser(false)}>\n        <div className=\"download-app-img\">\n            <img src={tipsImg} alt=\"请在浏览器中打开\" />\n        </div>\n    </div>\n}\n","import { useEffect, useCallback, useRef } from 'react'\nimport { getAndroidDownloadUrl } from '../../redux/actions/public'\nimport Toast from '../../components/Toast'\nimport { isAndroid, isIos, isWechat } from '../../public'\n\nconst checkOpen = (callback) => {\n    let _clickTime = +(new Date())\n    // 启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    let _count = 0\n    let intHandle\n    intHandle = setInterval(() => {\n        _count++\n        let elsTime = +(new Date()) - _clickTime\n        if (_count >= 100 || elsTime > 3000) {\n            clearInterval(intHandle)\n            if (elsTime > 3000 || document.hidden || document.webkitHidden) {\n                console.log('正在打开app')\n            } else {\n                callback()\n            }\n        }\n    }, 20)\n}\n\n/**\n * @params type 当前页面类型 id文章视频等相对应的id\n * newsDetail新闻详情，newsList新闻列表\n * flashDetail快讯详情，flashList快讯列表\n * videoDetail视频详情，videoList视频列表\n * authorCenter作者中心\n * 不传type默认跳转到首页\n * 返回appDownload 传递以上参数\n * 并返回openInBrowser是否提示浏览器中打开\n * */\nexport default () => {\n    const iosUrl = 'https://itunes.apple.com/cn/app/id1343659925?mt=8'\n    const andUrl = useRef('')\n\n    const openApp = useCallback((url, doNotDownload) => {\n        location.href = url\n        checkOpen(() => {\n            if (isIos() && !doNotDownload) location.href = iosUrl\n            if (isAndroid() && !doNotDownload) location.href = andUrl.current\n        })\n    }, [andUrl])\n\n    const appDownload = useCallback((type, id, obj) => {\n        const doNotDownload = obj ? obj.doNotDownload : false\n        let openInBrowser = false\n        if (isWechat() && isIos()) {\n            // 打开appStore\n            location.href = iosUrl\n        } else if (isWechat() && isAndroid()) {\n            // 提示浏览器中打开\n            openInBrowser = true\n        } else {\n            switch (type) {\n                case 'liveshare':\n                    openApp(`marsbusiness://liveshare/${id}`, doNotDownload)\n                    break\n                case 'newsDetail':\n                    openApp(`marsbusiness://news/${id}`, doNotDownload)\n                    break\n                case 'newsList':\n                    openApp(`marsbusiness://newlist/${id}`, doNotDownload)\n                    break\n                case 'flashDetail':\n                    openApp(`marsbusiness://fast/${id}`, doNotDownload)\n                    break\n                case 'flashList':\n                    openApp(`marsbusiness://home/fast`, doNotDownload)\n                    break\n                case 'videoDetail':\n                    openApp(`marsbusiness://video/${id}`, doNotDownload)\n                    break\n                case 'videoList':\n                    openApp(`marsbusiness://home/video`, doNotDownload)\n                    break\n                case 'authorCenter':\n                    openApp(`marsbusiness://authorCenter/${id}`, doNotDownload)\n                    break\n                case 'noticeDetail':\n                    openApp(`marsbusiness://noticeDetail/${id}`, doNotDownload)\n                    break\n                default:\n                    openApp(`marsbusiness://home/new`, doNotDownload)\n            }\n        }\n\n        return openInBrowser\n    }, [andUrl])\n\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                andUrl.current = res.obj\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [])\n\n    return appDownload\n}\n","module.exports = __webpack_public_path__ + \"wechat-download-tips-fef770a1.png\";","import React, { useState, useCallback, useEffect } from 'react'\nimport './index.scss'\n\nimport { isIphoneX } from 'multiPublic/index'\nimport WebchatOpenInBrowser from '../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../public/hooks/useAppDownload'\nimport phoneIcon from './images/cellphone-icon.png'\n\nexport default (props) => {\n    const [iphonex, setIphonex] = useState(false)\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(props.type, props.id))\n    }, [])\n    useEffect(() => {\n        isIphoneX() && setIphonex(true)\n    }, [])\n    return <div className={`download-app-wrapper ${iphonex ? 'iphonex' : ''}`}>\n        <a className=\"download-app-btn\" onClick={clickDownload}>\n            <img src={phoneIcon} alt=\"下载MarsBit\"/>\n            下载MarsBit APP\n        </a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div >\n}\n","module.exports = __webpack_public_path__ + \"cellphone-icon-524dafc5.png\";","import { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux'\n// import HlsJsPlayer from 'xgplayer-hls.js'\n\nimport { getRoomPopularity, getRoomByID } from '../../redux/actions/live'\nimport Toast from 'multiComps/Toast'\nimport { isAutoplaySupported, fileExtension, isPc } from 'multiPublic/index'\nimport liveGather from './useLiveGather'\n\nconst timeZero = (num) => {\n    if (Number(num) < 10) {\n        return `0${num}`\n    } else {\n        return num\n    }\n}\n\nexport const commentStyle = {\n    color: 'rgba(255, 255, 255, 0.9)',\n    fontSize: '24px',\n    textShadow: 'rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px'\n    // padding: '5px 11px',\n    // border: '1px solid rgba(255, 255, 255, 0.4)',\n    // borderRadius: '50px',\n    // backgroundColor: 'rgba(255, 255, 255, 0.2)'\n}\n\nexport default (props) => {\n    const dispatch = useDispatch()\n    const { room, roomHistoryList } = useSelector((state) => ({\n        roomHistoryList: state.live.roomHistoryList,\n        room: state.live.room\n    }), shallowEqual)\n\n    const [countTime, setCountTime] = useState({\n        d: 0,\n        h: 0,\n        m: 0,\n        s: 0\n    })\n\n    // elementID 播放器绑定ID\n    const { elementID } = props\n\n    // 倒计时\n    const getCountTimeText = useCallback(() => {\n        let nowTime = new Date().getTime()\n        let endTime = Number(room.beginTime)\n        let leftTime = endTime - nowTime\n        let obj = {\n            d: 0,\n            h: 0,\n            m: 0,\n            s: 0\n        }\n        if (leftTime >= 0) {\n            obj.d = Math.floor(leftTime / 1000 / 60 / 60 / 24)\n            obj.h = Math.floor(leftTime / 1000 / 60 / 60 % 24)\n            obj.m = Math.floor(leftTime / 1000 / 60 % 60)\n            obj.s = Math.floor(leftTime / 1000 % 60)\n        }\n\n        setCountTime(obj)\n\n        if (room.status === 0) {\n            setTimeout(getCountTimeText, 1000)\n        }\n    }, [])\n\n    // 播放\n    const [mutedBtnShow, setMutedBtnShow] = useState(false)\n    const [player, setPlayer] = useState(null) // 直播中实例\n    useEffect(() => {\n        if (!player || mutedBtnShow) return\n\n        document.querySelector('.xgplayer-icon-large').removeAttribute('style')\n        document.querySelector('.xgplayer-icon-muted').removeAttribute('style')\n        player.video.muted = false\n    }, [mutedBtnShow])\n    const startPlay = useCallback((url, type) => {\n        if (!url) return\n        // 移动端的控制条选项\n        let mobileoptions = {\n            id: elementID,\n            url: url,\n            poster: room.coverPicUrl,\n            width: elementID === 'id_test_video' ? '100%' : 884,\n            height: elementID === 'id_test_video' ? '100%' : 500,\n            pip: false, // 画中画\n            screenShot: false,\n            autoplay: true,\n            lang: 'zh-cn',\n            playsinline: true,\n            ignores: ['volume']\n        }\n\n        let options = {\n            id: elementID,\n            url: url,\n            poster: room.coverPicUrl,\n            // playbackRate: [0.5, 0.75, 1, 1.5, 2],\n            // defaultPlaybackRate: 1,\n            rotate: { // 视频旋转按钮配置项\n                innerRotate: true, // 只旋转内部video\n                clockwise: false // 旋转方向是否为顺时针\n            },\n            pip: true, // 画中画\n            pipConfig: {\n                bottom: 200,\n                right: 0,\n                width: 320,\n                height: 180\n            },\n            screenShot: true, // 截图功能\n            autoplay: true, // 自动播放，行为会受到浏览器规则限制\n            // videoInit: true, // 在没有设置poster的情况下显示视频首帧,移动端无效\n            width: elementID === 'id_test_video' ? '100%' : 884,\n            height: elementID === 'id_test_video' ? '100%' : 500,\n            lang: 'zh-cn',\n            // useHls: true, // 插件解码\n            playsinline: true,\n            controls: true // isPc() // 控制条显示（移动端禁止）\n        }\n\n        // 弹幕\n        options.danmu = {\n            // panel: true,\n            comments: [],\n            area: { // 弹幕显示区域\n                start: 0.02, // 区域顶部到播放器顶部所占播放器高度的比例\n                end: 1.02 // 区域底部到播放器顶部所占播放器高度的比例\n            }\n        }\n\n        // 回放添加，变速按钮，弹幕数组\n        // 移动端回翻和pc端回放要区别开来\n        if (type === 'playback' && isPc()) {\n            options = {\n                ...options,\n                playbackRate: [0.5, 0.75, 1, 1.5, 2],\n                defaultPlaybackRate: 1\n            }\n\n            let commentsArray = []\n            for (const val of roomHistoryList) {\n                // console.log(`${val.content}: ${(val.updateTime - room.beginTime) / 1000}s`)\n                commentsArray.push({\n                    mode: 'scroll',\n                    duration: 10000,\n                    id: val.id,\n                    start: val.updateTime - room.beginTime,\n                    // txt: `${val.nickName}：${val.content}`,\n                    txt: val.content,\n                    style: commentStyle\n                })\n            }\n            options.danmu.comments = commentsArray\n        } else if (type === 'playback' && !isPc()) {\n            options = mobileoptions\n            // 根据横竖屏，先计算，出一个高度\n            if (room.roomType === 1) {\n                options.height = 211\n                // options.rotateFullscreen = true\n                options.cssFullscreen = true\n            } else {\n                options.height = 310\n            }\n        } else {\n            options.controls = false // 手机直播 隐藏控制条\n        }\n\n        let player = null\n        if (fileExtension(url) === 'flv') {\n            // iphone不支持flv----->https://github.com/bytedance/xgplayer/issues/385\n\n            // options = {\n            //     ...options,\n            //     isLive: type === 'playing',\n            //     cors: true\n            // }\n            // require('xgplayer')\n            // const FlvPlayer = require('xgplayer-flv')\n            // player = new FlvPlayer(options)\n            // console.log('000')\n\n            require('xgplayer')\n            options = {\n                ...options,\n                url: options.url.replace('.flv', '.m3u8')\n            }\n            const HlsJsPlayer = require('xgplayer-hls.js')\n            player = new HlsJsPlayer(options)\n        } else if (fileExtension(url) === 'm3u8') {\n            require('xgplayer')\n            const HlsJsPlayer = require('xgplayer-hls.js')\n            player = new HlsJsPlayer(options)\n        } else {\n            const Player = require('xgplayer')\n            require('xgplayer-mp4')\n            player = new Player(options)\n        }\n\n        // Usage: isAutoplaySupported(callback);\n        // Using a callback assures that support\n        // has been properly checked\n        isAutoplaySupported(function (supported) {\n            if (supported) {\n                // HTML5 Video Autoplay Supported!\n                console.log('HTML5 Video Autoplay Supported!')\n            } else {\n                // HTML5 Video Autoplay Not Supported :(\n                console.log('HTML5 Video Autoplay Not Supported :(')\n                player.once('canplay', function () {\n                    document.querySelector('.xgplayer-icon-large').setAttribute('style', 'display:none')\n                    document.querySelector('.xgplayer-icon-muted').setAttribute('style', 'display:block')\n                    player.video.muted = true\n                    player.play()\n                    setMutedBtnShow(true)\n                })\n            }\n        })\n\n        setPlayer(player)\n        window.livePlayer = player // 挂载到全局，以便发送评论时，发送弹幕\n\n        // roomHistoryList 服务端请求roomHistoryList，此处inputs加与不加，关系不大。服务端请求数据可减少startPlay数据判断\n    }, [])\n\n    // 点击上报事件\n    const livePush = liveGather()\n    useEffect(() => {\n        if (!player) return\n\n        console.log(1111)\n\n        player.on('play', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'play' } })\n        })\n        player.on('pause', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'pause' } })\n        })\n        player.on('requestFullscreen', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'fullscreen' } })\n        })\n        player.on('exitFullscreen', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'exit_fullscreen' } })\n        })\n    }, [player])\n    const roomStatus = useCallback((room) => {\n        let status = ''\n        switch (room.status) {\n            case 0:\n                status = 'not_started'\n                break\n            case 1:\n                status = 'living'\n                break\n            case 2:\n                status = 'finished'\n                break\n            default:\n                status = 'not_started'\n        }\n        return status\n    }, [])\n    useEffect(() => {\n        if (!room) return\n\n        // 页面刷新退出前，上报关闭直播间时，直播间状态\n        window.onbeforeunload = function () {\n            livePush({ eventId: 'exit_room', eventInfo: { state: roomStatus(room) } })\n        }\n    }, [room])\n    const [oldRoomStatus, setOldRoomStatus] = useState()\n    useEffect(() => {\n        // 未开始和直播中才上报\n        if (!room || (room.status !== 0 && room.status !== 1)) return\n\n        if (room.status === oldRoomStatus) return\n        setOldRoomStatus(room.status)\n\n        livePush({ eventId: 'enter_room', eventInfo: { state: roomStatus(room) } })\n    }, [room])\n\n    useEffect(() => {\n        if (!room) return\n        switch (room.status) {\n            case 0: // 即将开始\n                getCountTimeText()\n                break\n            case 1: // 直播中\n                let playingUrl = room.webPullStreamUrl ? room.webPullStreamUrl : room.pullStreamUrl\n\n                if (!playingUrl) {\n                    Toast.info('未获取到视频直播地址，请刷新试试')\n                    return\n                }\n\n                if (player === null) {\n                    if (playingUrl.indexOf('?txSecret=') > -1) playingUrl = (playingUrl.split('?txSecret='))[0]\n                    if (playingUrl.indexOf('https://') === -1) playingUrl = playingUrl.replace('http://', 'https://')\n                    startPlay(playingUrl, 'playing')\n                }\n                break\n            case 2: // 回放中\n                livePush({ eventId: 'enter_playback' })\n                let playbackUrl = room.recordVideoUrl\n                if (!playbackUrl) {\n                    // 会因为重复请求，而一直弹出\n                    // Toast.info('未获取到视频回放地址，请刷新试试')\n                    return\n                }\n\n                if (player !== null) {\n                    player.destroy(true)\n                    setPlayer(null)\n                }\n\n                if (playbackUrl.indexOf('https://') === -1) {\n                    playbackUrl = playbackUrl.replace('http://', 'https://')\n                }\n                startPlay(playbackUrl, 'playback')\n                break\n            default:\n                setTimeout(() => {\n                    Toast.info('直播间不存在或已删除')\n                }, 500)\n                break\n        }\n    }, [room])\n\n    // 监听人气值实时更新\n    useEffect(() => {\n        const timer = setInterval(() => {\n            if (room.status === 1) {\n                dispatch(getRoomPopularity({ roomIDs: room.roomId }))\n            }\n        }, 5000)\n        return () => {\n            clearInterval(timer)\n        }\n    }, [dispatch.live, room])\n\n    // 监听直播间状态，即将开始-->直播-->回放\n    useEffect(() => {\n        console.log(666)\n        const timer = setInterval(() => {\n            if (room.status === 0 || (room.status === 2 && !room.recordVideoUrl)) {\n                dispatch(getRoomByID({ roomId: room.roomId }))\n            } else {\n                clearInterval(timer)\n            }\n        }, 3000)\n        return () => {\n            clearInterval(timer)\n        }\n    }, [dispatch.live, room])\n\n    // 监听移动端点击播放\n    useEffect(() => {\n        if (!isPc() && player) {\n            document.body.onclick = () => {\n                player.play()\n            }\n        }\n    }, [player])\n\n    return { player, countTime, timeZero, setMutedBtnShow, mutedBtnShow }\n}\n","import { useState, useCallback } from 'react'\nimport axios from 'axios'\nimport TIM from 'tim-js-sdk'\n// import { imSdkAppId } from '../../../config/config-server'\n\nexport default () => {\n    const [im, setIm] = useState(null)\n    const [imReady, setImReady] = useState(false)\n    const [imLogin, setImLogin] = useState(false)\n    const [imJoin, setImJoin] = useState(false)\n\n    const createIM = useCallback((setTextMessageReceived) => {\n        const TWebLive = require('tweblive')\n\n        const im = TWebLive.createIM({\n            SDKAppID: 1400383128\n        })\n\n        const onIMReady = function (event) {\n            setImReady(true)\n        }\n        const onSdkNotReady = function (event) {\n            console.log(`用户被NotReady触发`)\n            setImReady(false)\n        }\n        // const onTextMessageReceived = function (event) {\n        //     event.data.forEach(function (message) {\n        //         console.log((message.from || message.nick) + ' : ', message.payload.text)\n        //     })\n        //     setTextMessageReceived(event)\n        // }\n        const onCustomMessageReceived = function (event) {\n            console.log('custom message received', event.data)\n            event.data.forEach(function (message) {\n                console.log((message.from || message.nick) + ' : ', message.payload.text)\n            })\n            setTextMessageReceived(event)\n        }\n        const onRemoteUserJoin = function (event) {\n            event.data.forEach(function (message) {\n                console.log((message.nick || message.payload.userIDList[0]) + ' 来了')\n            })\n        }\n        const onRemoteUserLeave = function (event) {\n            event.data.forEach(function (message) {\n                console.log((message.nick || message.payload.userIDList[0]) + ' 走了')\n            })\n        }\n        const onKickedOut = function (event) {\n            console.log(`用户被踢下线时触发`)\n            console.log(event.data.type)\n            // TWebLive.TYPES.KICKED_OUT_MULT_ACCOUNT(Web端，同一账号，多页面登录被踢)\n            // TWebLive.TYPES.KICKED_OUT_MULT_DEVICE(同一账号，多端登录被踢)\n            // TWebLive.TYPES.KICKED_OUT_USERSIG_EXPIRED(签名过期)\n        }\n        let onNetStateChange = function (event) {\n            console.log(`网络状态发生改变`)\n            console.log(event.data.state)\n            // event.data.state 当前网络状态，枚举值及说明如下：\n            // TWebLive.TYPES.NET_STATE_CONNECTED - 已接入网络\n            // TWebLive.TYPES.NET_STATE_CONNECTING - 连接中。很可能遇到网络抖动，SDK 在重试。接入侧可根据此状态提示“当前网络不稳定”或“连接中”\n            // TWebLive.TYPES.NET_STATE_DISCONNECTED - 未接入网络。接入侧可根据此状态提示“当前网络不可用”。SDK 仍会继续重试，若用户网络恢复，SDK 会自动同步消息\n        }\n        let onPushStopped = function (event) {\n            console.log(`主播停止推流时触发`)\n            console.log('postscript: ', event.data)\n        }\n\n        // 接入侧监听此事件，然后可调用 SDK 发送消息等\n        im.on(TWebLive.EVENT.IM_READY, onIMReady)\n        // 接入侧监听此事件，然后可调用 SDK 发送消息等\n        im.on(TWebLive.EVENT.IM_NOT_READY, onSdkNotReady)\n        // // 收到文本消息，上屏\n        // im.on(TWebLive.EVENT.IM_TEXT_MESSAGE_RECEIVED, onTextMessageReceived)\n        // // 收到自定义消息时触发\n        // im.on(TWebLive.EVENT.IM_CUSTOM_MESSAGE_RECEIVED, onCustomMessageReceived)\n        // 远程用户进入触发\n        im.on(TWebLive.EVENT.IM_REMOTE_USER_JOIN, onRemoteUserJoin)\n        // 远程用户离开触发\n        im.on(TWebLive.EVENT.IM_REMOTE_USER_LEAVE, onRemoteUserLeave)\n        // 远程用户离开\n        im.on(TWebLive.EVENT.IM_KICKED_OUT, onKickedOut)\n        // 网络状态改变\n        im.on(TWebLive.EVENT.IM_NET_STATE_CHANGED, onNetStateChange)\n        // 主播停止推流\n        im.on(TWebLive.EVENT.IM_PUSH_STOPPED, onPushStopped)\n        // tweblive不能接收到系统消息，通过tim接收\n        im._tim.on(TIM.EVENT.MESSAGE_RECEIVED, onCustomMessageReceived)\n\n        setIm(im)\n    }, [])\n\n    const getImLogin = useCallback(async (passportId) => {\n        const sigRes = await axios({ url: `/imusersig/${passportId}` })\n\n        // 2、登录\n        // im.registerPlugin({ 'cos-js-sdk': COS })\n        im.login({ userID: passportId, userSig: sigRes.data.data }).then((imResponse) => {\n            console.log('im.login')\n            console.log('登录成功')\n            console.log(imResponse) // 登录成功\n            // if (imResponse.data.repeatLogin === true) {\n            //     // 标识账号已登录，本次登录操作为重复登录\n            //     console.log(imResponse.data.errorInfo)\n            // }\n            setImLogin(true)\n        }).catch((imError) => {\n            console.log('登录失败')\n            console.warn('im | login | failed', imError) // 登录失败的相关信息\n            setImLogin(false)\n        })\n    }, [im])\n\n    const joinImRoom = useCallback((roomId) => {\n        const TWebLive = require('tweblive')\n\n        if (im.enterRoom) {\n            // 3、加入直播间\n            im.enterRoom(roomId).then((imResponse) => {\n                console.log(imResponse.data)\n                switch (imResponse.data.status) {\n                    case TWebLive.TYPES.ENTER_ROOM_SUCCESS: // 加入直播间成功\n                        console.log('成功加入直播间')\n                        setImJoin(true)\n                        break\n                    case TWebLive.TYPES.ALREADY_IN_ROOM: // 已经在直播间内\n                        console.log('已经在直播间里')\n                        setImJoin(true)\n                        break\n                    default:\n                        setImJoin(false)\n                        break\n                }\n            }).catch((imError) => {\n                console.warn('im | enterRoom | failed', imError) // 加入直播间失败的相关信息\n                setImJoin(false)\n            })\n        }\n    }, [im])\n\n    return {\n        imReady,\n        imLogin,\n        imJoin,\n        createIM,\n        getImLogin,\n        joinImRoom,\n        setImLogin,\n        setImJoin,\n        im\n    }\n}\n","import React, { useState, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\nimport mLogo from './img/m-share-logo.png'\nimport WebchatOpenInBrowser from '../../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../../public/hooks/useAppDownload'\nexport default function (props) {\n    const { t } = useTranslation()\n    const { type, id } = props\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(type, id))\n    }, [])\n    return <div className=\"share-download-bottom active\" id=\"share-download-bottom\">\n        <div className=\"bottom-left\">\n            <img src={mLogo} />\n            <h4>MarsBit</h4>\n            <p>{t('all_world_dynamic')}</p>\n        </div>\n        <a className=\"b-down\" onClick={clickDownload}>{t('share_open')} APP</a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div>\n}\n","module.exports = __webpack_public_path__ + \"m-share-logo-3e28eff7.png\";","module.exports = __webpack_public_path__ + \"im-live-list-item-status-19bd2cda.gif\";","module.exports = __webpack_public_path__ + \"im-live-list-item-status2-5d5cebf1.png\";","module.exports = __webpack_public_path__ + \"live-share-guest-blue-09bc8518.png\";","module.exports = __webpack_public_path__ + \"live-share-guest-yellow-d7c73d40.png\";","module.exports = __webpack_public_path__ + \"arrow-img-d0262ecc.png\";"],"sourceRoot":""}