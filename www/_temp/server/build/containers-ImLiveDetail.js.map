{"version":3,"sources":["webpack:///./assets/components/ImLiveDetail/LeftLiveVideo/LeftLiveVideoHeader/index.js","webpack:///./assets/components/ImLiveDetail/LiveTipBox/index.js","webpack:///./assets/containers/ImLiveDetail/LeftLiveVideo/index.js","webpack:///./assets/containers/ImLiveDetail/LeftLiveAd/index.js","webpack:///./assets/components/ImLiveDetail/LeftLiveInfo/index.js","webpack:///./assets/containers/ImLiveDetail/LeftLiveBottomBox/index.js","webpack:///./assets/components/ImLiveDetail/ImLiveChatItem/index.js","webpack:///./assets/containers/ImLiveDetail/RightLiveChat/index.js","webpack:///./assets/containers/ImLiveDetail/RightLivePresenter/index.js","webpack:///./assets/containers/ImLiveDetail/RightLiveJoin/index.js","webpack:///./assets/containers/ImLiveDetail/index.js","webpack:///./_multiappsharing/components/AuthorInfo/index.js","webpack:///./_multiappsharing/components/Home/RightDownloadBox/index.js","webpack:///./_multiappsharing/public/img/right-download-ios.png","webpack:///./_multiappsharing/public/img/right-download-android.png","webpack:///./_multiappsharing/public/img/right-download-QRcode.jpg","webpack:///./_multiappsharing/public/img/v-orange.svg","webpack:///./_multiappsharing/public/img/v-blue.svg","webpack:///./assets/public/hooks/useLiveGather.js","webpack:///./_multiappsharing/components/Home/RightLive/ImLiveListItem/index.js","webpack:///./_multiappsharing/components/Home/RightLive/Image/im-live-list-item-status2.png","webpack:///./assets/components/ImLiveDetail/LeftLiveRecommend/index.js","webpack:///./assets/components/ImLiveDetail/image/notfound-icon.png","webpack:///./assets/components/ImLiveDetail/RightLiveBoxTitle/index.js","webpack:///./assets/public/hooks/useLiveGatherAjax.js","webpack:///./assets/public/hooks/useTWebLivePlayer.js","webpack:///./assets/components/ImLiveDetail/image/live_player_icon.png","webpack:///./assets/public/hooks/useTWebLiveIm.js","webpack:///./assets/components/ImLiveList/RightLiveGoodUpItem/index.js","webpack:///./assets/components/ImLiveDetail/image/live_detail_type_2.gif","webpack:///./assets/components/ImLiveDetail/image/live_detail_pop.png","webpack:///./assets/components/ImLiveDetail/image/live-tip-warning.png","webpack:///./assets/components/ImLiveDetail/image/live-tip-clear.png","webpack:///./assets/components/ImLiveDetail/image/live-tip-close.png","webpack:///./assets/components/ImLiveDetail/image/live-tip-cross.png","webpack:///./assets/containers/ImLiveDetail/Image/live_chat_nolive.png","webpack:///./assets/containers/ImLiveDetail/Image/live-join-phone.png","webpack:///./assets/containers/ImLiveDetail/Image/live-join-wx.png"],"names":["props","status","name","type2","beginTime","presenterList","popularity","pop","onBtnGetTipAddClick","playNum","playNumText","toFixed","undefined","typeIcon2","height","marginRight","popIcon","length","nickName","formatTime","warningIcon","typeArr","type","room","useState","nowType","setNowType","textImg","setTextImg","isUpImg","setIsUpImg","textArea","useRef","curWordsNum","wordsNum","useCallback","event","val","trim","target","value","current","innerText","substring","onBtnChangeTypeClick","dataURLtoBlob","dataurl","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","Blob","coverImgUpload","e","file","files","window","FileReader","reader","readAsDataURL","onloadend","result","uploadImg","uploadFile","data","watermark","then","res","code","obj","err","console","log","closeImg","onBtnOKClick","Toast","info","passportId","roomId","reason","imgUrl","getLiveTipAdd","setTimeout","onBtnClearClick","clearIcon","map","item","index","crossIcon","closeIcon","useSelector","state","live","popularityList","shallowEqual","useTWebLivePlayer","elementID","player","countTime","timeZero","setMutedBtnShow","mutedBtnShow","isPip","setIsPip","isTipShow","setIsTipShow","useEffect","box","document","getElementById","scrollFunc","windowScroll","scrollOffset","top","getPIP","style","zIndex","exitPIP","removeEventListener","isArray","recordVideoUrl","coverPicUrl","width","display","d","h","m","s","liveDetailImgData","home","url","pcImgSrc","brief","__html","typeName","INFO","RECOMMEND","useTranslation","t","roomLiveRecommendList","inforList","onBtnTypeClick","nick","text","textClass","anchorme","input","options","attributes","livePush","liveGather","roomHistoryList","userInfo","login","dispatch","useDispatch","listData","setListData","isClickChat","setIsClickChat","listScroll","timeImLogin","timeImJoin","onTextMessageReceived","elementItem","payload","cmd","JSON","parse","_elements","content","msgId","presenterItem","guestList","guesItem","setChatItem","userDefinedField","delChatItem","operationType","getRoomByID","setImJoin","useTWebLiveIm","createIM","getImLogin","joinImRoom","im","imReady","imLogin","imJoin","scrollIntoView","md5","uuid","clearInterval","setInterval","list","push","elementOffset","bottom","stringify","i","splice","setAddChat","loginShowHide","zg","test","renameShowHide","liveComentSend","msg","eventId","focus","loginPopup","noLiveIcon","keyCode","phoneIcon","wxIcon","marginTop","liveGatherAjax","AttentionButton","connect","multi","authorInfo","attentionSuccessed","className","attentionAuthorFunc","isLogin","ifCollect","id","attentionAuthor","passportid","token","authorId","Avatar","iconHide","authStyle","authName","parseInt","vGrade","vOrange","vBlue","mixUrl","main","iconUrl","AuthorName","AuthorType","color","background","isLive","and","setAnd","getAndroidDownloadUrl","iconIos","iconAnd","iconQRCaod","eventInfo","gatherLive","liveState","itemType","publishTime","timeFormat","isThisYear","href","IconStatus2","onBtnMoreClick","isHaveMore","imgIcon","title","crown","crownIcon","gatherPayload","gather","onunload","num","Number","commentStyle","fontSize","textShadow","setCountTime","getCountTimeText","nowTime","Date","getTime","endTime","leftTime","Math","floor","setPlayer","querySelector","removeAttribute","video","muted","startPlay","mobileoptions","poster","pip","screenShot","autoplay","lang","playsinline","ignores","rotate","innerRotate","clockwise","pipConfig","right","controls","danmu","comments","area","start","end","isPc","playbackRate","defaultPlaybackRate","commentsArray","mode","duration","updateTime","txt","roomType","cssFullscreen","fileExtension","require","replace","HlsJsPlayer","Player","isAutoplaySupported","supported","once","setAttribute","play","livePlayer","on","action","roomStatus","onbeforeunload","oldRoomStatus","setOldRoomStatus","playingUrl","webPullStreamUrl","pullStreamUrl","indexOf","playbackUrl","destroy","timer","getRoomPopularity","roomIDs","body","onclick","setIm","setImReady","setImLogin","setTextMessageReceived","TWebLive","SDKAppID","onIMReady","onSdkNotReady","onCustomMessageReceived","forEach","message","from","onRemoteUserJoin","userIDList","onRemoteUserLeave","onKickedOut","onNetStateChange","onPushStopped","EVENT","IM_READY","IM_NOT_READY","IM_REMOTE_USER_JOIN","IM_REMOTE_USER_LEAVE","IM_KICKED_OUT","IM_NET_STATE_CHANGED","IM_PUSH_STOPPED","_tim","TIM","MESSAGE_RECEIVED","axios","sigRes","userID","userSig","imResponse","imError","warn","enterRoom","TYPES","ENTER_ROOM_SUCCESS","ALREADY_IN_ROOM","introduce"],"mappings":"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","file":"containers-ImLiveDetail.js","sourcesContent":["import React from 'react'\nimport { formatTime } from 'multiPublic'\n\nimport './index.scss'\n\nimport { Avatar } from 'multiComps/AuthorInfo'\nimport typeIcon2 from '../../image/live_detail_type_2.gif'\nimport popIcon from '../../image/live_detail_pop.png'\nimport warningIcon from '../../image/live-tip-warning.png'\n\nexport default (props) => {\n    const {\n        status, // 当前直播状态  0即将开始 1直播中 2回放中\n        name, // 直播间标题\n        type2, // 直播间分类\n        beginTime, // 直播时间\n        presenterList, // 直播主持人列表\n        popularity, // 初始观看人数\n        pop, // 观看人次列表\n        onBtnGetTipAddClick // 点击举报按钮事件\n    } = props\n\n    let playNum = pop.popularity ? pop.popularity : (popularity && popularity !== 0 ? popularity : 0)\n    let playNumText = playNum\n    if (playNum > 1000000) {\n        playNumText = `99.9万+`\n    } else if (playNum > 10000) {\n        playNumText = `${(playNum / 10000).toFixed(1)}万`\n    }\n\n    return (\n        <div className=\"im-live-detail-left-live-video-header\">\n            <Avatar className=\"im-live-detail-left-live-video-header-img\" authorInfo={presenterList[0]} />\n            <div className=\"im-live-detail-left-live-video-header-info\">\n                <div className=\"im-live-detail-left-live-video-header-top-box\">\n                    <div className=\"im-live-detail-left-live-video-header-top-left\">\n                        {status !== undefined && status === 0 && <div className=\"im-live-detail-left-live-video-header-icon im-live-detail-left-live-video-header-type1\">即将开始</div>}\n                        {status !== undefined && status === 1 && <div className=\"im-live-detail-left-live-video-header-icon im-live-detail-left-live-video-header-type2\">\n                            <img src={typeIcon2} style={{ height: '16px', marginRight: '4px' }} />\n                            直播中\n                        </div>}\n                        {status !== undefined && status === 2 && <div className=\"im-live-detail-left-live-video-header-icon im-live-detail-left-live-video-header-type3\">回放中</div>}\n                        {name && name !== '' && <div className=\"im-live-detail-left-live-video-header-title\" title={name}>{name}</div>}\n                        {type2 && type2 !== '' && <div className=\"im-live-detail-left-live-video-header-title-sp\">{type2}</div>}\n                    </div>\n                    <div className=\"im-live-detail-left-live-video-header-top-text\">\n                        <img className=\"im-live-detail-left-live-video-header-top-text-icon\" src={popIcon} />\n                        {`观看人次：${playNumText}`}\n                    </div>\n                </div>\n                <div className=\"im-live-detail-left-live-video-header-bottom-box\">\n                    <div className=\"im-live-detail-left-live-video-header-bottom-left\">\n                        {name && name !== '' && <div className=\"im-live-detail-left-live-video-header-bottom-text\">{`主播：${presenterList && presenterList.length > 0 && presenterList[0].nickName !== '' ? presenterList[0].nickName : ''}`}</div>}\n                        {beginTime && beginTime !== '' && <div className=\"im-live-detail-left-live-video-header-bottom-text\">{`直播时间：${formatTime(beginTime, 'yyyy-MM-dd hh:mm')}`}</div>}\n                    </div>\n                    <div className=\"im-live-detail-left-live-video-header-bottom-right\" onClick={() => onBtnGetTipAddClick()}>\n                        <img className=\"im-live-detail-left-live-video-header-bottom-right-icon\" src={warningIcon} />\n                        举报\n                    </div>\n                </div>\n            </div>\n        </div >\n    )\n}\n","import React, { useState, useCallback, useRef } from 'react'\n\nimport './index.scss'\n\nimport { trim } from 'multiPublic'\nimport Toast from 'multiComps/Toast'\nimport { uploadImg, getLiveTipAdd } from '../../../redux/actions/live'\nimport clearIcon from '../image/live-tip-clear.png'\nimport closeIcon from '../image/live-tip-close.png'\nimport crossIcon from '../image/live-tip-cross.png'\n\n// 举报类型数组\nconst typeArr = [\n    { type: 1, name: '违法违禁' },\n    { type: 2, name: '淫秽色情' },\n    { type: 3, name: '抽烟喝酒' },\n    { type: 4, name: '危险行为' },\n    { type: 5, name: '侮辱谩骂' },\n    { type: 6, name: '其他' }\n]\n\nexport default (props) => {\n    const { room, onBtnGetTipAddClick } = props\n    const [nowType, setNowType] = useState(0) // 当前选择的举报类型\n    const [textImg, setTextImg] = useState('') // 举报图片\n    const [isUpImg, setIsUpImg] = useState(false) // 是否正在上传图片\n    const textArea = useRef() // 输入框实例\n    const curWordsNum = useRef() // 输入字数\n\n    /** @desc 评论输入字数量 */\n    const wordsNum = useCallback((event) => {\n        const val = trim(event.target.value)\n        if (val.length <= 100) {\n            curWordsNum.current.innerText = val.length\n        } else {\n            event.target.value = val.substring(0, 300)\n        }\n    }, [])\n\n    // 点击举报类型按钮事件\n    const onBtnChangeTypeClick = useCallback(\n        (type) => {\n            setNowType(type)\n        },\n        []\n    )\n\n    // 图片地址转换Blob格式\n    const dataURLtoBlob = (dataurl) => {\n        let arr = dataurl.split(',')\n        let mime = arr[0].match(/:(.*?);/)[1]\n        let bstr = atob(arr[1])\n        let n = bstr.length\n        let u8arr = new Uint8Array(n)\n        while (n--) {\n            u8arr[n] = bstr.charCodeAt(n)\n        }\n        return new Blob([u8arr], { type: mime })\n    }\n\n    // 上传图片事件\n    const coverImgUpload = useCallback(\n        (e) => {\n            let file = e.target.files[0] // 获取文件\n            if (window.FileReader) { // 如果浏览器支持FileReader\n                const reader = new FileReader() // 新建一个FileReader对象\n                reader.readAsDataURL(file) // 读取文件url\n                reader.onloadend = (e) => {\n                    setTextImg(e.target.result)\n                    setIsUpImg(true)\n                    uploadImg({\n                        uploadFile: dataURLtoBlob(e.target.result),\n                        type: 'news',\n                        data: '',\n                        watermark: 0\n                    }).then((res) => {\n                        if (res.code === 1) {\n                            setTextImg(res.obj)\n                        }\n                        setIsUpImg(false)\n                    }).catch((err) => {\n                        console.log('上传图片失败')\n                        setIsUpImg(false)\n                        throw err\n                    })\n                }\n            }\n        },\n        []\n    )\n\n    // 点击取消图片事件\n    const closeImg = useCallback(\n        () => {\n            setTextImg('')\n        },\n        []\n    )\n\n    // 点击提交按钮事件\n    const onBtnOKClick = useCallback(\n        () => {\n            if (isUpImg === true) return\n            if (nowType === 0) {\n                Toast.info('请选择举报类型')\n                return\n            }\n\n            let passportId = room.presenterList && room.presenterList.length > 0 ? room.presenterList[0].passportId : ''\n            if (passportId === '') return\n            let val = trim(textArea.current.value)\n            let obj = {\n                roomId: room.roomId,\n                passportId: passportId,\n                type: nowType,\n                reason: val,\n                imgUrl: textImg\n            }\n\n            getLiveTipAdd(obj).then((res) => {\n                if (res.code === 1) {\n                    Toast.info('举报成功')\n                    setTimeout(() => {\n                        onBtnGetTipAddClick()\n                    }, 1000)\n                }\n            }).catch((err) => {\n                Toast.info('举报失败')\n                throw err\n            })\n        },\n        [isUpImg, nowType, onBtnGetTipAddClick]\n    )\n\n    // 点击取消按钮事件\n    const onBtnClearClick = useCallback(\n        () => {\n            onBtnGetTipAddClick()\n        },\n        [onBtnGetTipAddClick]\n    )\n\n    return (\n        <div className=\"im-live-tip-box\">\n            <div className=\"im-live-tip-box-bg\"></div>\n            <div className=\"im-live-tip-box-popup\">\n                <div className=\"im-live-tip-box-top\">\n                    <div className=\"im-live-tip-box-title\">举报理由</div>\n                    <div className=\"im-live-tip-box-clear\" onClick={() => onBtnClearClick()}>\n                        <img className=\"im-live-tip-box-clear-img\" src={clearIcon} />\n                    </div>\n                </div>\n                <div className=\"im-live-tip-box-type-list\">\n                    {\n                        typeArr.map((item, index) => {\n                            return (\n                                <div className={`im-live-tip-box-type-item ${item.type === nowType ? 'im-live-tip-box-type-item-active' : ''}`} key={index} onClick={() => onBtnChangeTypeClick(item.type)} >\n                                    {item.name}\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n                <div className=\"im-live-tip-box-reason\">\n                    <textarea className=\"im-live-tip-box-reason-input\" placeholder=\"（必填）填写举报理由与上传截图，可让快速处理相关问题\" ref={textArea} onChange={wordsNum}></textarea>\n                    <div className=\"im-live-tip-box-reason-input-sp\"><em ref={curWordsNum}>0</em>/300</div>\n                </div>\n                <div className=\"im-live-tip-box-update\">\n                    <div className=\"im-live-tip-box-update-img-bg\">\n                        <img className={`im-live-tip-box-update-img-cross ${textImg !== '' ? 'im-live-tip-box-update-img-text' : ''}`} src={textImg !== '' ? textImg : crossIcon} />\n                        <input className=\"im-live-tip-box-update-img-inputfile\" onChange={(e) => coverImgUpload(e)} name=\"file\" id=\"file\" type=\"file\" accept=\".jpg,.jpeg,.png\" />\n                        {textImg !== '' ? <img className=\"im-live-tip-box-update-img-close\" onClick={() => closeImg()} src={closeIcon} /> : null}\n                    </div>\n                    <div className=\"im-live-tip-box-update-text\">（必填）图片大小不超过4M</div>\n                </div>\n                <div className=\"im-live-tip-box-btn\" onClick={() => onBtnOKClick()}>提交</div>\n            </div>\n        </div>\n    )\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useSelector, shallowEqual } from 'react-redux'\n\nimport './index.scss'\n\nimport LeftLiveVideoHeader from '../../../components/ImLiveDetail/LeftLiveVideo/LeftLiveVideoHeader'\n// import LeftLiveVideoFooter from '../../../components/ImLiveDetail/LeftLiveVideo/LeftLiveVideoFooter'\nimport LiveTipBox from '../../../components/ImLiveDetail/LiveTipBox'\nimport useTWebLivePlayer from '../../../public/hooks/useTWebLivePlayer'\nimport { windowScroll, scrollOffset, isArray } from 'multiPublic'\n\nexport default () => {\n    const { room, popularityList } = useSelector((state) => ({\n        room: state.live.room,\n        popularityList: state.live.popularityList\n    }), shallowEqual)\n    const {\n        player,\n        countTime,\n        timeZero,\n        setMutedBtnShow,\n        mutedBtnShow\n    } = useTWebLivePlayer({ elementID: 'im-live-detail-left-live-video' })\n    const [isPip, setIsPip] = useState(0)\n    const [isTipShow, setIsTipShow] = useState(false) // 是否显示举报弹窗\n\n    // 滚动画中画\n    useEffect(() => {\n        if ((room.status !== 2 && room.status !== 1) || !player) return\n        const box = document.getElementById('im-live-detail-left-live-video')\n        const scrollFunc = windowScroll((res) => {\n            if (res === 'down' && isPip === 0 && scrollOffset().top > 600) {\n                player.getPIP()\n                setIsPip(1)\n                box.style.zIndex = 1000\n            }\n\n            if (res === 'up' && isPip === 1 && scrollOffset().top < 600) {\n                player.exitPIP()\n                setIsPip(0)\n                box.style.zIndex = 0\n            }\n        })\n\n        return () => {\n            window.removeEventListener('scroll', scrollFunc, false)\n        }\n    }, [room, player, isPip])\n\n    // 点击举报按钮事件\n    const onBtnGetTipAddClick = useCallback(\n        () => {\n            setIsTipShow(!isTipShow)\n        },\n        [isTipShow]\n    )\n\n    return (\n        <div className=\"im-live-detail-left-live-video\">\n            <LeftLiveVideoHeader {...room} pop={popularityList && isArray(popularityList) && popularityList.length > 0 ? popularityList[0] : 0} onBtnGetTipAddClick={onBtnGetTipAddClick} />\n            <div className=\"im-live-detail-left-live-video-wrapper\">\n                {room.status === 0 || (room.status === 2 && !room.recordVideoUrl) ? <img className=\"im-live-detail-left-live-video-bg\" src={room.coverPicUrl} /> : null}\n                <div className=\"im-live-detail-video-wrapper\">\n                    <div id=\"im-live-detail-left-live-video\" style={{ width: '100%', height: '100%', zIndex: 0 }}></div>\n                    <div className=\"click-cancel-muted\" style={{ display: mutedBtnShow ? 'block' : 'none' }} onClick={() => {\n                        if (!player) return\n                        setMutedBtnShow(false)\n                    }}>\n                        <button>点击取消静音</button>\n                    </div>\n                </div>\n                {room.status === 0 ? <div className=\"im-live-detail-left-live-video-footer\">\n                    {countTime.d === 0 && countTime.h === 0 && countTime.m === 0 && countTime.s === 0\n                        ? <div className=\"im-live-detail-left-live-video-footer-text1\">主播马上就到，敬请期待</div>\n                        : <div className=\"im-live-detail-left-live-video-footer-text1\">距开播预计还剩</div>}\n                    {countTime.d === 0 && countTime.h === 0 && countTime.m === 0 && countTime.s === 0 ? null\n                        : <div className=\"im-live-detail-left-live-video-footer-text2\">\n                            {timeZero(countTime.d)}\n                            <span className=\"im-live-detail-left-live-video-footer-text1\">天</span>\n                            {timeZero(countTime.h)}\n                            <span className=\"im-live-detail-left-live-video-footer-text1\">时</span>\n                            {timeZero(countTime.m)}\n                            <span className=\"im-live-detail-left-live-video-footer-text1\">分</span>\n                            {timeZero(countTime.s)}\n                            <span className=\"im-live-detail-left-live-video-footer-text1\">秒</span>\n                        </div>}\n                </div> : null}\n                {room.status === 2 && !room.recordVideoUrl ? <div className=\"im-live-detail-left-live-video-footer\">\n                    <div className=\"im-live-detail-left-live-video-footer-text1\">直播已结束，回放制作中，敬请期待</div>\n                </div> : null}\n            </div>\n            {/* <LeftLiveVideoFooter {...room} countTime={countTime} /> */}\n            {isTipShow === true ? <LiveTipBox room={room} onBtnGetTipAddClick={onBtnGetTipAddClick} /> : null}\n        </div>\n    )\n}\n","import React from 'react'\nimport { useSelector, shallowEqual } from 'react-redux'\n\nimport './index.scss'\n\n// import joinIcon from '../Image/live-ad-join.png'\n\nexport default () => {\n    const { liveDetailImgData } = useSelector((state) => ({\n        liveDetailImgData: state.home.liveDetailImgData\n    }), shallowEqual)\n\n    return (\n        <div className=\"im-live-detail-left-live-ad\">\n            <a className=\"im-live-list-right-join-box\" href={liveDetailImgData.length > 0 ? liveDetailImgData[0].url : ''} target=\"_blank\">\n                <img className=\"im-live-detail-left-live-ad-img\" src={liveDetailImgData.length > 0 ? liveDetailImgData[0].pcImgSrc : ''} />\n            </a>\n        </div>\n    )\n}\n","import React from 'react'\n\nimport './index.scss'\n\nexport default (props) => {\n    const {\n        brief // 直播简介\n    } = props\n\n    return (\n        <div className=\"im-live-detail-left-live-info\">\n            <div className=\"ql-container ql-snow\">\n                <div className=\"ql-editor\" dangerouslySetInnerHTML={{ __html: brief }} />\n            </div>\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport { useSelector, shallowEqual } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport LeftLiveInfo from '../../../components/ImLiveDetail/LeftLiveInfo'\nimport LeftLiveRecommend from '../../../components/ImLiveDetail/LeftLiveRecommend'\n\nconst typeName = {\n    INFO: 'info',\n    RECOMMEND: 'recommend'\n}\n\nexport default () => {\n    const { t } = useTranslation()\n    const { brief, roomLiveRecommendList } = useSelector((state) => ({\n        brief: state.live.room.brief,\n        roomLiveRecommendList: state.live.roomLiveRecommendList.inforList // 推荐列表\n    }), shallowEqual)\n    const [nowType, setNowType] = useState(typeName.INFO)\n\n    // 点击切换标签按钮事件\n    const onBtnTypeClick = (type) => {\n        setNowType(type)\n    }\n\n    return (\n        <div className=\"im-live-detail-left-live-bottom-box\">\n            <div className=\"im-live-detail-left-live-bottom-box-header\">\n                <div className=\"im-live-detail-left-live-bottom-box-header-item\" onClick={() => onBtnTypeClick(typeName.INFO)}>\n                    <div className={`im-live-detail-left-live-bottom-box-header-text ${nowType === typeName.INFO ? 'im-live-detail-left-live-bottom-box-header-select' : ''}`}>\n                        {t('live_brief')}\n                    </div>\n                    {nowType === typeName.INFO && <div className=\"im-live-detail-left-live-bottom-box-header-line\"></div>}\n                </div>\n                <div className=\"im-live-detail-left-live-bottom-box-header-item\" onClick={() => onBtnTypeClick(typeName.RECOMMEND)}>\n                    <div className={`im-live-detail-left-live-bottom-box-header-text ${nowType === typeName.RECOMMEND ? 'im-live-detail-left-live-bottom-box-header-select' : ''}`}>\n                      {t('live_tj_strem')}\n                    </div>\n                    {nowType === typeName.RECOMMEND && <div className=\"im-live-detail-left-live-bottom-box-header-line\"></div>}\n                </div>\n            </div>\n            <div className=\"im-live-detail-left-live-bottom-box-wrapper\">\n                {nowType === typeName.INFO && <LeftLiveInfo brief={brief} />}\n                {nowType === typeName.RECOMMEND && <LeftLiveRecommend listData={roomLiveRecommendList} />}\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\n// import { urlToLink } from 'multiPublic/index'\nimport anchorme from 'anchorme'\n\nimport './index.scss'\n\nexport default (props) => {\n    const {\n        type, // 类型 0.普通 1.主播 2.嘉宾 98.加入信息 99.系统\n        nick, // 姓名\n        text // 内容\n    } = props\n\n    const textClass = type !== undefined\n        ? type === 99 ? 'im-live-detail-right-chart-item-sys'\n            : type === 98 ? 'im-live-detail-right-chart-item-name'\n                : ''\n        : ''\n\n    return (\n        <div className=\"im-live-detail-right-chart-item\">\n            {type !== undefined && type === 1 && <span className=\"im-live-detail-right-chart-item-sp im-live-detail-right-chart-item-icon1\">主播</span>}\n            {type !== undefined && type === 2 && <span className=\"im-live-detail-right-chart-item-sp im-live-detail-right-chart-item-icon2\">嘉宾</span>}\n            {nick !== undefined && <span className=\"im-live-detail-right-chart-item-name\">{`${nick}：`}</span>}\n            {/* {text !== undefined\n                ? type === 1 || type === 2\n                    ? <span className={`im-live-chart-item ${textClass}`} dangerouslySetInnerHTML={{ __html: urlToLink(text) }} />\n                    : <span className={textClass}>{text}</span>\n                : ''} */}\n            {/* {text !== undefined\n                ? <span className={`im-live-chart-item ${textClass}`} dangerouslySetInnerHTML={{ __html: urlToLink(text) }} />\n                : ''\n            } */}\n            {text !== undefined\n                ? <span className={`im-live-chart-item ${textClass}`}\n                    dangerouslySetInnerHTML={{\n                        __html: anchorme({\n                            input: text,\n                            options: {\n                                attributes: {\n                                    target: '_blank'\n                                }\n                            }\n                        })\n                    }}\n                />\n                : ''\n            }\n        </div>\n    )\n}\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux'\nimport md5 from 'blueimp-md5'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport { trim, isArray, uuid, elementOffset } from 'multiPublic'\nimport { loginShowHide, renameShowHide } from 'multiRedux/actions/login'\nimport { liveComentSend, getRoomByID } from '../../../redux/actions/live'\nimport ImLiveChatItem from '../../../components/ImLiveDetail/ImLiveChatItem'\nimport RightLiveBoxTitle from '../../../components/ImLiveDetail/RightLiveBoxTitle'\nimport useTWebLiveIm from '../../../public/hooks/useTWebLiveIm'\nimport noLiveIcon from '../Image/live_chat_nolive.png'\nimport liveGather from '../../../public/hooks/useLiveGather'\n// import { commentStyle } from '../../../public/hooks/useTWebLivePlayer'\nimport Toast from 'multiComps/Toast'\n\nexport default () => {\n    const livePush = liveGather()\n\n    const { t } = useTranslation()\n\n    const { room, userInfo, roomHistoryList } = useSelector((state) => ({\n        room: state.live.room,\n        roomHistoryList: state.live.roomHistoryList,\n        userInfo: state.login.userInfo.info\n    }), shallowEqual)\n    // console.log(roomHistoryList, 2222)\n    const dispatch = useDispatch()\n    const [listData, setListData] = useState([])\n    const [isClickChat, setIsClickChat] = useState(0)\n    const curWordsNum = useRef()\n    const textArea = useRef()\n    const listScroll = useRef()\n    const timeImLogin = useRef()\n    const timeImJoin = useRef()\n\n    // 发送弹幕\n    // const sendDamu = useCallback((val) => {\n    //     if (!window.livePlayer) return\n    //     window.livePlayer.danmu.sendComment({\n    //         mode: 'scroll',\n    //         duration: 15000,\n    //         id: uuid(),\n    //         txt: val,\n    //         style: commentStyle\n    //     })\n    // }, [])\n\n    // console.log(listData)\n\n    // 监听聊天室新信息\n    const onTextMessageReceived = (event) => {\n        if (!event || !event.data || !isArray(event.data)) return\n        event.data.map((elementItem) => {\n            if (!elementItem.type) return\n            switch (elementItem.type) {\n                case 'TIMCustomElem':\n                    if (!elementItem.payload || !elementItem.payload.data) return\n                    let cmd = JSON.parse(elementItem.payload.data).cmd\n                    if (cmd === 'CustomTextMsg') {\n                        if (!elementItem._elements || !isArray(elementItem._elements)) return\n                        let obj = { type: 0 }\n                        elementItem._elements.map((item) => {\n                            if (item.type === 'TIMCustomElem') {\n                                let data = JSON.parse(item.content.data).data\n                                obj.nick = data.nickName\n                                obj.msgId = data.msgId\n\n                                let presenterList = !room.presenterList ? [] : room.presenterList\n                                presenterList.map((presenterItem) => {\n                                    if (data.passportId === presenterItem.passportId) {\n                                        obj.type = 1\n                                    }\n                                })\n\n                                let guestList = !room.guestList ? [] : room.guestList\n                                guestList.map((guesItem) => {\n                                    if (data.passportId === guesItem.passportId) {\n                                        obj.type = 2\n                                    }\n                                })\n                            } else if (item.type === 'TIMTextElem') {\n                                obj.text = item.content.text\n                            } else {\n                                console.log('====================================')\n                                console.log(`新的类型参数：${item}`)\n                                console.log('====================================')\n                            }\n                        })\n\n                        setChatItem(obj)\n                        // sendDamu(obj.text)\n                    }\n                    break\n                case 'TIMGroupSystemNoticeElem':\n                    if (!elementItem.payload) return\n                    if (elementItem.payload.userDefinedField && elementItem.payload.userDefinedField !== '') {\n                        let userDefinedField = JSON.parse(elementItem.payload.userDefinedField)\n                        let cmd = userDefinedField.cmd\n\n                        // 删除评论\n                        if (cmd === 'delMsgHx' && userDefinedField.data && userDefinedField.data.msgId) {\n                            delChatItem(userDefinedField.data.msgId)\n                        }\n\n                        // 禁言\n                        if (cmd === 'forbidMsgHx' && userDefinedField.data && userDefinedField.data.passportId && userDefinedField.data.content) {\n                            if (userInfo.passportId && userInfo.passportId === userDefinedField.data.passportId) {\n                                setChatItem({ type: 99, text: userDefinedField.data.content })\n                            }\n                        }\n                    } else if (elementItem.payload.operationType && elementItem.payload.operationType === 5) {\n                        // 直播间直播结束（群被解散）\n                        dispatch(getRoomByID({ roomId: room.roomId }))\n                        setImJoin(false)\n                    }\n                    break\n                default:\n                    break\n            }\n        })\n    }\n\n    const { createIM, getImLogin, joinImRoom, setImJoin, im, imReady, imLogin, imJoin } = useTWebLiveIm()\n\n    useEffect(() => {\n        let status = room.status ? room.status : 0\n        switch (status) {\n            case 0:\n                setIsClickChat(1)\n                break\n            case 1:\n                setIsClickChat(0)\n                break\n            case 2:\n                setIsClickChat(1)\n                break\n            default:\n                break\n        }\n    }, [room])\n\n    // 加载回放中历史聊天记录\n    useEffect(() => {\n        if (room.status === 0) return\n        if (roomHistoryList && isArray(roomHistoryList) && roomHistoryList.length > 0) {\n            setListData([])\n            roomHistoryList.map((item) => {\n                let obj = {\n                    nick: item.nickName,\n                    text: item.content,\n                    type: 0\n                }\n\n                let presenterList = !room.presenterList ? [] : room.presenterList\n                presenterList.map((presenterItem) => {\n                    if (item.passportId === presenterItem.passportId) {\n                        obj.type = 1\n                    }\n                })\n\n                let guestList = !room.guestList ? [] : room.guestList\n                guestList.map((guesItem) => {\n                    if (item.passportId === guesItem.passportId) {\n                        obj.type = 2\n                    }\n                })\n\n                setChatItem(obj)\n            })\n\n            setTimeout(() => {\n                listScroll.current.scrollIntoView(false) // 移动到列表底部\n            }, 500)\n        }\n    }, [room, roomHistoryList])\n\n    // 创建直播间\n    useEffect(() => {\n        if (room.status !== 1) return\n        createIM(onTextMessageReceived)\n    }, [room.status])\n    // 登录\n    useEffect(() => {\n        if (!im) return\n        // 未登录下用 uuid md5 取第8-24位\n        const passportId = !userInfo.passportId ? md5(uuid()).substring(7, 23) : userInfo.passportId\n        getImLogin(passportId)\n    }, [im, userInfo])\n    // 加入聊天室\n    useEffect(() => {\n        if (timeImLogin.current) {\n            clearInterval(timeImLogin.current)\n            timeImLogin.current = null\n        }\n\n        if (imReady) {\n            if (!imLogin && room.status === 1) {\n                timeImLogin.current = setInterval(() => {\n                    // 未登录下用 uuid md5 取第8-24位\n                    const passportId = !userInfo.passportId ? md5(uuid()).substring(7, 23) : userInfo.passportId\n                    getImLogin(passportId)\n                }, 10000)\n            } else {\n                clearInterval(timeImLogin.current)\n                timeImLogin.current = null\n                joinImRoom(room.roomId)\n            }\n        }\n\n        return () => {\n            clearInterval(timeImLogin.current)\n        }\n    }, [imReady, imLogin, userInfo, room.status])\n    // 掉线后循环请求加入\n    useEffect(() => {\n        if (timeImJoin.current) {\n            clearInterval(timeImJoin.current)\n            timeImJoin.current = null\n        }\n        if (!imJoin && room.status === 1) {\n            timeImJoin.current = setInterval(() => {\n                joinImRoom(room.roomId)\n            }, 10000)\n        } else {\n            clearInterval(timeImJoin.current)\n            timeImJoin.current = null\n        }\n\n        return () => {\n            clearInterval(timeImJoin.current)\n            timeImJoin.current = null\n        }\n    }, [room.status, imJoin])\n    useEffect(() => {\n        if (imReady === true && imLogin === true && imJoin === true) {\n            setChatItem({ type: 98, text: '欢迎来到MarsBit直播间！直播间内严禁出现违法违规、低俗色情、吸烟酗酒等内容，若有违规行为请及时举报' })\n\n            setTimeout(() => {\n                listScroll.current.scrollIntoView(false) // 移动到列表底部\n            }, 500)\n        }\n    }, [imReady, imLogin, imJoin])\n\n    // 插入聊天\n    const setChatItem = useCallback((data) => {\n        let list = listData\n        list.push(data)\n\n        if (elementOffset(listScroll.current).bottom === 645) {\n            setListData(JSON.parse(JSON.stringify(list)))\n            listScroll.current.scrollIntoView(false) // 移动到列表底部\n        } else {\n            setListData(JSON.parse(JSON.stringify(list)))\n            // console.log(JSON.parse(JSON.stringify(list)), 222)\n        }\n    }, [])\n\n    // 删除聊天\n    const delChatItem = useCallback(\n        (msgId) => {\n            let list = listData\n            for (let i = 0; i < list.length; i++) {\n                if (list[i].msgId && list[i].msgId === msgId) {\n                    list.splice(i, 1)\n                    break\n                }\n            }\n\n            if (elementOffset(listScroll.current).bottom === 645) {\n                setListData(JSON.parse(JSON.stringify(list)))\n                listScroll.current.scrollIntoView(false) // 移动到列表底部\n            } else {\n                setListData(JSON.parse(JSON.stringify(list)))\n            }\n        },\n        []\n    )\n\n    /** @desc 评论输入字数量 */\n    const wordsNum = useCallback((event) => {\n        const val = trim(event.target.value)\n        if (val.length <= 100) {\n            curWordsNum.current.innerText = val.length\n        } else {\n            event.target.value = val.substring(0, 100)\n        }\n    }, [])\n\n    // 发送评论\n    // im.sendCustomMessage() 由于存在自定义消息，故用系统发送消息办法\n    const setAddChat = useCallback(async () => {\n        if (!imJoin || isClickChat === 1) return\n\n        if (!userInfo.passportId) {\n            dispatch(loginShowHide('account', true))\n            return\n        }\n\n        if (!userInfo.nickName || userInfo.nickName === '') {\n            return\n        } else {\n            const zg = /^[0-9a-zA-Z]*$/\n            const text = userInfo.nickName.split('MarsBit')\n\n            if (text.length === 2 && text[0] === '' && zg.test(text[1])) {\n                dispatch(renameShowHide(true))\n                return\n            }\n        }\n\n        const val = trim(textArea.current.value)\n        if (val === '') return\n\n        try {\n            setIsClickChat(1)\n\n            const res = await liveComentSend({\n                roomId: room.roomId,\n                passportId: userInfo.passportId,\n                nickName: userInfo.nickName,\n                content: val\n            })\n\n            if (!res || res.code !== 1) {\n                // console.log(res)\n                // textArea.current.value = res.msg ? res.msg : '发送失败'\n                Toast.info(res.msg ? res.msg : '发送失败')\n                setIsClickChat(0)\n            } else {\n                setIsClickChat(0)\n                livePush({ eventId: 'send_msg' })\n            }\n            textArea.current.value = ''\n            textArea.current.focus()\n            listScroll.current.scrollIntoView(false) // 移动到列表底部\n        } catch (err) {\n            console.log('im | sendCustomMessage | failed', err)\n            setIsClickChat(0)\n        }\n    }, [imJoin, isClickChat, userInfo])\n\n    /** @desc 登录弹出 */\n    const loginPopup = useCallback(() => {\n        if (room && room.status === 2) return\n        dispatch(loginShowHide('account', true))\n    }, [])\n\n    return (\n        <div className=\"im-live-detail-right-live-chat\">\n            <RightLiveBoxTitle title={t('live_commincation')} />\n            {room && room.status !== undefined && room.status === 0 && <div className=\"im-live-detail-right-live-chat-nolive\">\n                <img className=\"im-live-detail-right-live-chat-nolive-icon\" src={noLiveIcon} />\n                {t('live_not_start')}\n            </div>}\n            <div className=\"im-live-detail-right-live-chat-list\" >\n                <div className=\"im-live-detail-right-live-chat-list-box\" id=\"id_scroll\" ref={listScroll}>\n                    {\n                        listData && listData.map((item, index) => {\n                            if (!item.text) return\n                            return (\n                                <ImLiveChatItem {...item} key={index} />\n                            )\n                        })\n                    }\n                </div>\n            </div>\n            <div className=\"im-live-detail-right-live-chat-input-box\">\n                {(!userInfo.passportId || (room && room.status !== undefined && room.status !== 1)) && <div className={`im-live-detail-right-live-chat-input ${room && room.status !== undefined && room.status === 2 ? 'im-live-detail-right-live-chat-input-end' : 'im-live-detail-right-live-chat-input-noload'}`} onClick={loginPopup}>\n                    {room && room.status !== undefined && room.status === 2 ? null : <span className=\"im-live-detail-right-live-chat-input-noload-sp\">登录</span>}\n                    {room && room.status !== undefined && room.status === 2 ? t('live_finsh') : t('live_to_say')}\n                </div>}\n                {\n                    userInfo &&\n                    userInfo.passportId &&\n                    room &&\n                    room.status !== undefined &&\n                    room.status === 1 &&\n                    <textarea\n                        className=\"im-live-detail-right-live-chat-input\"\n                        ref={textArea}\n                        onChange={wordsNum}\n                        onKeyUp={(event) => {\n                            if (event && event.type === 'keyup' && event.keyCode !== 13) return\n                            setAddChat()\n                        }}\n                        disabled={isClickChat === 1 || !imJoin}\n                    />\n                }\n                <div className=\"im-live-detail-right-live-chat-btn-box\">\n                    <div className=\"im-live-detail-right-live-btn-sp\"><em ref={curWordsNum}>0</em>/100</div>\n                    <div className={`im-live-detail-right-live-chat-btn ${room && room.status !== undefined && room.status !== 2 && isClickChat === 0 && imJoin === true ? 'im-live-detail-right-live-chat-btn-ok' : ''}`} onClick={setAddChat}>{t('live_send')}</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useSelector, shallowEqual } from 'react-redux'\n\nimport './index.scss'\n\nimport { isArray } from 'multiPublic'\nimport RightLiveBoxTitle from '../../../components/ImLiveDetail/RightLiveBoxTitle'\nimport RightLiveGoodUpItem from '../../../components/ImLiveList/RightLiveGoodUpItem'\n\nexport default () => {\n    const { room } = useSelector((state) => ({\n        room: state.live.room\n    }), shallowEqual)\n    return (\n        <div className=\"im-live-detail-right-live-presenter\">\n            <RightLiveBoxTitle title={'主讲人'} />\n            <div className=\"im-live-detail-right-live-presenter-box\">\n                {\n                    room.presenterList && isArray(room.presenterList) && room.presenterList.map((item, index) => {\n                        return (\n                            <RightLiveGoodUpItem {...item} key={index} />\n                        )\n                    })\n                }\n                {\n                    room.guestList && isArray(room.guestList) && room.guestList.map((item, index) => {\n                        return (\n                            <RightLiveGoodUpItem {...item} key={index} />\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\n\nimport './index.scss'\n\nimport RightLiveBoxTitle from '../../../components/ImLiveDetail/RightLiveBoxTitle'\nimport phoneIcon from '../Image/live-join-phone.png'\nimport wxIcon from '../Image/live-join-wx.png'\n\nexport default () => {\n    return (\n        <div className=\"im-live-detail-right-live-join\">\n            <RightLiveBoxTitle title={'直播合作'} />\n            <div className=\"im-live-detail-right-live-join-box\">\n                <div className=\"im-live-detail-right-live-join-title\">直播咨询</div>\n                <div className=\"im-live-detail-right-live-join-text-box\">\n                    <img className=\"im-live-detail-right-live-join-img\" src={phoneIcon} />\n                    <div className=\"im-live-detail-right-live-join-text\">电话：18322606595</div>\n                </div>\n                <div className=\"im-live-detail-right-live-join-text-box\">\n                    <img className=\"im-live-detail-right-live-join-img\" src={wxIcon} />\n                    <div className=\"im-live-detail-right-live-join-text\">微信：CRYPTO1996</div>\n                </div>\n                <div className=\"im-live-detail-right-live-join-title\" style={{ marginTop: '24px' }} >商务合作</div>\n                <div className=\"im-live-detail-right-live-join-text-box\">\n                    <img className=\"im-live-detail-right-live-join-img\" src={phoneIcon} />\n                    <div className=\"im-live-detail-right-live-join-text\">电话：15555527736</div>\n                </div>\n                <div className=\"im-live-detail-right-live-join-text-box\">\n                    <img className=\"im-live-detail-right-live-join-img\" src={wxIcon} />\n                    <div className=\"im-live-detail-right-live-join-text\">微信：15555527736</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, { useEffect } from 'react'\n\nimport './index.scss'\n\nimport LeftLiveVideo from './LeftLiveVideo'\nimport LeftLiveAd from './LeftLiveAd'\nimport LeftLiveBottomBox from './LeftLiveBottomBox'\nimport RightDownloadBox from 'multiComps/Home/RightDownloadBox'\nimport RightLiveChat from './RightLiveChat'\nimport RightLivePresenter from './RightLivePresenter'\nimport RightLiveJoin from './RightLiveJoin'\nimport liveGather from '../../public/hooks/useLiveGather'\nimport liveGatherAjax from '../../public/hooks/useLiveGatherAjax'\n\nexport default () => {\n    liveGatherAjax()\n    const livePush = liveGather()\n    useEffect(() => {\n        livePush({ eventId: 'view_live_intro' })\n    }, [])\n    return (\n        <div className=\"im-live-detail-page\">\n            <div className=\"im-live-detail-page-main-box\">\n                <div className=\"im-live-detail-page-main-box-left\">\n                    <LeftLiveVideo />\n                    <LeftLiveAd />\n                    <LeftLiveBottomBox />\n                </div>\n                <div className=\"im-live-detail-page-main-box-right\">\n                    <RightLiveChat />\n                    <RightLivePresenter />\n                    <RightLiveJoin />\n                    <RightDownloadBox isLive />\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React, { useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport vOrange from '../../public/img/v-orange.svg'\nimport vBlue from '../../public/img/v-blue.svg'\n\nimport { isLogin } from 'multiComps/RegisterLogin/public'\nimport Toast from 'multiComps/Toast'\nimport { mixUrl } from 'multiPublic/index'\nimport { attentionAuthor } from 'multiRedux/actions/news'\n\n/** @desc 关注按钮 */\nexport const AttentionButton = connect((state) => ({\n    userInfo: state.multi.login.userInfo.info\n}))((props) => {\n    const { authorInfo, userInfo, attentionSuccessed, className, dispatch } = props\n    const { t } = useTranslation()\n\n    /** @desc 关注作者 */\n    const attentionAuthorFunc = useCallback(() => {\n        if (!isLogin(userInfo.passportId, dispatch)) return\n\n        const type = authorInfo.ifCollect === 1 ? 'delete' : 'add'\n        const id = authorInfo.passportId\n        attentionAuthor({\n            passportid: userInfo.passportId,\n            token: userInfo.token,\n            authorId: id\n        }, type).then(function (res) {\n            if (res.code === 1) {\n                attentionSuccessed()\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            Toast.info('关注作者错误')\n            throw err\n        })\n    }, [userInfo, authorInfo])\n    return <button\n        onClick={attentionAuthorFunc}\n        className={`attention-author-button ${authorInfo.ifCollect === 1 ? 'active' : ''} ${className || ''}`}>\n        {authorInfo.ifCollect === 1 ? t('guan_zhu_ed') : t('guan_zhu')}\n    </button>\n})\n\n/** @desc 头像 */\nexport const Avatar = (props) => {\n    const { authorInfo, iconHide, className } = props // iconHide认证类型图标是否隐藏\n    const { t } = useTranslation()\n\n    /** @desc 认证样式与名称 */\n    let authStyle = null\n    let authName = t('author_info_ordinary_user')\n    switch (parseInt(authorInfo.vGrade)) {\n        case 0:\n            authName = t('author_info_ordinary_user')\n            break\n        case 1:\n            authStyle = vOrange\n            authName = `MarsBit ${t('author_info_zl_self')}`\n            break\n        case 2:\n            authStyle = vBlue\n            authName = `MarsBit ${t('author_info_zl_media')}`\n            break\n        case 3:\n            authStyle = vBlue\n            authName = `MarsBit ${t('author_info_zl_enterprise')}`\n            break\n        default:\n            authName = t('author_info_ordinary_user')\n    }\n\n    return <a\n        href={mixUrl.main(`/userCenter/${authorInfo.passportId}`)}\n        title={authorInfo.nickName}\n        className={`author-info-avatar ${className || ''}`}\n        target=\"_blank\">\n        <span className=\"avatar-img\"><img className=\"img-clear-blur\" src={authorInfo.iconUrl} alt={authorInfo.nickName} /></span>\n        {authStyle && !iconHide && <span title={authName} className=\"avatar-mark\">\n            <img className=\"img-clear-blur\" src={authStyle} alt={authorInfo.nickName} />\n        </span>}\n    </a>\n}\n\n/** @desc 作者名称 */\nexport const AuthorName = (props) => {\n    const { authorInfo, className } = props\n    return <a\n        href={mixUrl.main(`/userCenter/${authorInfo.passportId}`)} title={authorInfo.nickName}\n        className={`author-info-user-name ${className || ''}`} target=\"_blank\">\n        {authorInfo.nickName}\n    </a>\n}\n\n/** @desc 作者类型标签 */\nexport const AuthorType = (props) => {\n    const { authorInfo, className } = props\n    const { t } = useTranslation()\n\n    /** @desc 认证样式与名称 */\n    let authStyle = { display: 'none' }\n    let authName = ''\n    switch (parseInt(authorInfo.vGrade)) {\n        case 1:\n            authStyle = { display: 'block', color: 'rgba(255, 123, 1, 1)', background: 'rgba(255, 123, 1, 0.1)' }\n            authName = t('author_info_self')\n            break\n        case 2:\n            authStyle = { display: 'block', color: 'rgba(10, 127, 242, 1)', background: 'rgba(10, 127, 242, 0.1)' }\n            authName = t('author_info_media')\n            break\n        case 3:\n            authStyle = { display: 'block', color: 'rgba(10, 127, 242, 1)', background: 'rgba(10, 127, 242, 0.1)' }\n            authName = t('author_info_enterprise')\n            break\n        default:\n            break\n    }\n\n    return (\n        <div className={`author-info-user-type ${className || ''}`} style={authStyle} >\n            {authName}\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { getAndroidDownloadUrl } from '../../../redux/actions/public'\n\nimport './index.scss'\nimport Toast from '../../Toast'\nimport iconIos from '../../../public/img/right-download-ios.png'\nimport iconAnd from '../../../public/img/right-download-android.png'\nimport iconQRCaod from '../../../public/img/right-download-QRcode.jpg'\n\nexport default (props) => {\n    const { t } = useTranslation()\n    const {\n        isLive // 直播间样式\n    } = props\n    const [and, setAnd] = useState('')\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                setAnd(res.obj)\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [and])\n    return (\n        <div className={`right-download-box ${isLive !== undefined ? 'right-download-box-live' : ''}`}>\n            <div className=\"right-download-box-title\">\n                {t('download_marsbit_app')}\n            </div>\n            <div className=\"right-download-box-content\">\n                {t('marsbit_app_desc')}\n            </div>\n            <div className=\"right-download-box-btn-box\">\n                <a className=\"right-download-box-btn right-download-box-btn-color1\" href=\"https://apps.apple.com/cn/app/id1343659925\" target=\"_blank\">\n                    <img className=\"right-download-box-btn-img\" src={iconIos} style={{ marginRight: '8px' }} />\n                    <div className=\"right-download-box-btn-text\">iPhone 版</div>\n                </a>\n                <a className=\"right-download-box-btn right-download-box-btn-color2\" href={and} target=\"_blank\">\n                    <img className=\"right-download-box-btn-img\" src={iconAnd} style={{ marginRight: '6px' }} />\n                    <div className=\"right-download-box-btn-text\">Android 版</div>\n                </a>\n                <div className=\"right-download-box-btn-code\">\n                    <div className=\"right-download-box-btn-code-show\">\n                        <img className=\"right-download-box-btn-code-show-img\" src={iconQRCaod} />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","module.exports = __webpack_public_path__ + \"right-download-ios-bfae97d1.png\";","module.exports = __webpack_public_path__ + \"right-download-android-e33868e0.png\";","module.exports = __webpack_public_path__ + \"right-download-QRcode-e79e9b7e.jpg\";","module.exports = __webpack_public_path__ + \"v-orange-ddf372b8.svg\";","module.exports = __webpack_public_path__ + \"v-blue-77c6a4e4.svg\";","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { gatherLive } from 'multiRedux/actions/public'\nexport default () => {\n    const dispatch = useDispatch()\n    const { room } = useSelector((state) => ({\n        room: state.live.room\n    }))\n\n    return useCallback(({ eventId, eventInfo }) => {\n        dispatch(gatherLive({ liveState: room, eventId, eventInfo }))\n    }, [])\n}\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport { formatTime, isThisYear, mixUrl } from 'multiPublic'\n// import headerDef from 'multiPublic/img/avatar-default.jpg'\n// import playIcon from '../image/live-video-play.png'\nimport IconStatus2 from '../Image/im-live-list-item-status2.png'\n\nexport default (props) => {\n    const {\n        itemType, // item样式 undefind.正常直播列表组件  top1.广场推荐位左侧大图 top2.广场推荐位左侧左侧小图 top3.广场推荐位新小图 right.首页右侧列表 myvideo.个人视频列表组件 mylive.个人直播组件\n        roomId, // 房间ID\n        status, // 播放状态 0.未直播 1.直播中 2.回放中\n        popularity, // 观看人数\n        beginTime, // 开始时间\n        coverPicUrl, // 背景图片\n        // presenterList, // 主播人列表\n        name, // 直播间名称\n        id, // 视频ID（暂时只有视频列表组件）\n        publishTime // 视频创建时间（暂时只有视频列表组件）\n    } = props\n    const { t } = useTranslation()\n\n    let playNum = popularity && popularity !== '' ? popularity : 0\n    let playNumText = `${playNum} 人次`\n    if (playNum > 1000000) {\n        playNumText = `99.9万+  人次`\n    } else if (playNum > 10000) {\n        playNumText = `${(playNum / 10000).toFixed(1)}万 人次`\n    }\n\n    const timeFormat = isThisYear(beginTime) ? 'MM-dd hh:mm' : 'yyyy-MM-dd hh:mm'\n    const href = itemType !== undefined && itemType === 'myvideo' ? mixUrl.main(`/video/detail/${id}/${publishTime}`) : mixUrl.main(`/live/${roomId}`)\n\n    return (\n        <a className={`im-live-list-item im-live-list-item-${itemType}`} href={href} target=\"_blank\">\n            <div className=\"im-live-list-item-video\">\n                <img className=\"im-live-list-item-video-img\" src={coverPicUrl} />\n                {itemType !== undefined && itemType === 'myvideo' ? null\n                    : <div className=\"im-live-list-item-video-state type-lt\">\n                        <div className={`im-live-list-item-video-state-box type-${status && status !== '' ? status : '0'}`}>\n                            <img className=\"im-live-list-item-video-state-box-img\" src={IconStatus2} />\n                            {status && status === 1 ? t('live_ing') : (status && status === 2 ? t('live_playback') : t('live_about_start'))}\n                        </div>\n                        {status && status !== 0 ? <div className=\"im-live-list-item-video-state-box type-pop\">\n                            {playNumText}\n                        </div> : null}\n                    </div>\n                }\n                {itemType === 'top1' || itemType === 'top2'\n                    ? <div className=\"im-live-list-item-list-top-state\">\n                        <div className=\"im-live-list-item-list-top-title\">\n                            {name}\n                        </div>\n                    </div> : null\n                }\n                {/* {itemType === undefined\n                    ? <div className=\"im-live-list-item-video-state type-time\">\n                        <div className=\"im-live-list-item-video-state-box type-pop\">\n                            {formatTime(beginTime, 'yyyy-MM-dd hh:mm')}\n                        </div>\n                    </div> : null\n                } */}\n                {/* {itemType === undefined ? <img className=\"im-live-list-item-video-play\" src={playIcon} /> : null} */}\n            </div>\n            {itemType === undefined || itemType === 'myvideo' || itemType === 'mylive' || itemType === 'top3'\n                ? <div className=\"im-live-list-item-title\">\n                    {name}\n                </div> : null\n            }\n            {itemType === undefined || itemType === 'mylive'\n                ? <div className=\"im-live-list-item-time\">\n                    <div className=\"im-live-list-item-time-box\">\n                        {`${t('live_broadcast_time')}：${formatTime(beginTime, timeFormat)}`}\n                    </div>\n                </div> : null\n            }\n            {/* {itemType === undefined\n                ? <div className=\"im-live-list-item-author\">\n                    <img className=\"im-live-list-item-author-img\" src={presenterList && presenterList.length > 0 && presenterList[0].iconUrl !== '' ? presenterList[0].iconUrl : headerDef} />\n                    <div className=\"im-live-list-item-author-text\">\n                        {presenterList && presenterList.length > 0 && presenterList[0].nickName !== '' ? presenterList[0].nickName : ''}\n                    </div>\n                </div> : null\n            } */}\n            {itemType === 'right'\n                ? <div className=\"im-live-list-item-right-info\">\n                    <div className=\"im-live-list-item-right-info-title\">{name}</div>\n                    <div className=\"im-live-list-item-right-info-time\">{`${t('live_start_time')}：${formatTime(beginTime, timeFormat)}`}</div>\n                </div> : null\n            }\n        </a>\n    )\n}\n","module.exports = __webpack_public_path__ + \"im-live-list-item-status2-5d5cebf1.png\";","import React from 'react'\n\nimport './index.scss'\nimport imgIcon from '../image/notfound-icon.png'\nimport ImLiveListItem from 'multiComps/Home/RightLive/ImLiveListItem'\n\nexport default (props) => {\n    const {\n        listData, // 列表\n        onBtnMoreClick, // 点击加载更多事件\n        isHaveMore // 是否还有更多内容\n    } = props\n    return (\n        <div className=\"im-live-detail-left-live-recommend\">\n            <div className=\"im-live-detail-left-live-recommend-list\">\n                {\n                    listData && listData.length > 0 && listData.map((item, index) => {\n                        return (\n                            <ImLiveListItem {...item} key={index} />\n                        )\n                    })\n                }\n                {\n                    listData && listData.length === 0 && <div className=\"no-data\"><div className=\"no-data-wrap\"><img className=\"no-data-img\" src={`${imgIcon}`} /><div className=\"no-data-title\">暂无内容</div></div></div>\n                }\n            </div>\n\n            {listData && listData.length > 0 && onBtnMoreClick && isHaveMore ? <div className=\"im-live-detail-left-live-recommend-btn\" onClick={onBtnMoreClick}>加载更多</div> : null}\n        </div>\n    )\n}\n","module.exports = __webpack_public_path__ + \"notfound-icon-114affdc.png\";","import React from 'react'\n\nimport './index.scss'\n\nimport crownIcon from '../image/live_player_icon.png'\n\nexport default (props) => {\n    const {\n        title, // 标题\n        crown // 显示皇冠图标\n    } = props\n\n    return (\n        <div className=\"im-live-detail-right-live-box-title\">\n            {crown === undefined && <div className=\"im-live-detail-right-live-box-title-line\"></div>}\n            {crown !== undefined && <img className=\"im-live-detail-right-live-box-title-icon\" src={crownIcon} />}\n            <div className=\"im-live-detail-right-live-box-title-text\">{title && title !== '' ? title : ''}</div>\n        </div>\n    )\n}\n","import { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { gather } from 'multiRedux/actions/public'\n\nexport default () => {\n    const { gatherPayload } = useSelector((state) => ({\n        gatherPayload: state.multi.gather\n    }))\n    console.log(gatherPayload)\n    useEffect(() => {\n        if (typeof window === 'undefined') return\n        window.onunload = function () {\n            gather(gatherPayload)\n        }\n    }, [gatherPayload])\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux'\n// import HlsJsPlayer from 'xgplayer-hls.js'\n\nimport { getRoomPopularity, getRoomByID } from '../../redux/actions/live'\nimport Toast from 'multiComps/Toast'\nimport { isAutoplaySupported, fileExtension, isPc } from 'multiPublic/index'\nimport liveGather from './useLiveGather'\n\nconst timeZero = (num) => {\n    if (Number(num) < 10) {\n        return `0${num}`\n    } else {\n        return num\n    }\n}\n\nexport const commentStyle = {\n    color: 'rgba(255, 255, 255, 0.9)',\n    fontSize: '24px',\n    textShadow: 'rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px'\n    // padding: '5px 11px',\n    // border: '1px solid rgba(255, 255, 255, 0.4)',\n    // borderRadius: '50px',\n    // backgroundColor: 'rgba(255, 255, 255, 0.2)'\n}\n\nexport default (props) => {\n    const dispatch = useDispatch()\n    const { room, roomHistoryList } = useSelector((state) => ({\n        roomHistoryList: state.live.roomHistoryList,\n        room: state.live.room\n    }), shallowEqual)\n\n    const [countTime, setCountTime] = useState({\n        d: 0,\n        h: 0,\n        m: 0,\n        s: 0\n    })\n\n    // elementID 播放器绑定ID\n    const { elementID } = props\n\n    // 倒计时\n    const getCountTimeText = useCallback(() => {\n        let nowTime = new Date().getTime()\n        let endTime = Number(room.beginTime)\n        let leftTime = endTime - nowTime\n        let obj = {\n            d: 0,\n            h: 0,\n            m: 0,\n            s: 0\n        }\n        if (leftTime >= 0) {\n            obj.d = Math.floor(leftTime / 1000 / 60 / 60 / 24)\n            obj.h = Math.floor(leftTime / 1000 / 60 / 60 % 24)\n            obj.m = Math.floor(leftTime / 1000 / 60 % 60)\n            obj.s = Math.floor(leftTime / 1000 % 60)\n        }\n\n        setCountTime(obj)\n\n        if (room.status === 0) {\n            setTimeout(getCountTimeText, 1000)\n        }\n    }, [])\n\n    // 播放\n    const [mutedBtnShow, setMutedBtnShow] = useState(false)\n    const [player, setPlayer] = useState(null) // 直播中实例\n    useEffect(() => {\n        if (!player || mutedBtnShow) return\n\n        document.querySelector('.xgplayer-icon-large').removeAttribute('style')\n        document.querySelector('.xgplayer-icon-muted').removeAttribute('style')\n        player.video.muted = false\n    }, [mutedBtnShow])\n    const startPlay = useCallback((url, type) => {\n        if (!url) return\n        // 移动端的控制条选项\n        let mobileoptions = {\n            id: elementID,\n            url: url,\n            poster: room.coverPicUrl,\n            width: elementID === 'id_test_video' ? '100%' : 884,\n            height: elementID === 'id_test_video' ? '100%' : 500,\n            pip: false, // 画中画\n            screenShot: false,\n            autoplay: true,\n            lang: 'zh-cn',\n            playsinline: true,\n            ignores: ['volume']\n        }\n\n        let options = {\n            id: elementID,\n            url: url,\n            poster: room.coverPicUrl,\n            // playbackRate: [0.5, 0.75, 1, 1.5, 2],\n            // defaultPlaybackRate: 1,\n            rotate: { // 视频旋转按钮配置项\n                innerRotate: true, // 只旋转内部video\n                clockwise: false // 旋转方向是否为顺时针\n            },\n            pip: true, // 画中画\n            pipConfig: {\n                bottom: 200,\n                right: 0,\n                width: 320,\n                height: 180\n            },\n            screenShot: true, // 截图功能\n            autoplay: true, // 自动播放，行为会受到浏览器规则限制\n            // videoInit: true, // 在没有设置poster的情况下显示视频首帧,移动端无效\n            width: elementID === 'id_test_video' ? '100%' : 884,\n            height: elementID === 'id_test_video' ? '100%' : 500,\n            lang: 'zh-cn',\n            // useHls: true, // 插件解码\n            playsinline: true,\n            controls: true // isPc() // 控制条显示（移动端禁止）\n        }\n\n        // 弹幕\n        options.danmu = {\n            // panel: true,\n            comments: [],\n            area: { // 弹幕显示区域\n                start: 0.02, // 区域顶部到播放器顶部所占播放器高度的比例\n                end: 1.02 // 区域底部到播放器顶部所占播放器高度的比例\n            }\n        }\n\n        // 回放添加，变速按钮，弹幕数组\n        // 移动端回翻和pc端回放要区别开来\n        if (type === 'playback' && isPc()) {\n            options = {\n                ...options,\n                playbackRate: [0.5, 0.75, 1, 1.5, 2],\n                defaultPlaybackRate: 1\n            }\n\n            let commentsArray = []\n            for (const val of roomHistoryList) {\n                // console.log(`${val.content}: ${(val.updateTime - room.beginTime) / 1000}s`)\n                commentsArray.push({\n                    mode: 'scroll',\n                    duration: 10000,\n                    id: val.id,\n                    start: val.updateTime - room.beginTime,\n                    // txt: `${val.nickName}：${val.content}`,\n                    txt: val.content,\n                    style: commentStyle\n                })\n            }\n            options.danmu.comments = commentsArray\n        } else if (type === 'playback' && !isPc()) {\n            options = mobileoptions\n            // 根据横竖屏，先计算，出一个高度\n            if (room.roomType === 1) {\n                options.height = 211\n                // options.rotateFullscreen = true\n                options.cssFullscreen = true\n            } else {\n                options.height = 310\n            }\n        } else {\n            options.controls = false // 手机直播 隐藏控制条\n        }\n\n        let player = null\n        if (fileExtension(url) === 'flv') {\n            // iphone不支持flv----->https://github.com/bytedance/xgplayer/issues/385\n\n            // options = {\n            //     ...options,\n            //     isLive: type === 'playing',\n            //     cors: true\n            // }\n            // require('xgplayer')\n            // const FlvPlayer = require('xgplayer-flv')\n            // player = new FlvPlayer(options)\n            // console.log('000')\n\n            require('xgplayer')\n            options = {\n                ...options,\n                url: options.url.replace('.flv', '.m3u8')\n            }\n            const HlsJsPlayer = require('xgplayer-hls.js')\n            player = new HlsJsPlayer(options)\n        } else if (fileExtension(url) === 'm3u8') {\n            require('xgplayer')\n            const HlsJsPlayer = require('xgplayer-hls.js')\n            player = new HlsJsPlayer(options)\n        } else {\n            const Player = require('xgplayer')\n            require('xgplayer-mp4')\n            player = new Player(options)\n        }\n\n        // Usage: isAutoplaySupported(callback);\n        // Using a callback assures that support\n        // has been properly checked\n        isAutoplaySupported(function (supported) {\n            if (supported) {\n                // HTML5 Video Autoplay Supported!\n                console.log('HTML5 Video Autoplay Supported!')\n            } else {\n                // HTML5 Video Autoplay Not Supported :(\n                console.log('HTML5 Video Autoplay Not Supported :(')\n                player.once('canplay', function () {\n                    document.querySelector('.xgplayer-icon-large').setAttribute('style', 'display:none')\n                    document.querySelector('.xgplayer-icon-muted').setAttribute('style', 'display:block')\n                    player.video.muted = true\n                    player.play()\n                    setMutedBtnShow(true)\n                })\n            }\n        })\n\n        setPlayer(player)\n        window.livePlayer = player // 挂载到全局，以便发送评论时，发送弹幕\n\n        // roomHistoryList 服务端请求roomHistoryList，此处inputs加与不加，关系不大。服务端请求数据可减少startPlay数据判断\n    }, [])\n\n    // 点击上报事件\n    const livePush = liveGather()\n    useEffect(() => {\n        if (!player) return\n\n        console.log(1111)\n\n        player.on('play', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'play' } })\n        })\n        player.on('pause', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'pause' } })\n        })\n        player.on('requestFullscreen', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'fullscreen' } })\n        })\n        player.on('exitFullscreen', function () {\n            livePush({ eventId: 'playback_control', eventInfo: { action: 'exit_fullscreen' } })\n        })\n    }, [player])\n    const roomStatus = useCallback((room) => {\n        let status = ''\n        switch (room.status) {\n            case 0:\n                status = 'not_started'\n                break\n            case 1:\n                status = 'living'\n                break\n            case 2:\n                status = 'finished'\n                break\n            default:\n                status = 'not_started'\n        }\n        return status\n    }, [])\n    useEffect(() => {\n        if (!room) return\n\n        // 页面刷新退出前，上报关闭直播间时，直播间状态\n        window.onbeforeunload = function () {\n            livePush({ eventId: 'exit_room', eventInfo: { state: roomStatus(room) } })\n        }\n    }, [room])\n    const [oldRoomStatus, setOldRoomStatus] = useState()\n    useEffect(() => {\n        // 未开始和直播中才上报\n        if (!room || (room.status !== 0 && room.status !== 1)) return\n\n        if (room.status === oldRoomStatus) return\n        setOldRoomStatus(room.status)\n\n        livePush({ eventId: 'enter_room', eventInfo: { state: roomStatus(room) } })\n    }, [room])\n\n    useEffect(() => {\n        if (!room) return\n        switch (room.status) {\n            case 0: // 即将开始\n                getCountTimeText()\n                break\n            case 1: // 直播中\n                let playingUrl = room.webPullStreamUrl ? room.webPullStreamUrl : room.pullStreamUrl\n\n                if (!playingUrl) {\n                    Toast.info('未获取到视频直播地址，请刷新试试')\n                    return\n                }\n\n                if (player === null) {\n                    if (playingUrl.indexOf('?txSecret=') > -1) playingUrl = (playingUrl.split('?txSecret='))[0]\n                    if (playingUrl.indexOf('https://') === -1) playingUrl = playingUrl.replace('http://', 'https://')\n                    startPlay(playingUrl, 'playing')\n                }\n                break\n            case 2: // 回放中\n                livePush({ eventId: 'enter_playback' })\n                let playbackUrl = room.recordVideoUrl\n                if (!playbackUrl) {\n                    // 会因为重复请求，而一直弹出\n                    // Toast.info('未获取到视频回放地址，请刷新试试')\n                    return\n                }\n\n                if (player !== null) {\n                    player.destroy(true)\n                    setPlayer(null)\n                }\n\n                if (playbackUrl.indexOf('https://') === -1) {\n                    playbackUrl = playbackUrl.replace('http://', 'https://')\n                }\n                startPlay(playbackUrl, 'playback')\n                break\n            default:\n                setTimeout(() => {\n                    Toast.info('直播间不存在或已删除')\n                }, 500)\n                break\n        }\n    }, [room])\n\n    // 监听人气值实时更新\n    useEffect(() => {\n        const timer = setInterval(() => {\n            if (room.status === 1) {\n                dispatch(getRoomPopularity({ roomIDs: room.roomId }))\n            }\n        }, 5000)\n        return () => {\n            clearInterval(timer)\n        }\n    }, [dispatch.live, room])\n\n    // 监听直播间状态，即将开始-->直播-->回放\n    useEffect(() => {\n        console.log(666)\n        const timer = setInterval(() => {\n            if (room.status === 0 || (room.status === 2 && !room.recordVideoUrl)) {\n                dispatch(getRoomByID({ roomId: room.roomId }))\n            } else {\n                clearInterval(timer)\n            }\n        }, 3000)\n        return () => {\n            clearInterval(timer)\n        }\n    }, [dispatch.live, room])\n\n    // 监听移动端点击播放\n    useEffect(() => {\n        if (!isPc() && player) {\n            document.body.onclick = () => {\n                player.play()\n            }\n        }\n    }, [player])\n\n    return { player, countTime, timeZero, setMutedBtnShow, mutedBtnShow }\n}\n","module.exports = __webpack_public_path__ + \"live_player_icon-bf9e2aa0.png\";","import { useState, useCallback } from 'react'\nimport axios from 'axios'\nimport TIM from 'tim-js-sdk'\n// import { imSdkAppId } from '../../../config/config-server'\n\nexport default () => {\n    const [im, setIm] = useState(null)\n    const [imReady, setImReady] = useState(false)\n    const [imLogin, setImLogin] = useState(false)\n    const [imJoin, setImJoin] = useState(false)\n\n    const createIM = useCallback((setTextMessageReceived) => {\n        const TWebLive = require('tweblive')\n\n        const im = TWebLive.createIM({\n            SDKAppID: 1400383128\n        })\n\n        const onIMReady = function (event) {\n            setImReady(true)\n        }\n        const onSdkNotReady = function (event) {\n            console.log(`用户被NotReady触发`)\n            setImReady(false)\n        }\n        // const onTextMessageReceived = function (event) {\n        //     event.data.forEach(function (message) {\n        //         console.log((message.from || message.nick) + ' : ', message.payload.text)\n        //     })\n        //     setTextMessageReceived(event)\n        // }\n        const onCustomMessageReceived = function (event) {\n            console.log('custom message received', event.data)\n            event.data.forEach(function (message) {\n                console.log((message.from || message.nick) + ' : ', message.payload.text)\n            })\n            setTextMessageReceived(event)\n        }\n        const onRemoteUserJoin = function (event) {\n            event.data.forEach(function (message) {\n                console.log((message.nick || message.payload.userIDList[0]) + ' 来了')\n            })\n        }\n        const onRemoteUserLeave = function (event) {\n            event.data.forEach(function (message) {\n                console.log((message.nick || message.payload.userIDList[0]) + ' 走了')\n            })\n        }\n        const onKickedOut = function (event) {\n            console.log(`用户被踢下线时触发`)\n            console.log(event.data.type)\n            // TWebLive.TYPES.KICKED_OUT_MULT_ACCOUNT(Web端，同一账号，多页面登录被踢)\n            // TWebLive.TYPES.KICKED_OUT_MULT_DEVICE(同一账号，多端登录被踢)\n            // TWebLive.TYPES.KICKED_OUT_USERSIG_EXPIRED(签名过期)\n        }\n        let onNetStateChange = function (event) {\n            console.log(`网络状态发生改变`)\n            console.log(event.data.state)\n            // event.data.state 当前网络状态，枚举值及说明如下：\n            // TWebLive.TYPES.NET_STATE_CONNECTED - 已接入网络\n            // TWebLive.TYPES.NET_STATE_CONNECTING - 连接中。很可能遇到网络抖动，SDK 在重试。接入侧可根据此状态提示“当前网络不稳定”或“连接中”\n            // TWebLive.TYPES.NET_STATE_DISCONNECTED - 未接入网络。接入侧可根据此状态提示“当前网络不可用”。SDK 仍会继续重试，若用户网络恢复，SDK 会自动同步消息\n        }\n        let onPushStopped = function (event) {\n            console.log(`主播停止推流时触发`)\n            console.log('postscript: ', event.data)\n        }\n\n        // 接入侧监听此事件，然后可调用 SDK 发送消息等\n        im.on(TWebLive.EVENT.IM_READY, onIMReady)\n        // 接入侧监听此事件，然后可调用 SDK 发送消息等\n        im.on(TWebLive.EVENT.IM_NOT_READY, onSdkNotReady)\n        // // 收到文本消息，上屏\n        // im.on(TWebLive.EVENT.IM_TEXT_MESSAGE_RECEIVED, onTextMessageReceived)\n        // // 收到自定义消息时触发\n        // im.on(TWebLive.EVENT.IM_CUSTOM_MESSAGE_RECEIVED, onCustomMessageReceived)\n        // 远程用户进入触发\n        im.on(TWebLive.EVENT.IM_REMOTE_USER_JOIN, onRemoteUserJoin)\n        // 远程用户离开触发\n        im.on(TWebLive.EVENT.IM_REMOTE_USER_LEAVE, onRemoteUserLeave)\n        // 远程用户离开\n        im.on(TWebLive.EVENT.IM_KICKED_OUT, onKickedOut)\n        // 网络状态改变\n        im.on(TWebLive.EVENT.IM_NET_STATE_CHANGED, onNetStateChange)\n        // 主播停止推流\n        im.on(TWebLive.EVENT.IM_PUSH_STOPPED, onPushStopped)\n        // tweblive不能接收到系统消息，通过tim接收\n        im._tim.on(TIM.EVENT.MESSAGE_RECEIVED, onCustomMessageReceived)\n\n        setIm(im)\n    }, [])\n\n    const getImLogin = useCallback(async (passportId) => {\n        const sigRes = await axios({ url: `/imusersig/${passportId}` })\n\n        // 2、登录\n        // im.registerPlugin({ 'cos-js-sdk': COS })\n        im.login({ userID: passportId, userSig: sigRes.data.data }).then((imResponse) => {\n            console.log('im.login')\n            console.log('登录成功')\n            console.log(imResponse) // 登录成功\n            // if (imResponse.data.repeatLogin === true) {\n            //     // 标识账号已登录，本次登录操作为重复登录\n            //     console.log(imResponse.data.errorInfo)\n            // }\n            setImLogin(true)\n        }).catch((imError) => {\n            console.log('登录失败')\n            console.warn('im | login | failed', imError) // 登录失败的相关信息\n            setImLogin(false)\n        })\n    }, [im])\n\n    const joinImRoom = useCallback((roomId) => {\n        const TWebLive = require('tweblive')\n\n        if (im.enterRoom) {\n            // 3、加入直播间\n            im.enterRoom(roomId).then((imResponse) => {\n                console.log(imResponse.data)\n                switch (imResponse.data.status) {\n                    case TWebLive.TYPES.ENTER_ROOM_SUCCESS: // 加入直播间成功\n                        console.log('成功加入直播间')\n                        setImJoin(true)\n                        break\n                    case TWebLive.TYPES.ALREADY_IN_ROOM: // 已经在直播间内\n                        console.log('已经在直播间里')\n                        setImJoin(true)\n                        break\n                    default:\n                        setImJoin(false)\n                        break\n                }\n            }).catch((imError) => {\n                console.warn('im | enterRoom | failed', imError) // 加入直播间失败的相关信息\n                setImJoin(false)\n            })\n        }\n    }, [im])\n\n    return {\n        imReady,\n        imLogin,\n        imJoin,\n        createIM,\n        getImLogin,\n        joinImRoom,\n        setImLogin,\n        setImJoin,\n        im\n    }\n}\n","import React from 'react'\n\nimport './index.scss'\n\nimport { mixUrl } from 'multiPublic'\nimport { Avatar, AuthorName } from 'multiComps/AuthorInfo'\n\nexport default (props) => {\n    const {\n        // iconUrl, // 头像\n        nickName, // 名称\n        introduce, // 简介\n        passportId // 唯一ID\n    } = props\n\n    return (\n        <div className=\"im-live-list-right-live-good-up-item\">\n            {/* <img className=\"im-live-list-right-live-good-up-item-img\" src={iconUrl} title={nickName} alt={nickName} /> */}\n            <Avatar className=\"im-live-list-right-live-good-up-item-img\" authorInfo={props} />\n            <div className=\"im-live-list-right-live-good-up-item-right\">\n                <AuthorName className=\"im-live-list-right-live-good-up-item-title\" authorInfo={props} />\n                <a className=\"im-live-list-right-live-good-up-item-text\"\n                    href={mixUrl.main(`/userCenter/${passportId}`)}\n                    target=\"_blank\"\n                    title={nickName}\n                >\n                    {introduce}\n                </a>\n            </div>\n        </div>\n    )\n}\n","module.exports = __webpack_public_path__ + \"live_detail_type_2-8a275757.gif\";","module.exports = __webpack_public_path__ + \"live_detail_pop-e84b1852.png\";","module.exports = __webpack_public_path__ + \"live-tip-warning-63dcc696.png\";","module.exports = __webpack_public_path__ + \"live-tip-clear-f707987a.png\";","module.exports = __webpack_public_path__ + \"live-tip-close-77eb6637.png\";","module.exports = __webpack_public_path__ + \"live-tip-cross-e684198f.png\";","module.exports = __webpack_public_path__ + \"live_chat_nolive-79dc86f9.png\";","module.exports = __webpack_public_path__ + \"live-join-phone-1baef09e.png\";","module.exports = __webpack_public_path__ + \"live-join-wx-368c013c.png\";"],"sourceRoot":""}