(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[46],{1102:function(e,t,a){"use strict";var n=a(0),c=a(27),r=a(108);t.a=function(){var e=Object(c.d)(),t=Object(c.e)(function(e){return{room:e.live.room}}).room;return Object(n.useCallback)(function(a){var n=a.eventId,c=a.eventInfo;e(Object(r.b)({liveState:t,eventId:n,eventInfo:c}))},[])}},1109:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=(a(1119),a(1120)),i=a.n(r);t.a=function(e){return e.openInBrowser&&c.a.createElement("div",{className:"download-app-wechat-tips",onClick:function(){return e.setOpenInBrowser(!1)}},c.a.createElement("div",{className:"download-app-img"},c.a.createElement("img",{src:i.a,alt:"请在浏览器中打开"})))}},1110:function(e,t,a){"use strict";var n=a(0),c=a(108),r=a(17),i=a(1);t.a=function(){var e="https://itunes.apple.com/cn/app/id1343659925?mt=8",t=Object(n.useRef)(""),a=Object(n.useCallback)(function(a,n){var c,r,o,l;location.href=a,c=function(){Object(i.p)()&&!n&&(location.href=e),Object(i.m)()&&!n&&(location.href=t.current)},o=+new Date,l=0,r=setInterval(function(){l++;var e=+new Date-o;(l>=100||e>3e3)&&(clearInterval(r),e>3e3||document.hidden||document.webkitHidden?console.log("正在打开app"):c())},20)},[t]),o=Object(n.useCallback)(function(t,n,c){var r=!!c&&c.doNotDownload,o=!1;if(Object(i.y)()&&Object(i.p)())location.href=e;else if(Object(i.y)()&&Object(i.m)())o=!0;else switch(t){case"liveshare":a("marsbusiness://liveshare/".concat(n),r);break;case"newsDetail":a("marsbusiness://news/".concat(n),r);break;case"newsList":a("marsbusiness://newlist/".concat(n),r);break;case"flashDetail":a("marsbusiness://fast/".concat(n),r);break;case"flashList":a("marsbusiness://home/fast",r);break;case"videoDetail":a("marsbusiness://video/".concat(n),r);break;case"videoList":a("marsbusiness://home/video",r);break;case"authorCenter":a("marsbusiness://authorCenter/".concat(n),r);break;case"noticeDetail":a("marsbusiness://noticeDetail/".concat(n),r);break;default:a("marsbusiness://home/new",r)}return o},[t]);return Object(n.useEffect)(function(){Object(c.c)().then(function(e){1===e.code?t.current=e.obj:r.a.info(e.msg)}).catch(function(e){throw e})},[]),o}},1112:function(e,t,a){e.exports=a.p+"v-orange-ddf372b8.svg"},1113:function(e,t,a){e.exports=a.p+"v-blue-77c6a4e4.svg"},1119:function(e,t,a){},1120:function(e,t,a){e.exports=a.p+"wechat-download-tips-fef770a1.png"},1154:function(e,t,a){"use strict";var n=a(22),c=a.n(n),r=a(0),i=a.n(r),o=(a(1155),a(1)),l=a(1109),s=a(1110),m=a(1156),u=a.n(m);t.a=function(e){var t=Object(r.useState)(!1),a=c()(t,2),n=a[0],m=a[1],d=Object(r.useState)(!1),v=c()(d,2),f=v[0],p=v[1],b=Object(s.a)(),E=Object(r.useCallback)(function(){p(b(e.type,e.id))},[]);return Object(r.useEffect)(function(){Object(o.q)()&&m(!0)},[]),i.a.createElement("div",{className:"download-app-wrapper ".concat(n?"iphonex":"")},i.a.createElement("a",{className:"download-app-btn",onClick:E},i.a.createElement("img",{src:u.a,alt:"下载MarsBit"}),"下载MarsBit APP"),i.a.createElement(l.a,{openInBrowser:f,setOpenInBrowser:p}))}},1155:function(e,t,a){},1156:function(e,t,a){e.exports=a.p+"cellphone-icon-524dafc5.png"},1188:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(22),i=a.n(r),o=a(0),l=a(27),s=a(19),m=a(17),u=a(1),d=a(1102),v=function(e){return Number(e)<10?"0".concat(e):e},f={color:"rgba(255, 255, 255, 0.9)",fontSize:"24px",textShadow:"rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px"};t.a=function(e){var t=Object(l.d)(),n=Object(l.e)(function(e){return{roomHistoryList:e.live.roomHistoryList,room:e.live.room}},l.c),r=n.room,p=n.roomHistoryList,b=Object(o.useState)({d:0,h:0,m:0,s:0}),E=i()(b,2),h=E[0],g=E[1],y=e.elementID,N=Object(o.useCallback)(function(){var e=(new Date).getTime(),t=Number(r.beginTime)-e,a={d:0,h:0,m:0,s:0};t>=0&&(a.d=Math.floor(t/1e3/60/60/24),a.h=Math.floor(t/1e3/60/60%24),a.m=Math.floor(t/1e3/60%60),a.s=Math.floor(t/1e3%60)),g(a),0===r.status&&setTimeout(N,1e3)},[]),O=Object(o.useState)(!1),I=i()(O,2),j=I[0],w=I[1],k=Object(o.useState)(null),x=i()(k,2),_=x[0],S=x[1];Object(o.useEffect)(function(){_&&!j&&(document.querySelector(".xgplayer-icon-large").removeAttribute("style"),document.querySelector(".xgplayer-icon-muted").removeAttribute("style"),_.video.muted=!1)},[j]);var T=Object(o.useCallback)(function(e,t){if(e){var n={id:y,url:e,poster:r.coverPicUrl,width:"id_test_video"===y?"100%":884,height:"id_test_video"===y?"100%":500,pip:!1,screenShot:!1,autoplay:!0,lang:"zh-cn",playsinline:!0,ignores:["volume"]},i={id:y,url:e,poster:r.coverPicUrl,rotate:{innerRotate:!0,clockwise:!1},pip:!0,pipConfig:{bottom:200,right:0,width:320,height:180},screenShot:!0,autoplay:!0,width:"id_test_video"===y?"100%":884,height:"id_test_video"===y?"100%":500,lang:"zh-cn",playsinline:!0,controls:!0,danmu:{comments:[],area:{start:.02,end:1.02}}};if("playback"===t&&Object(u.u)()){i=c()({},i,{playbackRate:[.5,.75,1,1.5,2],defaultPlaybackRate:1});var o=[],l=!0,s=!1,m=void 0;try{for(var d,v=p[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){var b=d.value;o.push({mode:"scroll",duration:1e4,id:b.id,start:b.updateTime-r.beginTime,txt:b.content,style:f})}}catch(e){s=!0,m=e}finally{try{l||null==v.return||v.return()}finally{if(s)throw m}}i.danmu.comments=o}else"playback"!==t||Object(u.u)()?i.controls=!1:(i=n,1===r.roomType?(i.height=211,i.cssFullscreen=!0):i.height=310);var E=null;if("flv"===Object(u.j)(e)){a(1103),i=c()({},i,{url:i.url.replace(".flv",".m3u8")});var h=a(1163);E=new h(i)}else if("m3u8"===Object(u.j)(e)){a(1103);var g=a(1163);E=new g(i)}else{var N=a(1103);a(1407),E=new N(i)}Object(u.o)(function(e){e?console.log("HTML5 Video Autoplay Supported!"):(console.log("HTML5 Video Autoplay Not Supported :("),E.once("canplay",function(){document.querySelector(".xgplayer-icon-large").setAttribute("style","display:none"),document.querySelector(".xgplayer-icon-muted").setAttribute("style","display:block"),E.video.muted=!0,E.play(),w(!0)}))}),S(E),window.livePlayer=E}},[]),L=Object(d.a)();Object(o.useEffect)(function(){_&&(console.log(1111),_.on("play",function(){L({eventId:"playback_control",eventInfo:{action:"play"}})}),_.on("pause",function(){L({eventId:"playback_control",eventInfo:{action:"pause"}})}),_.on("requestFullscreen",function(){L({eventId:"playback_control",eventInfo:{action:"fullscreen"}})}),_.on("exitFullscreen",function(){L({eventId:"playback_control",eventInfo:{action:"exit_fullscreen"}})}))},[_]);var M=Object(o.useCallback)(function(e){var t="";switch(e.status){case 0:t="not_started";break;case 1:t="living";break;case 2:t="finished";break;default:t="not_started"}return t},[]);Object(o.useEffect)(function(){r&&(window.onbeforeunload=function(){L({eventId:"exit_room",eventInfo:{state:M(r)}})})},[r]);var D=Object(o.useState)(),C=i()(D,2),A=C[0],R=C[1];return Object(o.useEffect)(function(){!r||0!==r.status&&1!==r.status||r.status!==A&&(R(r.status),L({eventId:"enter_room",eventInfo:{state:M(r)}}))},[r]),Object(o.useEffect)(function(){if(r)switch(r.status){case 0:N();break;case 1:var e=r.webPullStreamUrl?r.webPullStreamUrl:r.pullStreamUrl;if(!e)return void m.a.info("未获取到视频直播地址，请刷新试试");null===_&&(e.indexOf("?txSecret=")>-1&&(e=e.split("?txSecret=")[0]),-1===e.indexOf("https://")&&(e=e.replace("http://","https://")),T(e,"playing"));break;case 2:L({eventId:"enter_playback"});var t=r.recordVideoUrl;if(!t)return;null!==_&&(_.destroy(!0),S(null)),-1===t.indexOf("https://")&&(t=t.replace("http://","https://")),T(t,"playback");break;default:setTimeout(function(){m.a.info("直播间不存在或已删除")},500)}},[r]),Object(o.useEffect)(function(){var e=setInterval(function(){1===r.status&&t(Object(s.i)({roomIDs:r.roomId}))},5e3);return function(){clearInterval(e)}},[t.live,r]),Object(o.useEffect)(function(){console.log(666);var e=setInterval(function(){0===r.status||2===r.status&&!r.recordVideoUrl?t(Object(s.d)({roomId:r.roomId})):clearInterval(e)},3e3);return function(){clearInterval(e)}},[t.live,r]),Object(o.useEffect)(function(){!Object(u.u)()&&_&&(document.body.onclick=function(){_.play()})},[_]),{player:_,countTime:h,timeZero:v,setMutedBtnShow:w,mutedBtnShow:j}}},1192:function(e,t,a){"use strict";var n=a(2),c=a.n(n),r=a(4),i=a.n(r),o=a(22),l=a.n(o),s=a(0),m=a(65),u=a.n(m),d=a(1193),v=a.n(d);t.a=function(){var e=Object(s.useState)(null),t=l()(e,2),n=t[0],r=t[1],o=Object(s.useState)(!1),m=l()(o,2),d=m[0],f=m[1],p=Object(s.useState)(!1),b=l()(p,2),E=b[0],h=b[1],g=Object(s.useState)(!1),y=l()(g,2),N=y[0],O=y[1];return{imReady:d,imLogin:E,imJoin:N,createIM:Object(s.useCallback)(function(e){var t=a(1166),n=t.createIM({SDKAppID:1400383128});n.on(t.EVENT.IM_READY,function(e){f(!0)}),n.on(t.EVENT.IM_NOT_READY,function(e){console.log("用户被NotReady触发"),f(!1)}),n.on(t.EVENT.IM_REMOTE_USER_JOIN,function(e){e.data.forEach(function(e){console.log((e.nick||e.payload.userIDList[0])+" 来了")})}),n.on(t.EVENT.IM_REMOTE_USER_LEAVE,function(e){e.data.forEach(function(e){console.log((e.nick||e.payload.userIDList[0])+" 走了")})}),n.on(t.EVENT.IM_KICKED_OUT,function(e){console.log("用户被踢下线时触发"),console.log(e.data.type)}),n.on(t.EVENT.IM_NET_STATE_CHANGED,function(e){console.log("网络状态发生改变"),console.log(e.data.state)}),n.on(t.EVENT.IM_PUSH_STOPPED,function(e){console.log("主播停止推流时触发"),console.log("postscript: ",e.data)}),n._tim.on(v.a.EVENT.MESSAGE_RECEIVED,function(t){console.log("custom message received",t.data),t.data.forEach(function(e){console.log((e.from||e.nick)+" : ",e.payload.text)}),e(t)}),r(n)},[]),getImLogin:Object(s.useCallback)(function(){var e=i()(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({url:"/imusersig/".concat(t)});case 2:a=e.sent,n.login({userID:t,userSig:a.data.data}).then(function(e){console.log("im.login"),console.log("登录成功"),console.log(e),h(!0)}).catch(function(e){console.log("登录失败"),console.warn("im | login | failed",e),h(!1)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n]),joinImRoom:Object(s.useCallback)(function(e){var t=a(1166);n.enterRoom&&n.enterRoom(e).then(function(e){switch(console.log(e.data),e.data.status){case t.TYPES.ENTER_ROOM_SUCCESS:console.log("成功加入直播间"),O(!0);break;case t.TYPES.ALREADY_IN_ROOM:console.log("已经在直播间里"),O(!0);break;default:O(!1)}}).catch(function(e){console.warn("im | enterRoom | failed",e),O(!1)})},[n]),setImLogin:h,setImJoin:O,im:n}}},1395:function(e,t,a){"use strict";var n=a(22),c=a.n(n),r=a(0),i=a.n(r),o=a(23),l=(a(1396),a(1397)),s=a.n(l),m=a(1109),u=a(1110);t.a=function(e){var t=Object(o.c)().t,a=e.type,n=e.id,l=Object(r.useState)(!1),d=c()(l,2),v=d[0],f=d[1],p=Object(u.a)(),b=Object(r.useCallback)(function(){f(p(a,n))},[]);return i.a.createElement("div",{className:"share-download-bottom active",id:"share-download-bottom"},i.a.createElement("div",{className:"bottom-left"},i.a.createElement("img",{src:s.a}),i.a.createElement("h4",null,"MarsBit"),i.a.createElement("p",null,t("all_world_dynamic"))),i.a.createElement("a",{className:"b-down",onClick:b},t("share_open")," APP"),i.a.createElement(m.a,{openInBrowser:v,setOpenInBrowser:f}))}},1396:function(e,t,a){},1397:function(e,t,a){e.exports=a.p+"m-share-logo-3e28eff7.png"},1428:function(e,t,a){e.exports=a.p+"im-live-list-item-status-19bd2cda.gif"},1429:function(e,t,a){e.exports=a.p+"im-live-list-item-status2-5d5cebf1.png"},1710:function(e,t,a){},1711:function(e,t,a){e.exports=a.p+"live-share-guest-blue-09bc8518.png"},1712:function(e,t,a){e.exports=a.p+"live-share-guest-yellow-d7c73d40.png"},1713:function(e,t,a){},1714:function(e,t,a){},1715:function(e,t,a){e.exports=a.p+"arrow-img-d0262ecc.png"},1716:function(e,t,a){},1717:function(e,t,a){},1718:function(e,t,a){},1719:function(e,t,a){},1720:function(e,t,a){},1721:function(e,t,a){},1722:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(49),c=a.n(n),r=a(22),i=a.n(r),o=a(0),l=a.n(o),s=a(27),m=a(23),u=(a(1710),a(1711)),d=a.n(u),v=a(1712),f=a.n(v),p=a(1428),b=a.n(p),E=a(1429),h=a.n(E),g=a(1),y=function(e){var t=e.presenterList&&Array.isArray(e.presenterList)&&e.presenterList[0]||{},a="vGrade"in t&&(2===t.vGrade||3===t.vGrade?d.a:1===t.vGrade?f.a:null),n=e.pop.popularity?e.pop.popularity:e.popularity,c=e.name,r=e.status,i=e.beginTime,o=n;return n>1e6?o="99.9万+":o>1e4&&(o="".concat((o/1e4).toFixed(1),"万")),l.a.createElement("div",{className:"liveshare-m-info-box"},l.a.createElement("div",{className:"liveshare-info-simple"},l.a.createElement("div",{className:"video-title"},l.a.createElement("span",{className:"live-status im-item-status-".concat(r&&2===r?"finish":r&&1===r?"living":"ready")},r&&1===r?l.a.createElement("img",{src:b.a}):r&&2===r?l.a.createElement("img",{src:h.a}):"",l.a.createElement("em",null,r&&1===r?"直播中":r&&2===r?"回放中":"即将开始")),l.a.createElement("div",{className:"title"},c)),r?l.a.createElement("div",{className:"liveshare-info-presenter"},l.a.createElement("div",{className:"presenter-info"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:t.iconUrl})),l.a.createElement("div",{className:"name"},t.nickName),a&&l.a.createElement("div",{className:"grade"},l.a.createElement("img",{src:a}))),l.a.createElement("div",{className:"presenter-play-num"},"观看人次：",l.a.createElement("span",null,o))):l.a.createElement("div",{className:"live-time"},"直播时间：",Object(g.l)(i,"yyyy-MM-dd hh:mm"))))},N=a(1395),O=a(1154),I=(a(1713),function(e){var t=e.itemType,a=e.roomId,n=e.status,c=e.popularity,r=e.coverPicUrl,i=e.name,o=e.id,s=e.publishTime,m=c&&""!==c?c:0,u="".concat(m," 人次");m>1e6?u="99.9万+  人次":m>1e4&&(u="".concat((m/1e4).toFixed(1),"万 人次"));var d=void 0!==t&&"myvideo"===t?g.B.main("/video/detail/".concat(o,"/").concat(s)):g.B.main("/liveshare/".concat(a));return l.a.createElement("a",{className:"im-live-list-item im-live-list-item-".concat(t),href:d,target:"_self"},l.a.createElement("div",{className:"im-live-list-item-video"},l.a.createElement("img",{className:"im-live-list-item-video-img",src:r}),void 0!==t&&"myvideo"===t?null:l.a.createElement("div",{className:"im-live-list-item-video-state type-lt"},l.a.createElement("div",{className:"im-live-list-item-video-state-box type-".concat(n&&""!==n?n:"0")},n&&1===n?l.a.createElement("img",{className:"im-live-list-item-video-state-box-img",src:b.a}):n&&0===n?"":l.a.createElement("img",{className:"im-live-list-item-video-state-box-img",src:h.a}),n&&1===n?"直播中":n&&2===n?"回放中":"即将开始"),n&&0!==n?l.a.createElement("div",{className:"im-live-list-item-video-state-box type-pop"},u):null),"top1"===t||"top2"===t?l.a.createElement("div",{className:"im-live-list-item-list-top-state"},l.a.createElement("div",{className:"im-live-list-item-list-top-title"},i)):null),void 0===t||"myvideo"===t||"mylive"===t||"top3"===t?l.a.createElement("div",{className:"im-live-list-item-title"},i):null)}),j=(a(1714),function(e){var t=e.listData;return l.a.createElement("div",{className:"hot-live",style:{display:t.length>0?"block":"none"}},l.a.createElement("div",{className:"live-room-list"},t&&t.length>0&&t.map(function(e,t){return l.a.createElement("div",{className:"live-room-list-item"},l.a.createElement(I,c()({},e,{key:t})))})))}),w=a(5),k=a.n(w),x=a(6),_=a.n(x),S=a(7),T=a.n(S),L=a(8),M=a.n(L),D=a(9),C=a.n(D),A=a(1715),R=a.n(A),B=(a(1716),function(e){function t(e){var a;return k()(this,t),(a=T()(this,M()(t).call(this,e))).onCheckboxChange=function(){a.setState({showAll:!1})},a.state={showAll:!0},a}return C()(t,e),_()(t,[{key:"render",value:function(){var e=this.state.showAll;return l.a.createElement("div",{className:"im-live-detail-left-live-info"},l.a.createElement("div",{className:"description_box"},l.a.createElement("input",{type:"checkbox",id:"contTab",onChange:this.onCheckboxChange,checked:e,className:"tabbed"}),l.a.createElement("div",{id:"cont"},l.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:this.props.brief}})),l.a.createElement("div",{className:"content-more"},l.a.createElement("div",{className:"gradient"}),l.a.createElement("label",{htmlFor:"contTab",className:"readmore"},"展开全部",l.a.createElement("img",{className:"arrow",src:R.a})))))}}]),t}(o.Component)),P=a(3),U=a.n(P),V=a(111),H=a.n(V),G=a(1188),K=a(1192),q=a(19),F=(a(1717),function(){var e=Object(s.e)(function(e){return{room:e.live.room,userInfo:e.login.userInfo.info}},s.c),t=e.room,a=e.userInfo,n=Object(o.useState)({paddingTop:"0"}),c=i()(n,2),r=c[0],m=c[1],u=Object(G.a)({elementID:"id_test_video"}),d=u.player,v=u.setMutedBtnShow,f=u.mutedBtnShow,p=Object(s.d)(),b=Object(o.useRef)(),E=Object(o.useRef)(),h=function(e){e&&e.data&&Object(g.n)(e.data)&&e.data.map(function(e){if(e.type)switch(e.type){case"TIMGroupSystemNoticeElem":if(!e.payload)return;e.payload.operationType&&5===e.payload.operationType&&(p(Object(q.d)({roomId:t.roomId})),j(!1))}})},y=Object(K.a)(),N=y.createIM,O=y.getImLogin,I=y.joinImRoom,j=y.setImJoin,w=y.im,k=y.imReady,x=y.imLogin,_=y.imJoin;Object(o.useEffect)(function(){1===t.status&&N(h)},[t.status]),Object(o.useEffect)(function(){if(w){var e=a.passportId?a.passportId:H()(Object(g.K)()).substring(7,23);O(e)}},[w,a]),Object(o.useEffect)(function(){return b.current&&(clearInterval(b.current),b.current=null),k&&(x||1!==t.status?(clearInterval(b.current),b.current=null,I(t.roomId)):b.current=setInterval(function(){var e=a.passportId?a.passportId:H()(Object(g.K)()).substring(7,23);O(e)},1e4)),function(){clearInterval(b.current)}},[k,x,a,t.status]),Object(o.useEffect)(function(){return E.current&&(clearInterval(E.current),E.current=null),_||1!==t.status?(clearInterval(E.current),E.current=null):E.current=setInterval(function(){I(t.roomId)},1e4),function(){clearInterval(E.current),E.current=null}},[t.status,_]),Object(o.useEffect)(function(){var e=setInterval(function(){"undefined"!=typeof window&&d&&(m(S()),clearInterval(e))},200);return function(){clearInterval(e)}},[d]);var S=Object(o.useCallback)(function(){return 0===t.roomType?{width:"57%",margin:"0 auto"}:1===t.roomType?{paddingTop:"0"}:void 0},[t.roomType]);return l.a.createElement("div",{className:"live-share-live-video-m"},l.a.createElement("div",{className:"video-wrapper",style:U()({},r)},l.a.createElement("div",{id:"id_test_video",className:"".concat(t&&0===t.roomType?"vertical":"horizontal")}),l.a.createElement("div",{className:"click-cancel-muted ".concat(t&&0===t.roomType?"mobile":"pc"),style:{display:f?"block":"none"},onClick:function(){d&&v(!1)}},l.a.createElement("button",null,"点击取消静音"))))}),J=(a(1718),function(e){var t=e.time,a=function(e){return Number(e)<10?"0".concat(e):e};return l.a.createElement("div",{className:"im-live-detail-left-live-video-footer"},l.a.createElement("div",{className:"im-live-detail-left-live-video-footer-text2"},"距直播开始：",a(t.d)&&0!==t.d&&l.a.createElement("span",null,t.d,"天"),a(t.h)&&l.a.createElement("span",null,t.h,"时"),a(t.m)&&l.a.createElement("span",null,t.m,"分"),a(t.s)&&l.a.createElement("span",null,t.s,"秒")))}),Y=(a(1719),a(1720),a(1112)),z=a.n(Y),W=a(1113),Z=a.n(W),Q=function(e){var t=e.authorInfo,a=e.iconHide,n=null,c="普通用户";switch(parseInt(t.vGrade)){case 0:c="普通用户";break;case 1:n=z.a,c="MarsBit 专栏个人认证";break;case 2:n=Z.a,c="MarsBit 专栏媒体认证";break;case 3:n=Z.a,c="MarsBit 专栏机构认证";break;default:c="普通用户"}return l.a.createElement("div",{className:"author-info-avatar"},l.a.createElement("div",{className:"author-info-avatar-img"},l.a.createElement("img",{className:"img-clear-blur avatar-img",src:t.iconUrl,alt:t.nickname}),n&&!a&&l.a.createElement("span",{title:c,className:"avatar-mark"},l.a.createElement("img",{className:"img-clear-blur",src:n,alt:t.nickName}))),l.a.createElement("div",{className:"author-info-avatar-text"},l.a.createElement("p",{className:"live-profile-title"},l.a.createElement("span",null,t.nickName,l.a.createElement("span",{className:"avatar-role"},0===t.userType?l.a.createElement("span",{className:"guest-icon"},"嘉宾"):l.a.createElement("span",{className:"presenter-icon"},"主播")))),l.a.createElement("p",{className:"im-live-list-right-live-good-up-item-text"},t.introduce)))},X=function(e){return l.a.createElement("div",{className:"im-live-list-right-live-good-up-item"},l.a.createElement(Q,{authorInfo:e}))},$=(a(1721),function(e){var t=e.guestList,a=e.presenterList;return l.a.createElement("div",{className:"liveshare-m-guest-box"},a&&a.length>0&&a.map(function(e,t){return l.a.createElement("div",{className:"live-guest-list-item"},l.a.createElement(X,c()({},e,{key:t})))}),t&&t.length>0&&t.map(function(e,t){return l.a.createElement("div",{className:"live-guest-list-item"},l.a.createElement(X,c()({},e,{key:t})))}))});a(1722),t.default=function(e){var t=Object(s.e)(function(e){return{roomData:e.live.room,popularityList:e.live.popularityList,roomLiveRecommendList:e.live.roomLiveRecommendList.inforList}},s.c),a=t.roomData,n=t.popularityList,r=t.roomLiveRecommendList,u=e.match.params.roomId,d=Object(m.c)().t,v=Object(o.useState)(a.status),f=i()(v,2),p=f[0],b=f[1],E=Object(o.useState)({d:0,h:0,m:0,s:0}),h=i()(E,2),g=h[0],I=h[1],w=Object(o.useCallback)(function(){var e=(new Date).getTime(),t=Number(a.beginTime)-e,n={d:0,h:0,m:0,s:0};t>=0&&(n.d=Math.floor(t/1e3/60/60/24),n.h=Math.floor(t/1e3/60/60%24),n.m=Math.floor(t/1e3/60%60),n.s=Math.floor(t/1e3%60)),I(n),0===a.status&&setTimeout(w,1e3)},[]),k=Object(o.useState)(0),x=i()(k,2),_=x[0],S=x[1];Object(o.useEffect)(function(){0===a.status?b(0):1===a.status?b(1):2===a.status&&b(2)},[a]),Object(o.useEffect)(function(){w()},[]);return l.a.createElement("div",{id:"hxwrap"},l.a.createElement(N.a,{type:"liveshare",id:u}),l.a.createElement("div",{className:"hxwrap"},l.a.createElement("div",{className:"live-share-m"},l.a.createElement("div",{className:"live-share-m-info"},l.a.createElement("div",{className:"live-share-m-content",id:"live-share-m-content"},0===p?l.a.createElement("div",{className:"readyPic"},l.a.createElement("img",{className:"live-share-m-ready-coverPic",src:a.coverPicUrl}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"playerWrap"},l.a.createElement("div",{className:"player"})))):l.a.createElement(F,{changeBoxShow:function(e){S(e)}}),a&&l.a.createElement("div",{className:"live-background",style:{background:"url(".concat(a.coverPicUrl,")")}})),l.a.createElement("div",{className:"live-share-m-info"},l.a.createElement(y,c()({},a,{pop:n[0]})),0===p&&l.a.createElement("div",{className:"live-share-m-brief"},l.a.createElement("div",null,l.a.createElement("span",{className:"live-share-box-title"}),"主播与嘉宾"),l.a.createElement($,a)))),l.a.createElement("div",{className:"live-share-m-brief"},l.a.createElement("div",null,l.a.createElement("span",{className:"live-share-box-title"}),d("live_brief")),l.a.createElement(B,a)),l.a.createElement("div",{className:"live-share-m-hot-box"},l.a.createElement("div",null,l.a.createElement("span",{className:"live-share-box-title"}),"热门直播"),r.length>0&&l.a.createElement(j,{listData:r})))),0!==_?l.a.createElement("div",null):null,p?l.a.createElement(O.a,null):l.a.createElement(J,c()({},a,{time:g})))}}}]);
//# sourceMappingURL=containers-m-LiveShare-4340ff1b.js.map