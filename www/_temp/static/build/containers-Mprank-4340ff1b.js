(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[26],{1454:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),l=n(6),c=n.n(l),s=n(7),o=n.n(s),i=n(8),m=n.n(i),u=n(9),p=n.n(u),d=n(0),h=n.n(d),y=n(27),f=n(1),E=(n(1454),n(2)),k=n.n(E),v=n(4),g=n.n(v),b=n(197),L=n(11),N=function(e){return Object(f.d)({type:"GET",url:"/info/rank/month/list",params:e})},w=function(e){return function(){var t=g()(k.a.mark(function t(n){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"/info/rank/msg",t.next=4,Object(f.d)({type:"GET",url:"/info/rank/msg",params:e,noLoading:!0});case 4:return 1===(a=t.sent).code&&n({type:b.a,data:a.obj}),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),n({type:L.a,data:t.t0}),new Error(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},C=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=o()(this,(e=m()(t)).call.apply(e,[this].concat(l)))).state={typeList:[],typeIndex:"1",month:[],secondType:1},n.addComma=function(e){for(var t=(e||0).toString(),n="";t.length>3;)n=","+t.slice(-3)+n,t=t.slice(0,t.length-3);return t&&(n=t+n),n},n.getType=function(e){var t=e.target.getAttribute("type");n.setState({secondType:t,typeIndex:t}),n.mpRankList(t,""),n.rankMonth(t)},n.mpRankList=function(e,t){(0,n.props.dispatch)(w({firstType:1,secondType:e,rankMonth:t}))},n.rankMonth=function(e){N({firstType:1,secondType:e}).then(function(e){1===e.code&&n.setState({month:e.obj})})},n.handleChangeMonth=function(e){var t=n.state.secondType,a=e.target.value;n.mpRankList(t,a)},n}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;Object(f.d)({type:"GET",url:"/info/rank/type"}).then(function(t){if(1===t.code){var n=t.obj[1];e.setState({typeList:n})}}),this.mpRankList(1,null),this.rankMonth()}},{key:"render",value:function(){var e=this,t=this.state,n=t.typeList,a=t.typeIndex,r=t.month,l=this.props.rankListObj,c=l.rankUserInfo?l.rankUserInfo.inforList:[];return h.a.createElement("div",{className:"mp-rank-box"},h.a.createElement("div",{className:"rank-banner"}),h.a.createElement("div",{className:"rank-cont"},h.a.createElement("div",{className:"cont-tab"},n.map(function(t,n){var r=parseInt(a)===n+1?"active":"";return h.a.createElement("p",{onClick:e.getType,className:r,type:t.typeId,key:t.typeId},t.typeName)})),h.a.createElement("div",{className:"cont-date"},h.a.createElement("select",{onChange:this.handleChangeMonth},r.map(function(e,t){return h.a.createElement("option",{style:{height:"30px"},value:e,key:t},Object(f.l)(e,"yyyy年MM月"))})),h.a.createElement("a",{href:l.imgUrl,target:"_blank",style:{display:l.imgUrl?"block":"none"},download:"logo.png",className:"download-img"})),h.a.createElement("div",{className:"cont-table"},h.a.createElement("table",null,h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("td",null,"排名"),h.a.createElement("td",null,"MarsBit 专栏"),h.a.createElement("td",null,"文章数"),h.a.createElement("td",null,"热度"),h.a.createElement("td",null,"影响力 ",h.a.createElement("span",null,"?"),h.a.createElement("div",{className:"hint"},"影响力由MarsBit 专栏本月中发文量、阅读量、粉丝量、收藏量、分享量与推荐量综合计算得来。")))),h.a.createElement("tbody",null,c.map(function(t,n){var a="";switch(n){case 0:a="one";break;case 1:a="two";break;case 2:a="three"}return h.a.createElement("tr",{key:t.id,style:{width:"700px"}},h.a.createElement("td",{className:a},n+1),h.a.createElement("td",null,h.a.createElement("a",{href:f.B.main("/userCenter/".concat(t.passportId)),target:"_blank"},h.a.createElement("img",{className:"td-img",src:t.iconUrl,alt:""}),h.a.createElement("span",{className:"".concat(1===t.vGrade?"personal":"enterprise")}),h.a.createElement("div",{style:{marginLeft:"25px"}},h.a.createElement("h6",null,t.nickName),h.a.createElement("p",null,t.identityDesc)))),h.a.createElement("td",null,e.addComma(t.articleCount)),h.a.createElement("td",null,e.addComma(t.readCount)),h.a.createElement("td",null,e.addComma(t.effectPoint)))}))))))}}]),t}(d.Component);t.default=Object(y.b)(function(e){return{rankListObj:e.mpRank.rankListObj}})(C)}}]);
//# sourceMappingURL=containers-Mprank-4340ff1b.js.map