{"version":3,"sources":["webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/index.js","webpack:///./_multiappsharing/public/hooks/useAppDownload.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/images/wechat-download-tips.png","webpack:///./_multiappsharing/components-m/DownloadBtn/index.js","webpack:///./_multiappsharing/components-m/DownloadBtn/images/cellphone-icon.png","webpack:///./assets/containers-m/Livelist/LiveRoomItem/Image/im-live-list-item-status.gif","webpack:///./assets/containers-m/Livelist/LiveRoomItem/Image/im-live-list-item-status2.png","webpack:///./assets/containers-m/Livelist/LiveRoomItem/index.js","webpack:///./assets/containers-m/Livelist/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_images_wechat_download_tips_png__WEBPACK_IMPORTED_MODULE_2__","_images_wechat_download_tips_png__WEBPACK_IMPORTED_MODULE_2___default","__webpack_exports__","props","openInBrowser","a","createElement","className","onClick","setOpenInBrowser","src","tipsImg","alt","_redux_actions_public__WEBPACK_IMPORTED_MODULE_1__","_components_Toast__WEBPACK_IMPORTED_MODULE_2__","_public__WEBPACK_IMPORTED_MODULE_3__","iosUrl","andUrl","useRef","openApp","useCallback","url","doNotDownload","callback","intHandle","_clickTime","_count","location","href","isIos","isAndroid","current","Date","setInterval","elsTime","clearInterval","document","hidden","webkitHidden","console","log","appDownload","type","id","obj","isWechat","concat","useEffect","getAndroidDownloadUrl","then","res","code","Toast","info","msg","err","module","exports","p","_useState","useState","_useState2","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","iphonex","setIphonex","_useState3","_useState4","useAppDownload","clickDownload","isIphoneX","react__WEBPACK_IMPORTED_MODULE_1___default","phoneIcon","_components_m_WebchatOpenInBrowser__WEBPACK_IMPORTED_MODULE_4__","Livelist_LiveRoomItem","itemType","roomId","status","popularity","coverPicUrl","name","publishTime","playNum","playNumText","toFixed","undefined","mixUrl","main","react_default","target","IconStatus","IconStatus2","_useSelector","useSelector","state","roomLiveRecommend","live","roomLiveRecommendList","inforList","dispatch","useDispatch","slicedToArray_default","livelist","setLivelist","newdData","currentPage","onBtnMoreClick","currPage","parseInt","pageCount","getRoomLiveList","recommendFlag","pageSize","page","map","item","index","extends_default","key","data-page","DownloadBtn"],"mappings":"wHAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,GAAAH,EAAA,MAAAA,EAAA,OAAAI,EAAAJ,EAAAE,EAAAC,GAIeE,EAAA,WAACC,GACZ,OAAOA,EAAMC,eAAiBN,EAAAO,EAAAC,cAAA,OAC1BC,UAAU,2BACVC,QAAS,kBAAML,EAAMM,kBAAiB,KACtCX,EAAAO,EAAAC,cAAA,OAAKC,UAAU,oBACXT,EAAAO,EAAAC,cAAA,OAAKI,IAAKC,IAASC,IAAI,mDCTnC,IAAAhB,EAAAC,EAAA,GAAAgB,EAAAhB,EAAA,KAAAiB,EAAAjB,EAAA,IAAAkB,EAAAlB,EAAA,GAkCeK,EAAA,aACX,IAAMc,EAAS,oDACTC,EAASC,iBAAO,IAEhBC,EAAUC,sBAAY,SAACC,EAAKC,GAjCpB,IAACC,EAIXC,EAHAC,EAEAC,EA+BAC,SAASC,KAAOP,EAlCLE,EAmCD,WACFM,gBAAYP,IAAeK,SAASC,KAAOZ,GAC3Cc,gBAAgBR,IAAeK,SAASC,KAAOX,EAAOc,UApC9DN,GAAe,IAAIO,KAEnBN,EAAS,EAEbF,EAAYS,YAAY,WACpBP,IACA,IAAIQ,GAAY,IAAIF,KAAUP,GAC1BC,GAAU,KAAOQ,EAAU,OAC3BC,cAAcX,GACVU,EAAU,KAAQE,SAASC,QAAUD,SAASE,aAC9CC,QAAQC,IAAI,WAEZjB,MAGT,KAuBA,CAACN,IAEEwB,EAAcrB,sBAAY,SAACsB,EAAMC,EAAIC,GACvC,IAAMtB,IAAgBsB,GAAMA,EAAItB,cAC5BlB,GAAgB,EACpB,GAAIyC,eAAchB,cAEdF,SAASC,KAAOZ,OACb,GAAI6B,eAAcf,cAErB1B,GAAgB,OAEhB,OAAQsC,GACJ,IAAK,YACDvB,EAAO,4BAAA2B,OAA6BH,GAAMrB,GAC1C,MACJ,IAAK,aACDH,EAAO,uBAAA2B,OAAwBH,GAAMrB,GACrC,MACJ,IAAK,WACDH,EAAO,0BAAA2B,OAA2BH,GAAMrB,GACxC,MACJ,IAAK,cACDH,EAAO,uBAAA2B,OAAwBH,GAAMrB,GACrC,MACJ,IAAK,YACDH,EAAO,2BAA6BG,GACpC,MACJ,IAAK,cACDH,EAAO,wBAAA2B,OAAyBH,GAAMrB,GACtC,MACJ,IAAK,YACDH,EAAO,4BAA8BG,GACrC,MACJ,IAAK,eACDH,EAAO,+BAAA2B,OAAgCH,GAAMrB,GAC7C,MACJ,IAAK,eACDH,EAAO,+BAAA2B,OAAgCH,GAAMrB,GAC7C,MACJ,QACIH,EAAO,0BAA4BG,GAI/C,OAAOlB,GACR,CAACa,IAcJ,OAZA8B,oBAAU,WACNC,cAAwBC,KAAK,SAAUC,GAClB,IAAbA,EAAIC,KACJlC,EAAOc,QAAUmB,EAAIN,IAErBQ,IAAMC,KAAKH,EAAII,OAJvB,MAMS,SAAUC,GACf,MAAMA,KAEX,IAEId,gDCxGXe,EAAAC,QAAiB5D,EAAA6D,EAAuB,oKCQzBxD,EAAA,WAACC,GAAU,IAAAwD,EACQC,oBAAS,GADjBC,EAAAC,IAAAH,EAAA,GACfI,EADeF,EAAA,GACNG,EADMH,EAAA,GAAAI,EAEoBL,oBAAS,GAF7BM,EAAAJ,IAAAG,EAAA,GAEf7D,EAFe8D,EAAA,GAEAzD,EAFAyD,EAAA,GAGhBzB,EAAc0B,cACdC,EAAgBhD,sBAAY,WAC9BX,EAAiBgC,EAAYtC,EAAMuC,KAAMvC,EAAMwC,MAChD,IAIH,OAHAI,oBAAU,WACNsB,eAAeL,GAAW,IAC3B,IACIM,EAAAjE,EAAAC,cAAA,OAAKC,UAAS,wBAAAuC,OAA0BiB,EAAU,UAAY,KACjEO,EAAAjE,EAAAC,cAAA,KAAGC,UAAU,mBAAmBC,QAAS4D,GACrCE,EAAAjE,EAAAC,cAAA,OAAKI,IAAK6D,IAAW3D,IAAI,cAD7B,iBAIA0D,EAAAjE,EAAAC,cAACkE,EAAA,EAAD,CAAsBpE,cAAeA,EAAeK,iBAAkBA,mDCvB9E+C,EAAAC,QAAiB5D,EAAA6D,EAAuB,2ECAxCF,EAAAC,QAAiB5D,EAAA6D,EAAuB,8DCAxCF,EAAAC,QAAiB5D,EAAA6D,EAAuB,8NCSzBe,EAAA,SAACtE,GAAU,IAElBuE,EASAvE,EATAuE,SACAC,EAQAxE,EARAwE,OACAC,EAOAzE,EAPAyE,OACAC,EAMA1E,EANA0E,WACAC,EAKA3E,EALA2E,YAEAC,EAGA5E,EAHA4E,KACApC,EAEAxC,EAFAwC,GACAqC,EACA7E,EADA6E,YAGAC,EAAUJ,GAA6B,KAAfA,EAAoBA,EAAa,EACzDK,EAAW,GAAApC,OAAMmC,EAAN,OACXA,EAAU,IACVC,EAAW,aACJD,EAAU,MACjBC,EAAW,GAAApC,QAAOmC,EAAU,KAAOE,QAAQ,GAAhC,SAEf,IAAMvD,OAAoBwD,IAAbV,GAAuC,YAAbA,EAAyBW,IAAOC,KAAP,iBAAAxC,OAA6BH,EAA7B,KAAAG,OAAmCkC,IAAiBK,IAAOC,KAAP,cAAAxC,OAA0B6B,IAE9I,OACIY,EAAAlF,EAAAC,cAAA,KAAGC,UAAS,uCAAAuC,OAAyC4B,GAAY9C,KAAMA,EAAM4D,OAAO,SAChFD,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,2BACXgF,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,8BAA8BG,IAAG,GAAAoC,OAAKgC,UACvCM,IAAbV,GAAuC,YAAbA,EAAyB,KAC9Ca,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,yCACbgF,EAAAlF,EAAAC,cAAA,OAAKC,UAAS,0CAAAuC,OAA4C8B,GAAqB,KAAXA,EAAgBA,EAAS,MACxFA,GAAqB,IAAXA,EAAeW,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,wCAAwCG,IAAK+E,MAAkBb,GAAqB,IAAXA,EAAe,GAAKW,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,wCAAwCG,IAAKgF,MACjMd,GAAqB,IAAXA,EAAe,MAASA,GAAqB,IAAXA,EAAe,MAAQ,QAEvEA,GAAqB,IAAXA,EAAeW,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,8CACpC2E,GACI,MAGH,SAAbR,GAAoC,SAAbA,EAClBa,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,oCACbgF,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,oCACVwE,IAEA,WAGHK,IAAbV,GAAuC,YAAbA,GAAuC,WAAbA,GAAsC,SAAbA,EACxEa,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,2BACZwE,GACI,iCClDV7E,EAAA,iBAACC,GAAU,IAAAwF,EAC+BC,YAAY,SAACC,GAAD,MAAY,CACzEC,kBAAmBD,EAAME,KAAKC,sBAC9BA,sBAAuBH,EAAME,KAAKC,sBAAsBC,aAFpDD,EADcL,EACdK,sBAAuBF,EADTH,EACSG,kBAIzBI,EAAWC,cALKxC,EAMUC,mBAASoC,GANnBnC,EAAAuC,IAAAzC,EAAA,GAMf0C,EANexC,EAAA,GAMLyC,EANKzC,EAAA,GAOtBd,oBAAU,WACN,IAAMwD,EAA6C,IAAlCT,EAAkBU,YAAoBH,EAAWA,EAASvD,OAAOkD,GAClFM,EAAYC,IACb,CAACP,EAAuBF,IAC3B,IAAMW,EAAiBrF,sBACnB,WACI,IAAIsF,EAAWC,SAASb,EAAkBU,aAAe,EACrDV,EAAkBc,WAAaF,GAC/BR,EAASW,YAAgB,CAAEC,cAAe,EAAGC,SAAU,GAAIC,KAAMN,MAEtE,CAACZ,IAGR,OAAOP,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,cAClBgF,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,uBAEP8F,GAAYA,EAASY,IAAI,SAACC,EAAMC,GAC5B,OAAO5B,EAAAlF,EAAAC,cAACmE,EAAD2C,IAAA,GAAkBF,EAAlB,CAAwBG,IAAKF,QAIhD5B,EAAAlF,EAAAC,cAAA,OAAKC,UAAU,aAAaC,QAASiG,EAAgBa,YAAU,IAAG/B,EAAAlF,EAAAC,cAAA,kBAClEiF,EAAAlF,EAAAC,cAACiH,EAAA,EAAD,CAAa7E,KAAK","file":"containers-m-Livelist-4340ff1b.js","sourcesContent":["import React from 'react'\nimport './index.scss'\nimport tipsImg from './images/wechat-download-tips.png'\n\nexport default (props) => {\n    return props.openInBrowser && <div\n        className=\"download-app-wechat-tips\"\n        onClick={() => props.setOpenInBrowser(false)}>\n        <div className=\"download-app-img\">\n            <img src={tipsImg} alt=\"请在浏览器中打开\" />\n        </div>\n    </div>\n}\n","import { useEffect, useCallback, useRef } from 'react'\nimport { getAndroidDownloadUrl } from '../../redux/actions/public'\nimport Toast from '../../components/Toast'\nimport { isAndroid, isIos, isWechat } from '../../public'\n\nconst checkOpen = (callback) => {\n    let _clickTime = +(new Date())\n    // 启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    let _count = 0\n    let intHandle\n    intHandle = setInterval(() => {\n        _count++\n        let elsTime = +(new Date()) - _clickTime\n        if (_count >= 100 || elsTime > 3000) {\n            clearInterval(intHandle)\n            if (elsTime > 3000 || document.hidden || document.webkitHidden) {\n                console.log('正在打开app')\n            } else {\n                callback()\n            }\n        }\n    }, 20)\n}\n\n/**\n * @params type 当前页面类型 id文章视频等相对应的id\n * newsDetail新闻详情，newsList新闻列表\n * flashDetail快讯详情，flashList快讯列表\n * videoDetail视频详情，videoList视频列表\n * authorCenter作者中心\n * 不传type默认跳转到首页\n * 返回appDownload 传递以上参数\n * 并返回openInBrowser是否提示浏览器中打开\n * */\nexport default () => {\n    const iosUrl = 'https://itunes.apple.com/cn/app/id1343659925?mt=8'\n    const andUrl = useRef('')\n\n    const openApp = useCallback((url, doNotDownload) => {\n        location.href = url\n        checkOpen(() => {\n            if (isIos() && !doNotDownload) location.href = iosUrl\n            if (isAndroid() && !doNotDownload) location.href = andUrl.current\n        })\n    }, [andUrl])\n\n    const appDownload = useCallback((type, id, obj) => {\n        const doNotDownload = obj ? obj.doNotDownload : false\n        let openInBrowser = false\n        if (isWechat() && isIos()) {\n            // 打开appStore\n            location.href = iosUrl\n        } else if (isWechat() && isAndroid()) {\n            // 提示浏览器中打开\n            openInBrowser = true\n        } else {\n            switch (type) {\n                case 'liveshare':\n                    openApp(`marsbusiness://liveshare/${id}`, doNotDownload)\n                    break\n                case 'newsDetail':\n                    openApp(`marsbusiness://news/${id}`, doNotDownload)\n                    break\n                case 'newsList':\n                    openApp(`marsbusiness://newlist/${id}`, doNotDownload)\n                    break\n                case 'flashDetail':\n                    openApp(`marsbusiness://fast/${id}`, doNotDownload)\n                    break\n                case 'flashList':\n                    openApp(`marsbusiness://home/fast`, doNotDownload)\n                    break\n                case 'videoDetail':\n                    openApp(`marsbusiness://video/${id}`, doNotDownload)\n                    break\n                case 'videoList':\n                    openApp(`marsbusiness://home/video`, doNotDownload)\n                    break\n                case 'authorCenter':\n                    openApp(`marsbusiness://authorCenter/${id}`, doNotDownload)\n                    break\n                case 'noticeDetail':\n                    openApp(`marsbusiness://noticeDetail/${id}`, doNotDownload)\n                    break\n                default:\n                    openApp(`marsbusiness://home/new`, doNotDownload)\n            }\n        }\n\n        return openInBrowser\n    }, [andUrl])\n\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                andUrl.current = res.obj\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [])\n\n    return appDownload\n}\n","module.exports = __webpack_public_path__ + \"wechat-download-tips-fef770a1.png\";","import React, { useState, useCallback, useEffect } from 'react'\nimport './index.scss'\n\nimport { isIphoneX } from 'multiPublic/index'\nimport WebchatOpenInBrowser from '../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../public/hooks/useAppDownload'\nimport phoneIcon from './images/cellphone-icon.png'\n\nexport default (props) => {\n    const [iphonex, setIphonex] = useState(false)\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(props.type, props.id))\n    }, [])\n    useEffect(() => {\n        isIphoneX() && setIphonex(true)\n    }, [])\n    return <div className={`download-app-wrapper ${iphonex ? 'iphonex' : ''}`}>\n        <a className=\"download-app-btn\" onClick={clickDownload}>\n            <img src={phoneIcon} alt=\"下载MarsBit\"/>\n            下载MarsBit APP\n        </a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div >\n}\n","module.exports = __webpack_public_path__ + \"cellphone-icon-524dafc5.png\";","module.exports = __webpack_public_path__ + \"im-live-list-item-status-19bd2cda.gif\";","module.exports = __webpack_public_path__ + \"im-live-list-item-status2-5d5cebf1.png\";","import React from 'react'\n\nimport './index.scss'\n\nimport { mixUrl } from 'multiPublic'\n\nimport IconStatus from './Image/im-live-list-item-status.gif'\nimport IconStatus2 from './Image/im-live-list-item-status2.png'\n\nexport default (props) => {\n    const {\n        itemType, // item样式 undefind.正常直播列表组件  top1.广场推荐位左侧大图 top2.广场推荐位左侧左侧小图 top3.广场推荐位新小图 right.首页右侧列表 myvideo.个人视频列表组件 mylive.个人直播组件\n        roomId, // 房间ID\n        status, // 播放状态 0.未直播 1.直播中 2.回放中\n        popularity, // 观看人数\n        coverPicUrl, // 背景图片\n        // presenterList, // 主播人列表\n        name, // 直播间名称\n        id, // 视频ID（暂时只有视频列表组件）\n        publishTime // 视频创建时间（暂时只有视频列表组件）\n    } = props\n\n    let playNum = popularity && popularity !== '' ? popularity : 0\n    let playNumText = `${playNum} 人次`\n    if (playNum > 1000000) {\n        playNumText = `99.9万+  人次`\n    } else if (playNum > 10000) {\n        playNumText = `${(playNum / 10000).toFixed(1)}万 人次`\n    }\n    const href = itemType !== undefined && itemType === 'myvideo' ? mixUrl.main(`/video/detail/${id}/${publishTime}`) : mixUrl.main(`/liveshare/${roomId}`)\n    // ?x-oss-process=image/format,webp/resize,w_200\n    return (\n        <a className={`im-live-list-item im-live-list-item-${itemType}`} href={href} target=\"_self\">\n            <div className=\"im-live-list-item-video\">\n                <img className=\"im-live-list-item-video-img\" src={`${coverPicUrl}`} />\n                {itemType !== undefined && itemType === 'myvideo' ? null\n                    : <div className=\"im-live-list-item-video-state type-lt\">\n                        <div className={`im-live-list-item-video-state-box type-${status && status !== '' ? status : '0'}`}>\n                            {status && status === 1 ? <img className=\"im-live-list-item-video-state-box-img\" src={IconStatus} /> : (status && status === 0 ? '' : <img className=\"im-live-list-item-video-state-box-img\" src={IconStatus2} />)}\n                            {status && status === 1 ? '直播中' : (status && status === 2 ? '回放中' : '即将开始')}\n                        </div>\n                        {status && status !== 0 ? <div className=\"im-live-list-item-video-state-box type-pop\">\n                            {playNumText}\n                        </div> : null}\n                    </div>\n                }\n                {itemType === 'top1' || itemType === 'top2'\n                    ? <div className=\"im-live-list-item-list-top-state\">\n                        <div className=\"im-live-list-item-list-top-title\">\n                            {name}\n                        </div>\n                    </div> : null\n                }\n            </div>\n            {itemType === undefined || itemType === 'myvideo' || itemType === 'mylive' || itemType === 'top3'\n                ? <div className=\"im-live-list-item-title\">\n                    {name}\n                </div> : null\n            }\n        </a>\n    )\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport LiveRoomItem from './LiveRoomItem/'\nimport { getRoomLiveList } from '../../redux/actions/live'\nimport DownloadBtn from 'multiCompsM/DownloadBtn'\nimport './index.scss'\n\nexport default (props) => {\n    const { roomLiveRecommendList, roomLiveRecommend } = useSelector((state) => ({\n        roomLiveRecommend: state.live.roomLiveRecommendList,\n        roomLiveRecommendList: state.live.roomLiveRecommendList.inforList\n    }))\n    const dispatch = useDispatch()\n    const [livelist, setLivelist] = useState(roomLiveRecommendList)\n    useEffect(() => {\n        const newdData = roomLiveRecommend.currentPage === 1 ? livelist : livelist.concat(roomLiveRecommendList)\n        setLivelist(newdData)\n    }, [roomLiveRecommendList, roomLiveRecommend])\n    const onBtnMoreClick = useCallback(\n        () => {\n            let currPage = parseInt(roomLiveRecommend.currentPage) + 1\n            if (roomLiveRecommend.pageCount >= currPage) {\n                dispatch(getRoomLiveList({ recommendFlag: 1, pageSize: 20, page: currPage }))\n            }\n        }, [roomLiveRecommend]\n    )\n\n    return <div className=\"m-live-box\">\n        <div className=\"live-recommend-list\">\n            {\n                livelist && livelist.map((item, index) => {\n                    return <LiveRoomItem {...item} key={index} />\n                })\n            }\n        </div>\n        <div className=\"video-more\" onClick={onBtnMoreClick} data-page=\"\"><p>查看更多</p></div>\n        <DownloadBtn type=\"home\" />\n    </div>\n}\n"],"sourceRoot":""}