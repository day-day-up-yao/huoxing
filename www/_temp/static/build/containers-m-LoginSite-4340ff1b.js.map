{"version":3,"sources":["webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/index.js","webpack:///./_multiappsharing/public/hooks/useAppDownload.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/images/wechat-download-tips.png","webpack:///./_multiappsharing/components-m/Layout/FooterDownload/index.js","webpack:///./_multiappsharing/components-m/Layout/FooterDownload/img/m-share-logo.png","webpack:///./assets/containers-m/LoginSite/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_images_wechat_download_tips_png__WEBPACK_IMPORTED_MODULE_2__","_images_wechat_download_tips_png__WEBPACK_IMPORTED_MODULE_2___default","__webpack_exports__","props","openInBrowser","a","createElement","className","onClick","setOpenInBrowser","src","tipsImg","alt","_redux_actions_public__WEBPACK_IMPORTED_MODULE_1__","_components_Toast__WEBPACK_IMPORTED_MODULE_2__","_public__WEBPACK_IMPORTED_MODULE_3__","iosUrl","andUrl","useRef","openApp","useCallback","url","doNotDownload","callback","intHandle","_clickTime","_count","location","href","isIos","isAndroid","current","Date","setInterval","elsTime","clearInterval","document","hidden","webkitHidden","console","log","appDownload","type","id","obj","isWechat","concat","useEffect","getAndroidDownloadUrl","then","res","code","Toast","info","msg","err","module","exports","p","t","useTranslation","_useState","useState","_useState2","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","useAppDownload","clickDownload","react__WEBPACK_IMPORTED_MODULE_1___default","mLogo","_components_m_WebchatOpenInBrowser__WEBPACK_IMPORTED_MODULE_5__","LoginSite","nst","setNst","queryParam","_Users_admin_Desktop_HUOXING_hx_www_huoxing24_com_multiappsharing_components_RegisterLogin__WEBPACK_IMPORTED_MODULE_3__","closeHide","mobile","_Users_admin_Desktop_HUOXING_hx_www_huoxing24_com_multiappsharing_components_m_Layout_FooterDownload__WEBPACK_IMPORTED_MODULE_4__"],"mappings":"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","file":"containers-m-LoginSite-4340ff1b.js","sourcesContent":["import React from 'react'\nimport './index.scss'\nimport tipsImg from './images/wechat-download-tips.png'\n\nexport default (props) => {\n    return props.openInBrowser && <div\n        className=\"download-app-wechat-tips\"\n        onClick={() => props.setOpenInBrowser(false)}>\n        <div className=\"download-app-img\">\n            <img src={tipsImg} alt=\"请在浏览器中打开\" />\n        </div>\n    </div>\n}\n","import { useEffect, useCallback, useRef } from 'react'\nimport { getAndroidDownloadUrl } from '../../redux/actions/public'\nimport Toast from '../../components/Toast'\nimport { isAndroid, isIos, isWechat } from '../../public'\n\nconst checkOpen = (callback) => {\n    let _clickTime = +(new Date())\n    // 启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    let _count = 0\n    let intHandle\n    intHandle = setInterval(() => {\n        _count++\n        let elsTime = +(new Date()) - _clickTime\n        if (_count >= 100 || elsTime > 3000) {\n            clearInterval(intHandle)\n            if (elsTime > 3000 || document.hidden || document.webkitHidden) {\n                console.log('正在打开app')\n            } else {\n                callback()\n            }\n        }\n    }, 20)\n}\n\n/**\n * @params type 当前页面类型 id文章视频等相对应的id\n * newsDetail新闻详情，newsList新闻列表\n * flashDetail快讯详情，flashList快讯列表\n * videoDetail视频详情，videoList视频列表\n * authorCenter作者中心\n * 不传type默认跳转到首页\n * 返回appDownload 传递以上参数\n * 并返回openInBrowser是否提示浏览器中打开\n * */\nexport default () => {\n    const iosUrl = 'https://itunes.apple.com/cn/app/id1343659925?mt=8'\n    const andUrl = useRef('')\n\n    const openApp = useCallback((url, doNotDownload) => {\n        location.href = url\n        checkOpen(() => {\n            if (isIos() && !doNotDownload) location.href = iosUrl\n            if (isAndroid() && !doNotDownload) location.href = andUrl.current\n        })\n    }, [andUrl])\n\n    const appDownload = useCallback((type, id, obj) => {\n        const doNotDownload = obj ? obj.doNotDownload : false\n        let openInBrowser = false\n        if (isWechat() && isIos()) {\n            // 打开appStore\n            location.href = iosUrl\n        } else if (isWechat() && isAndroid()) {\n            // 提示浏览器中打开\n            openInBrowser = true\n        } else {\n            switch (type) {\n                case 'liveshare':\n                    openApp(`marsbusiness://liveshare/${id}`, doNotDownload)\n                    break\n                case 'newsDetail':\n                    openApp(`marsbusiness://news/${id}`, doNotDownload)\n                    break\n                case 'newsList':\n                    openApp(`marsbusiness://newlist/${id}`, doNotDownload)\n                    break\n                case 'flashDetail':\n                    openApp(`marsbusiness://fast/${id}`, doNotDownload)\n                    break\n                case 'flashList':\n                    openApp(`marsbusiness://home/fast`, doNotDownload)\n                    break\n                case 'videoDetail':\n                    openApp(`marsbusiness://video/${id}`, doNotDownload)\n                    break\n                case 'videoList':\n                    openApp(`marsbusiness://home/video`, doNotDownload)\n                    break\n                case 'authorCenter':\n                    openApp(`marsbusiness://authorCenter/${id}`, doNotDownload)\n                    break\n                case 'noticeDetail':\n                    openApp(`marsbusiness://noticeDetail/${id}`, doNotDownload)\n                    break\n                default:\n                    openApp(`marsbusiness://home/new`, doNotDownload)\n            }\n        }\n\n        return openInBrowser\n    }, [andUrl])\n\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                andUrl.current = res.obj\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [])\n\n    return appDownload\n}\n","module.exports = __webpack_public_path__ + \"wechat-download-tips-fef770a1.png\";","import React, { useState, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\nimport mLogo from './img/m-share-logo.png'\nimport WebchatOpenInBrowser from '../../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../../public/hooks/useAppDownload'\nexport default function (props) {\n    const { t } = useTranslation()\n    const { type, id } = props\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(type, id))\n    }, [])\n    return <div className=\"share-download-bottom active\" id=\"share-download-bottom\">\n        <div className=\"bottom-left\">\n            <img src={mLogo} />\n            <h4>MarsBit</h4>\n            <p>{t('all_world_dynamic')}</p>\n        </div>\n        <a className=\"b-down\" onClick={clickDownload}>{t('share_open')} APP</a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div>\n}\n","module.exports = __webpack_public_path__ + \"m-share-logo-3e28eff7.png\";","import React, { useState, useEffect } from 'react'\n\nimport './index.scss'\n\nimport RegisterLogin from 'multiComps/RegisterLogin'\nimport FooterDownload from 'multiCompsM/Layout/FooterDownload'\nimport { queryParam } from 'multiPublic/index'\n\nconst LoginSite = (props) => {\n    const [nst, setNst] = useState(null)\n    useEffect(() => {\n        if (queryParam('giveBonus')) setNst(queryParam('giveBonus'))\n    }, [])\n    return <div className=\"login-site-wrapper-m\">\n        <div className=\"login-site-content\">\n            <RegisterLogin closeHide={true} mobile={true}/>\n            {nst && <div className=\"get-nst\">注册你将获取:<span>{nst}</span>NST</div>}\n        </div>\n        <FooterDownload/>\n    </div>\n}\n\nexport default LoginSite\n"],"sourceRoot":""}