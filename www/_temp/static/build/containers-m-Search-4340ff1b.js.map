{"version":3,"sources":["webpack:///./assets/containers-m/Search/img/m-time.png","webpack:///./assets/containers-m/Search/img/m-search.png","webpack:///./assets/containers-m/Search/img/m-search.svg","webpack:///./assets/containers-m/Search/SearchNewsList/index.js","webpack:///./assets/containers-m/Search/SearchLiveList/index.js","webpack:///./assets/containers-m/Search/SearchMarketList/index.js","webpack:///./assets/containers-m/Search/NoData/index.js","webpack:///./_multiappsharing/redux/actions/market.js","webpack:///./assets/containers-m/Search/index.js"],"names":["module","exports","__webpack_require__","p","SearchNewsList","props","cont","map","item","index","react_default","a","createElement","className","key","title","href","concat","id","dangerouslySetInnerHTML","__html","keyLight","searchKey","author","formatTime","createTime","src","JSON","parse","coverPic","wap_small","alt","SearchLiveList","content","replace","arguments","liveLink","timeIcon","createdTime","SearchMarketList","length","onClick","symbol","window","open","icon","price","toFixed","change_percent","NoData","Img","getMarketData","params","axiosAjax","type","url","getSearchMarketData","_ref2","asyncToGenerator_default","regenerator_default","mark","_callee2","dispatch","data","wrap","_context2","prev","next","page","size","search","order","sort","limit","sent","code","GETSEARCHMARKETDATA","abrupt","t0","ACTIONERROR","Error","stop","_x2","apply","this","searchMTabType","rankData","Search","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","call","isSearching","nowScrollTop","bindHandleScroll","event","_event$target","target","scrollHeight","clientHeight","scrollTop","state","showType","handleSearchList","parseInt","currPage","searchEnter","keyCode","trim","value","setState","searchQuery","searchChange","isResShow","obj","This","assertThisInitialized_default","sendData","q","keyWord","pageSize","objectSpread_default","total","getNewsSearchList","then","res","inforList","listData","recordCount","totalIndex","getLiveSearchList","renderStr","containers_m_Search_NoData","containers_m_Search_SearchNewsList","containers_m_Search_SearchLiveList","containers_m_Search_SearchMarketList","cnyPrice","onBtnCancelClick","history","go","onBtnSearchtabClick","typeId","document","getElementById","addEventListener","i","quote","removeEventListener","_this2","_this$state","iconSearch","placeholder","onChange","onKeyDown","style","display","active","label","Component","connect","newsChannelId","multi"],"mappings":"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","file":"containers-m-Search-4340ff1b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"m-time-68310a01.png\";","module.exports = __webpack_public_path__ + \"m-search-3fc67de6.png\";","module.exports = __webpack_public_path__ + \"m-search-358aef42.svg\";","import React from 'react'\nimport './index.scss'\nimport { formatTime, keyLight } from 'multiPublic'\n\nconst SearchNewsList = (props) => {\n    return props.cont.map((item, index) => {\n        return <div className=\"news-item\" key={index}>\n            <div className=\"news-item-content\">\n                <p className=\"content-title\">\n                    <a title={item.title} href={`/newsdetail/${item.id}.html`} dangerouslySetInnerHTML={{ __html: keyLight(item.title, props.searchKey) }}></a>\n                </p>\n                <p className=\"content-sup\">\n                    <span>{item.author}</span>\n                    <span>{formatTime(item.createTime, 'yyyy-MM-dd hh:mm')}</span>\n                </p>\n            </div>\n            <div className=\"news-item-img\">\n                <img src={`${JSON.parse(item.coverPic).wap_small}`} className=\"img-pic\" alt={item.title} />\n            </div>\n        </div>\n    })\n}\n\nexport default SearchNewsList\n","import React from 'react'\nimport './index.scss'\nimport timeIcon from '../img/m-time.png'\nimport { formatTime, keyLight } from 'multiPublic'\n\nconst SearchLiveList = (props) => {\n    return props.cont.map((item, index) => {\n        if (!item.title) {\n            item.content.replace(/【([^【】]+)】/g, function () {\n                item.title = arguments[1]\n            })\n        }\n\n        const liveLink = `https://flash.huoxing24.com/${item.id}.html`\n        return <div className=\"lives-item\" key={index}>\n            <div className=\"lives-item-time\">\n                <img className=\"iconfont-time\" src={timeIcon} />\n                {formatTime(item.createdTime, 'yyyy-MM-dd hh:mm')}\n            </div>\n            <div className=\"lives-item-content\">\n                <p className=\"content-title\"><a title={item.title} href={liveLink} dangerouslySetInnerHTML={{ __html: keyLight(item.title, props.searchKey) }}></a></p>\n                <p className=\"content-msg\" dangerouslySetInnerHTML={{ __html: keyLight(item.content, props.searchKey) }}></p>\n            </div>\n        </div>\n    })\n}\n\nexport default SearchLiveList\n","import React from 'react'\nimport './index.scss'\n\nconst SearchMarketList = (props) => {\n    const onBtnClick = (symbol) => {\n        window.open(`https://token.huoxing24.com/${symbol}.html`, '_self')\n    }\n\n    return <div className=\"market-box\">\n        <div className=\"search-result\">\"<span>{props.searchKey}</span>{`共搜索出 ${props.cont.length} 条结果`}</div>\n        <table>\n            <thead>\n                <tr>\n                    <td>货币</td>\n                    <td>当前价格(CNY)</td>\n                    <td>24H涨跌榜</td>\n                </tr>\n            </thead>\n            <tbody>\n                {\n                    props.cont.map((item, index) => {\n                        return <tr key={index} onClick={() => onBtnClick(item.symbol)}>\n                            <td><img src={item.icon} alt=\"\" />{item.symbol}</td>\n                            <td>{(props.price * item.price).toFixed(2)}</td>\n                            <td>\n                                <span className={item.change_percent * 100 > 0 ? 'rise' : 'fall'}>\n                                    {item.change_percent * 100 > 0 ? '+' + (item.change_percent * 100).toFixed(2) : (item.change_percent * 100).toFixed(2)}%\n                                </span>\n                            </td>\n                        </tr>\n                    })\n                }\n            </tbody>\n        </table>\n    </div>\n}\n\nexport default SearchMarketList\n","import React from 'react'\nimport './index.scss'\nimport Img from '../img/m-search.png'\n\nconst NoData = (props) => {\n    return <div className=\"result-img\">\n        <img src={Img} alt=\"\" />\n        <p>很抱歉，没有找到<span>{props.searchKey}</span>相关结果，请修改或者尝试其他搜索词</p>\n    </div>\n}\n\nexport default NoData\n","import { axiosAjax } from '../../public'\nimport { ACTIONERROR } from '../constants/public'\nimport { GETRISEDROPDATA, GETSEARCHMARKETDATA } from '../constants/market'\n\n/** ---------------------------------------- pure ajax ---------------------------------------- */\n\n/**\n * @desc 获取汇率\n * @return {code, data:{coin_rate:{BTC, ETH}, legal_rate:{CNY, USD}}}\n */\nexport const getExchangeRate = () => axiosAjax({\n    type: 'get',\n    url: '/market/coin/financerate'\n})\n\n/**\n * @desc 获取汇率2\n */\nexport const getExchangeRate2 = () => axiosAjax({\n    type: 'post',\n    url: '/market/tickers/fiatmap'\n})\n\n/**\n * @desc 获取行情数据\n * @Params {params} params = {page, size, sort, order, topRank}\n page 当前显示第几页，必传\n size 每页显示记录条数，必传\n search 搜索值，非必传\n order 排序规则，必传，[rank, price, change, volume, turnover_rate, change_1h, change_7d, change_30d]\n sort 排序方式，必传，[asc, desc]\n limit top-n的币，非必传\n topRank 市值前topRank的币参与排序，非必传\n * @return {code, msg, data}\n */\nexport const getMarketData = (params) => axiosAjax({\n    type: 'get',\n    url: '/market/tickers/coin/list',\n    params: params\n})\n\n/** ---------------------------------------- redux ajax ---------------------------------------- */\n\n/**\n * @desc 设置涨跌幅state\n * @Params {params} params = {sort, time}\n */\nexport const getRiseDropData = (params) => {\n    return async dispatch => {\n        try {\n            const data = await getMarketData({\n                page: 1,\n                size: 10,\n                sort: params.sort,\n                order: params.order,\n                topRank: 50\n            })\n\n            if (data.code === 1) {\n                dispatch({\n                    type: GETRISEDROPDATA,\n                    data: data.data\n                })\n            }\n            return data\n        } catch (err) {\n            dispatch({\n                type: ACTIONERROR,\n                data: err\n            })\n            throw new Error(err)\n        }\n    }\n}\n\n/**\n * @desc 设置搜索行情\n * @Params {params} params = {search}\n */\nexport const getSearchMarketData = (params) => {\n    return async dispatch => {\n        try {\n            const data = await getMarketData({\n                page: 1,\n                size: 2000,\n                search: params.search,\n                order: 'rank',\n                sort: 'asc',\n                limit: 0\n            })\n\n            if (data.code === 1) {\n                dispatch({\n                    type: GETSEARCHMARKETDATA,\n                    data: data.data\n                })\n            }\n            return data\n        } catch (err) {\n            dispatch({\n                type: ACTIONERROR,\n                data: err\n            })\n            throw new Error(err)\n        }\n    }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport SearchNewsList from './SearchNewsList'\nimport SearchLiveList from './SearchLiveList'\nimport SearchMarketList from './SearchMarketList'\nimport NoData from './NoData'\nimport { getNewsSearchList, getLiveSearchList } from '../../redux/actions/search'\nimport './index.scss'\nimport iconSearch from './img/m-search.svg'\nimport rankData from '../../public/js/rankData'\nimport { trim } from 'multiPublic'\nimport { getExchangeRate2, getSearchMarketData } from 'multiRedux/actions/market'\nconst { searchMTabType } = rankData()\n\nclass Search extends Component {\n    constructor (props) {\n        super(props)\n        this.state = {\n            // 列表显示\n            isResShow: false,\n            // 列表数据\n            listData: [],\n            // 搜索数量\n            recordCount: 0,\n            // 搜索内容\n            searchQuery: '',\n            // 确定搜索内容 用于搜索列表里高亮文字显示\n            searchKey: '',\n            // 搜索类型 0空列表 其他与 searchMTabType type相同\n            showType: 1,\n            // 当前页数\n            currPage: 0,\n            // 每页数量\n            pageSize: 10,\n            // 总页数\n            total: 0,\n            // 美元汇率\n            cnyPrice: 0\n        }\n    }\n\n    // 是否正在搜索\n    isSearching = false\n    // 当前滚动条高度\n    nowScrollTop = 0\n\n    // 组件渲染后调用\n    componentDidMount () {\n        // 加载监听滚动\n        const This = this\n        const $contain = document.getElementById('searchPage')\n        $contain.addEventListener('scroll', This.bindHandleScroll, false)\n\n        // 请求美元汇率\n        getExchangeRate2().then(res => {\n            if (res.code === 1) {\n                for (let i = 0; i < res.data.length; i++) {\n                    if (res.data[i].quote === 'CNY') {\n                        let cnyPrice = res.data[i].price\n                        This.setState({\n                            cnyPrice: cnyPrice\n                        })\n                        break\n                    }\n                }\n            }\n        })\n    }\n\n    // 组件移除前调用\n    componentWillUnmount () {\n        // 移除监听滚动\n        const This = this\n        const $contain = document.getElementById('searchPage')\n        $contain.removeEventListener('scroll', This.bindHandleScroll)\n    }\n\n    /** @desc 处理组件滚动 */\n    bindHandleScroll = (event) => {\n        let { scrollHeight, clientHeight, scrollTop } = event.target\n        if (scrollTop > this.nowScrollTop && !this.isSearching && this.state.showType !== 3) {\n            if (scrollTop + clientHeight + 50 > scrollHeight) {\n                this.handleSearchList({ page: parseInt(this.state.currPage) + 1 })\n            }\n        }\n        this.nowScrollTop = scrollTop\n    }\n\n    /** @desc 搜索确认按钮事件 */\n    searchEnter = (event) => {\n        if (!this.isSearching && event.keyCode && event.keyCode !== 13) return false\n        if (trim(event.target.value) !== '') {\n            this.setState({\n                searchQuery: event.target.value,\n                searchKey: event.target.value,\n                showType: 1\n            })\n            this.handleSearchList({ page: 1 })\n        }\n    }\n\n    /** @desc input输入获取 */\n    searchChange = (event) => {\n        this.setState({ searchQuery: trim(event.target.value) })\n\n        if (trim(event.target.value) === '') {\n            this.setState({\n                isResShow: false\n            })\n        }\n    }\n\n    /** @desc 请求搜索列表 */\n    handleSearchList = (obj) => {\n        const { dispatch } = this.props\n        const This = this\n        let sendData = {\n            q: this.state.searchQuery,\n            keyWord: this.state.searchQuery,\n            page: this.state.currPage,\n            pageSize: this.state.pageSize,\n            type: this.state.showType\n        }\n\n        if (obj) {\n            sendData = {\n                ...sendData,\n                ...obj\n            }\n        }\n\n        if ((sendData.page > 1) && (sendData.page > this.state.total)) {\n            return\n        }\n\n        this.isSearching = true\n        switch (sendData.type) {\n            case 1:\n                dispatch(getNewsSearchList(sendData)).then((res) => {\n                    This.isSearching = false\n                    if (res.code === 1) {\n                        if (!res.obj || !res.obj.inforList) {\n                            This.setState({\n                                listData: [],\n                                recordCount: 0,\n                                total: 0,\n                                currPage: sendData.page,\n                                showType: sendData.type,\n                                isResShow: true\n                            })\n                        } else {\n                            let listData = []\n                            if (sendData.page === 1) {\n                                listData = res.obj.inforList\n                            } else {\n                                listData = This.state.listData.concat(res.obj.inforList)\n                            }\n\n                            This.setState({\n                                listData: listData,\n                                recordCount: res.obj.recordCount,\n                                total: res.obj.totalIndex,\n                                currPage: sendData.page,\n                                showType: sendData.type,\n                                isResShow: true\n                            })\n                        }\n                    } else {\n                        This.setState({\n                            listData: [],\n                            recordCount: 0,\n                            total: 0,\n                            currPage: sendData.page,\n                            showType: sendData.type,\n                            isResShow: true\n                        })\n                    }\n                })\n                break\n            case 2:\n                dispatch(getLiveSearchList(sendData)).then((res) => {\n                    This.isSearching = false\n                    if (res.code === 1) {\n                        if (!res.obj || !res.obj.inforList) {\n                            This.setState({\n                                listData: [],\n                                recordCount: 0,\n                                total: 0,\n                                currPage: sendData.page,\n                                showType: sendData.type,\n                                isResShow: true\n                            })\n                        } else {\n                            let listData = []\n                            if (sendData.page === 1) {\n                                listData = res.obj.inforList\n                            } else {\n                                listData = This.state.listData.concat(res.obj.inforList)\n                            }\n\n                            This.setState({\n                                listData: listData,\n                                recordCount: res.obj.recordCount,\n                                total: res.obj.totalIndex,\n                                currPage: sendData.page,\n                                showType: sendData.type,\n                                isResShow: true\n                            })\n                        }\n                    } else {\n                        This.setState({\n                            listData: [],\n                            recordCount: 0,\n                            total: 0,\n                            currPage: sendData.page,\n                            showType: sendData.type,\n                            isResShow: true\n                        })\n                    }\n                })\n                break\n            case 3:\n                dispatch(getSearchMarketData({ search: this.state.searchQuery })).then((res) => {\n                    This.isSearching = false\n                    if (res.code === 1) {\n                        if (!res.data || !res.data.inforList) {\n                            This.setState({\n                                listData: [],\n                                recordCount: 0,\n                                total: 0,\n                                currPage: sendData.page,\n                                showType: sendData.type,\n                                isResShow: true\n                            })\n                        } else {\n                            let listData = []\n                            if (sendData.page === 1) {\n                                listData = res.data.inforList\n                            } else {\n                                listData = This.state.listData.concat(res.data.inforList)\n                            }\n\n                            This.setState({\n                                listData: listData,\n                                recordCount: res.data.recordCount,\n                                total: res.data.totalIndex,\n                                currPage: sendData.page,\n                                showType: sendData.type,\n                                isResShow: true\n                            })\n                        }\n                    } else {\n                        This.setState({\n                            listData: [],\n                            recordCount: 0,\n                            total: 0,\n                            currPage: sendData.page,\n                            showType: sendData.type,\n                            isResShow: true\n                        })\n                    }\n                })\n                break\n            default:\n                break\n        }\n    }\n\n    /** @desc 显示列表 */\n    renderStr = (type, listData, currPage) => {\n        if (this.isSearching) return\n        if (!listData.length && currPage === 1) {\n            return <NoData searchKey={this.state.searchKey} />\n        }\n\n        switch (parseInt(type)) {\n            case 1:\n                return <SearchNewsList cont={listData} searchKey={this.state.searchKey} />\n            case 2:\n                return <SearchLiveList cont={listData} searchKey={this.state.searchKey} />\n            case 3:\n                return <SearchMarketList cont={listData} price={this.state.cnyPrice} searchKey={this.state.searchKey} />\n            default:\n                break\n        }\n    }\n\n    /** @desc 点击取消按钮事件 */\n    onBtnCancelClick = () => {\n        window.history.go(-1)\n    }\n\n    /** @desc 点击列表标签按钮事件 */\n    onBtnSearchtabClick = (typeId) => {\n        if (this.state.showType !== typeId) {\n            this.handleSearchList({ page: 1, type: typeId })\n        }\n    }\n\n    render () {\n        let { isResShow, showType, searchQuery, listData, currPage } = this.state\n        return <div className=\"m-search-content\">\n            <div className=\"search-group\">\n                <div className=\"input-group\">\n                    <img src={iconSearch}/>\n                    <input type=\"search\" className=\"input search\" placeholder=\"请输入关键词\" value={searchQuery} onChange={this.searchChange} onKeyDown={this.searchEnter}></input>\n                </div>\n                <span className={`cancel-search ${searchQuery !== '' ? 'input-in' : ''}`} onClick={this.onBtnCancelClick}>取消</span>\n            </div>\n            <div className=\"search-main\">\n                <div className=\"search-res\" style={{ display: isResShow ? 'block' : 'none' }}>\n                    <ul className=\"res-tab\">\n                        {\n                            searchMTabType.map((item) => {\n                                let active = showType === item.type ? 'active' : ''\n                                return <li className={active} key={item.type} onClick={() => { this.onBtnSearchtabClick(item.type) }}>{item.label}</li>\n                            })\n                        }\n                    </ul>\n                    <div className=\"scroll-box\" id=\"searchPage\">\n                        {\n                            this.renderStr(showType, listData, currPage)\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    newsChannelId: state.multi.newsChannelId\n})\n\nexport default connect(mapStateToProps)(Search)\n"],"sourceRoot":""}