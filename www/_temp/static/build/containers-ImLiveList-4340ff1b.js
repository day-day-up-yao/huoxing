(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[21],{1102:function(e,t,a){"use strict";var i=a(0),l=a(27),n=a(108);t.a=function(){var e=Object(l.d)(),t=Object(l.e)(function(e){return{room:e.live.room}}).room;return Object(i.useCallback)(function(a){var i=a.eventId,l=a.eventInfo;e(Object(n.b)({liveState:t,eventId:i,eventInfo:l}))},[])}},1122:function(e,t,a){"use strict";var i=a(0),l=a.n(i),n=a(23),c=(a(1140),a(1)),m=a(1141),r=a.n(m);t.a=function(e){var t=e.itemType,a=e.roomId,i=e.status,m=e.popularity,s=e.beginTime,o=e.coverPicUrl,v=e.name,u=e.id,d=e.publishTime,f=Object(n.c)().t,p=m&&""!==m?m:0,b="".concat(p," 人次");p>1e6?b="99.9万+  人次":p>1e4&&(b="".concat((p/1e4).toFixed(1),"万 人次"));var E=Object(c.x)(s)?"MM-dd hh:mm":"yyyy-MM-dd hh:mm",g=void 0!==t&&"myvideo"===t?c.B.main("/video/detail/".concat(u,"/").concat(d)):c.B.main("/live/".concat(a));return l.a.createElement("a",{className:"im-live-list-item im-live-list-item-".concat(t),href:g,target:"_blank"},l.a.createElement("div",{className:"im-live-list-item-video"},l.a.createElement("img",{className:"im-live-list-item-video-img",src:o}),void 0!==t&&"myvideo"===t?null:l.a.createElement("div",{className:"im-live-list-item-video-state type-lt"},l.a.createElement("div",{className:"im-live-list-item-video-state-box type-".concat(i&&""!==i?i:"0")},l.a.createElement("img",{className:"im-live-list-item-video-state-box-img",src:r.a}),f(i&&1===i?"live_ing":i&&2===i?"live_playback":"live_about_start")),i&&0!==i?l.a.createElement("div",{className:"im-live-list-item-video-state-box type-pop"},b):null),"top1"===t||"top2"===t?l.a.createElement("div",{className:"im-live-list-item-list-top-state"},l.a.createElement("div",{className:"im-live-list-item-list-top-title"},v)):null),void 0===t||"myvideo"===t||"mylive"===t||"top3"===t?l.a.createElement("div",{className:"im-live-list-item-title"},v):null,void 0===t||"mylive"===t?l.a.createElement("div",{className:"im-live-list-item-time"},l.a.createElement("div",{className:"im-live-list-item-time-box"},"".concat(f("live_broadcast_time"),"：").concat(Object(c.l)(s,E)))):null,"right"===t?l.a.createElement("div",{className:"im-live-list-item-right-info"},l.a.createElement("div",{className:"im-live-list-item-right-info-title"},v),l.a.createElement("div",{className:"im-live-list-item-right-info-time"},"".concat(f("live_start_time"),"：").concat(Object(c.l)(s,E)))):null)}},1140:function(e,t,a){},1141:function(e,t,a){e.exports=a.p+"im-live-list-item-status2-5d5cebf1.png"},1164:function(e,t,a){"use strict";var i=a(49),l=a.n(i),n=a(0),c=a.n(n),m=(a(1189),a(1190)),r=a.n(m),s=a(1122);t.a=function(e){var t=e.listData,a=e.onBtnMoreClick,i=e.isHaveMore;return c.a.createElement("div",{className:"im-live-detail-left-live-recommend"},c.a.createElement("div",{className:"im-live-detail-left-live-recommend-list"},t&&t.length>0&&t.map(function(e,t){return c.a.createElement(s.a,l()({},e,{key:t}))}),t&&0===t.length&&c.a.createElement("div",{className:"no-data"},c.a.createElement("div",{className:"no-data-wrap"},c.a.createElement("img",{className:"no-data-img",src:"".concat(r.a)}),c.a.createElement("div",{className:"no-data-title"},"暂无内容")))),t&&t.length>0&&a&&i?c.a.createElement("div",{className:"im-live-detail-left-live-recommend-btn",onClick:a},"加载更多"):null)}},1167:function(e,t,a){"use strict";var i=a(0),l=a(27),n=a(108);t.a=function(){var e=Object(l.e)(function(e){return{gatherPayload:e.multi.gather}}).gatherPayload;console.log(e),Object(i.useEffect)(function(){"undefined"!=typeof window&&(window.onunload=function(){Object(n.a)(e)})},[e])}},1189:function(e,t,a){},1190:function(e,t,a){e.exports=a.p+"notfound-icon-114affdc.png"},1194:function(e,t,a){"use strict";var i=a(0),l=a.n(i);a(1195);t.a=function(e){var t=e.title,a=e.typeList,i=e.nowType,n=e.onBtnTypeClick,c=e.notLine,m=e.moreUrl;return l.a.createElement("div",{className:"im-live-list-left-live-header ".concat(c?"im-live-list-left-live-header-notLine":"")},l.a.createElement("div",{className:"im-live-list-left-live-header-left"},t&&""!==t&&l.a.createElement("div",{className:"im-live-list-left-live-header-title"},t),a&&a.length>1&&a.map(function(e){return l.a.createElement("div",{className:"im-live-list-left-live-header-type ".concat(i===e.id?"im-live-list-left-live-header-type-select":""),key:e.id,onClick:function(){return n(e.id)}},e.name)})),l.a.createElement("div",{className:"im-live-list-left-live-header-right"},void 0!==m&&""!==m&&l.a.createElement("a",{className:"im-live-list-left-live-header-more",href:m,target:"_blank"},"查看更多")))}},1195:function(e,t,a){},1511:function(e,t,a){},1512:function(e,t,a){},1513:function(e,t,a){},1514:function(e,t,a){e.exports=a.p+"ad-carousel-title-2dc60314.png"},1515:function(e,t,a){},1516:function(e,t,a){e.exports=a.p+"im-live-add-62cc0ba9.png"},302:function(e,t,a){"use strict";a.r(t);var i=a(0),l=a.n(i),n=(a(1511),a(49)),c=a.n(n),m=a(22),r=a.n(m),s=a(27),o=(a(1512),a(1)),v=a(19),u=a(1194),d=a(1122),f=a(1164),p=function(){var e=Object(s.e)(function(e){return{roomLiveTypeList:e.live.roomLiveTypeList,roomLiveRecommendList:e.live.roomLiveRecommendList.inforList,roomLiveTypeListObjData:e.live.roomLiveTypeListObjData,roomLivePopularityList:e.live.popularityList}},s.c),t=e.roomLiveTypeList,a=e.roomLiveTypeListObjData,n=e.roomLiveRecommendList,m=e.roomLivePopularityList,p=Object(s.d)(),b=Object(i.useState)(9999),E=r()(b,2),g=E[0],h=E[1],y=Object(i.useState)(a[9999].inforList),N=r()(y,2),O=N[0],j=N[1],L=Object(i.useState)(n),I=r()(L,2),k=I[0],_=I[1],w=Object(i.useState)(!1),C=r()(w,2),x=C[0],T=C[1],D=Object(i.useState)(0),A=r()(D,2),B=A[0],S=A[1],M=Object(i.useRef)();Object(i.useEffect)(function(){_(n)},[t,n,a]),Object(i.useEffect)(function(){if(0===B){var e=[];n.map(function(t){e.push(t.roomId)}),O.map(function(t){e.push(t.roomId)}),p(Object(v.i)({roomIDs:e.join(",")})).then(function(){S(1)})}},[p.live,O,n,B]),Object(i.useEffect)(function(){if(!M.current&&0!==B)return M.current=setInterval(function(){p(Object(v.i)())},5e3),function(){clearInterval(M.current)}},[p.live,O,n,B]),Object(i.useEffect)(function(){for(var e=O,t=0;t<e.length;t++)for(var a=0;a<m.length;a++)if(e[t].roomId===m[a].roomId){e[t].popularity=m[a].popularity;break}j(e);for(var i=n,l=0;l<i.length;l++)for(var c=0;c<m.length;c++)if(i[l].roomId===m[c].roomId){i[l].popularity=m[c].popularity;break}_(i)},[m]),Object(i.useEffect)(function(){if(a&&a[g]){j(a[g].inforList);var e=parseInt(a[g].currentPage)+1;a[g].pageCount>=e?T(!0):T(!1)}},[a,g]);var P=Object(i.useCallback)(function(e){h(e)},[]),H=Object(i.useCallback)(function(){var e=parseInt(a[g].currentPage)+1;a[g].pageCount>=e&&p(Object(v.f)({liveType:g,pageSize:32,page:e}))},[g,a]);return l.a.createElement("div",{className:"im-live-list-left-live-list"},l.a.createElement("div",{className:"im-live-list-left-live-list-new-box",style:{display:"none"}},l.a.createElement("div",{className:"im-live-list-left-live-list-new-box-left"},"精选直播"),l.a.createElement("div",{className:"im-live-list-left-live-list-new-box-list"},k&&Object(o.n)(k)&&k.map(function(e,t){return t<4?l.a.createElement("div",{className:"im-live-list-left-live-list-new-box-item",key:t},l.a.createElement(d.a,c()({},e,{itemType:"top3"}))):null})),l.a.createElement("a",{className:"im-live-list-left-live-list-new-box-right",href:o.B.main("/live/recommend"),target:"_blank"},"查看更多")),l.a.createElement(u.a,{title:"",typeList:t,nowType:g,onBtnTypeClick:P}),l.a.createElement(f.a,{listData:O,onBtnMoreClick:H,isHaveMore:x}))},b=a(1784),E=a(1781),g=(a(1513),a(1514)),h=a.n(g),y=function(){var e=Object(s.e)(function(e){return{liveListImgData:e.home.liveListImgData}},s.c).liveListImgData;return l.a.createElement("div",{className:"im-live-list-left-live-ad",style:{display:e.length>0?"block":"none"}},l.a.createElement(b.a,{className:"im-live-list-left-live-ad-primary",preventClicks:!1,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination.left-ad-carousel-recommend-pag",type:"bullets",clickable:!0,bulletClass:"left-ad-carousel-recommend-pag-customs",bulletActiveClass:"left-ad-carousel-recommend-pag-customs-active"}},e&&e.map(function(e,t){return l.a.createElement(E.a,{className:"comment-news",key:t},l.a.createElement("a",{title:e.title,target:"_blank",href:e.url},l.a.createElement("div",{className:"img-div"},l.a.createElement("img",{className:"news-img",alt:e.title,src:e.pcImgSrc})),l.a.createElement("span",{className:"mode"}),l.a.createElement("div",{className:"title"},e.title),1===e.useType?l.a.createElement("div",{className:"ad-title"},l.a.createElement("img",{src:h.a})):null))}),l.a.createElement("div",{className:"swiper-pagination left-ad-carousel-recommend-pag"})))},N=(a(1515),a(16)),O=a(66),j=a(1516),L=a.n(j),I=function(){var e=Object(s.e)(function(e){return{userInfo:e.login.userInfo.info}},s.c).userInfo,t=Object(s.d)(),a=Object(i.useCallback)(function(){e.passportId?e.realAuth&&1===parseInt(e.realAuth)||e.faceAuth&&1===parseInt(e.faceAuth)?t(Object(v.f)({passportId:e.passportId,adminCreateFlag:0,main:!0})).then(function(e){if(1===e.code){for(var t=e.obj.inforList,a=-1,i=0;i<t.length;i++){var l=t[i];if(2!==l.status){a=l.roomId;break}}window.location.href=-1===a?o.B.main("/live/start"):o.B.main("/live/control/".concat(a))}}).catch(function(e){throw e}):t(Object(O.c)(!0)):t(Object(N.i)("account",!0))},[e]);return l.a.createElement("div",{className:"home-right-ad-live",onClick:function(){a()}},l.a.createElement("img",{className:"home-right-ad-live-img",src:L.a}))},k=a(1430),_=a(1111),w=a(1406),C=a(1102),x=a(1167),T=a(1783),D=a(1160),A=a(1161),B=a(1162);T.a.use([D.a,A.a,B.a]);t.default=function(){Object(x.a)();var e=Object(C.a)();return Object(i.useEffect)(function(){e({eventId:"live_home_enter"})},[]),l.a.createElement("div",{className:"im-live-list-page"},l.a.createElement("div",{className:"im-live-list-page-main-box"},l.a.createElement("div",{className:"im-live-list-page-main-box-left"},l.a.createElement(y,null),l.a.createElement(p,null)),l.a.createElement("div",{className:"im-live-list-page-main-box-right"},l.a.createElement(I,null),l.a.createElement(w.a,{onlyOne:"flash"}),l.a.createElement(_.a,{isLive:!0}))),l.a.createElement(k.a,null))}}}]);
//# sourceMappingURL=containers-ImLiveList-4340ff1b.js.map