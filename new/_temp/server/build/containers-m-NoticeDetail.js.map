{"version":3,"sources":["webpack:///./_multiappsharing/public/hooks/useAppDownload.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/index.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/images/wechat-download-tips.png","webpack:///./_multiappsharing/components-m/DownloadBtn/index.js","webpack:///./_multiappsharing/components-m/DownloadBtn/images/cellphone-icon.png","webpack:///./assets/containers-m/NoticeDetail/img/m-header-logo-blue.svg","webpack:///./assets/containers-m/NoticeDetail/index.js"],"names":["checkOpen","callback","_clickTime","Date","_count","intHandle","setInterval","elsTime","clearInterval","document","hidden","webkitHidden","console","log","iosUrl","andUrl","useRef","openApp","useCallback","url","doNotDownload","location","href","isIos","isAndroid","current","appDownload","type","id","obj","openInBrowser","isWechat","useEffect","getAndroidDownloadUrl","then","res","code","Toast","info","msg","err","props","setOpenInBrowser","tipsImg","useState","iphonex","setIphonex","useAppDownload","clickDownload","isIphoneX","phoneIcon","NoticeDetail","noticeObj","contObj","currentExchangeNotice","display","mixUrl","m","logo","title","exchangeIconUrl","exchangeSymbol","flashTime","publishTime","typeName","__html","content","orignUrl","match","params","noticeId","Component","mapStateToProps","state","noticeDetail","connect"],"mappings":";;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD,EAAc;AAC5B,MAAIC,UAAU,GAAG,CAAE,IAAIC,IAAJ,EAAnB,CAD4B,CAE5B;;;AACA,MAAIC,MAAM,GAAG,CAAb;AACA,MAAIC,SAAJ;AACAA,WAAS,GAAGC,WAAW,CAAC,YAAM;AAC1BF,UAAM;AACN,QAAIG,OAAO,GAAG,CAAE,IAAIJ,IAAJ,EAAF,GAAgBD,UAA9B;;AACA,QAAIE,MAAM,IAAI,GAAV,IAAiBG,OAAO,GAAG,IAA/B,EAAqC;AACjCC,mBAAa,CAACH,SAAD,CAAb;;AACA,UAAIE,OAAO,GAAG,IAAV,IAAkBE,QAAQ,CAACC,MAA3B,IAAqCD,QAAQ,CAACE,YAAlD,EAAgE;AAC5DC,eAAO,CAACC,GAAR,CAAY,SAAZ;AACH,OAFD,MAEO;AACHZ,gBAAQ;AACX;AACJ;AACJ,GAXsB,EAWpB,EAXoB,CAAvB;AAYH,CAjBD;AAmBA;;;;;;;;;;;;AAUe,qEAAM;AACjB,MAAMa,MAAM,GAAG,mDAAf;AACA,MAAMC,MAAM,GAAGC,oDAAM,CAAC,EAAD,CAArB;AAEA,MAAMC,OAAO,GAAGC,yDAAW,CAAC,UAACC,GAAD,EAAMC,aAAN,EAAwB;AAChDC,YAAQ,CAACC,IAAT,GAAgBH,GAAhB;AACAnB,aAAS,CAAC,YAAM;AACZ,UAAIuB,6DAAK,MAAM,CAACH,aAAhB,EAA+BC,QAAQ,CAACC,IAAT,GAAgBR,MAAhB;AAC/B,UAAIU,iEAAS,MAAM,CAACJ,aAApB,EAAmCC,QAAQ,CAACC,IAAT,GAAgBP,MAAM,CAACU,OAAvB;AACtC,KAHQ,CAAT;AAIH,GAN0B,EAMxB,CAACV,MAAD,CANwB,CAA3B;AAQA,MAAMW,WAAW,GAAGR,yDAAW,CAAC,UAACS,IAAD,EAAOC,EAAP,EAAWC,GAAX,EAAmB;AAC/C,QAAMT,aAAa,GAAGS,GAAG,GAAGA,GAAG,CAACT,aAAP,GAAuB,KAAhD;AACA,QAAIU,aAAa,GAAG,KAApB;;AACA,QAAIC,gEAAQ,MAAMR,6DAAK,EAAvB,EAA2B;AACvB;AACAF,cAAQ,CAACC,IAAT,GAAgBR,MAAhB;AACH,KAHD,MAGO,IAAIiB,gEAAQ,MAAMP,iEAAS,EAA3B,EAA+B;AAClC;AACAM,mBAAa,GAAG,IAAhB;AACH,KAHM,MAGA;AACH,cAAQH,IAAR;AACI,aAAK,WAAL;AACIV,iBAAO,oCAA6BW,EAA7B,GAAmCR,aAAnC,CAAP;AACA;;AACJ,aAAK,YAAL;AACIH,iBAAO,+BAAwBW,EAAxB,GAA8BR,aAA9B,CAAP;AACA;;AACJ,aAAK,UAAL;AACIH,iBAAO,kCAA2BW,EAA3B,GAAiCR,aAAjC,CAAP;AACA;;AACJ,aAAK,aAAL;AACIH,iBAAO,+BAAwBW,EAAxB,GAA8BR,aAA9B,CAAP;AACA;;AACJ,aAAK,WAAL;AACIH,iBAAO,6BAA6BG,aAA7B,CAAP;AACA;;AACJ,aAAK,aAAL;AACIH,iBAAO,gCAAyBW,EAAzB,GAA+BR,aAA/B,CAAP;AACA;;AACJ,aAAK,WAAL;AACIH,iBAAO,8BAA8BG,aAA9B,CAAP;AACA;;AACJ,aAAK,cAAL;AACIH,iBAAO,uCAAgCW,EAAhC,GAAsCR,aAAtC,CAAP;AACA;;AACJ,aAAK,cAAL;AACIH,iBAAO,uCAAgCW,EAAhC,GAAsCR,aAAtC,CAAP;AACA;;AACJ;AACIH,iBAAO,4BAA4BG,aAA5B,CAAP;AA7BR;AA+BH;;AAED,WAAOU,aAAP;AACH,GA5C8B,EA4C5B,CAACf,MAAD,CA5C4B,CAA/B;AA8CAiB,yDAAS,CAAC,YAAM;AACZC,+FAAqB,GAAGC,IAAxB,CAA6B,UAAUC,GAAV,EAAe;AACxC,UAAIA,GAAG,CAACC,IAAJ,KAAa,CAAjB,EAAoB;AAChBrB,cAAM,CAACU,OAAP,GAAiBU,GAAG,CAACN,GAArB;AACH,OAFD,MAEO;AACHQ,yEAAK,CAACC,IAAN,CAAWH,GAAG,CAACI,GAAf;AACH;AACJ,KAND,WAMS,UAAUC,GAAV,EAAe;AACpB,YAAMA,GAAN;AACH,KARD;AASH,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAOd,WAAP;AACH,CAvED,E;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEe,mEAACe,KAAD,EAAW;AACtB,SAAOA,KAAK,CAACX,aAAN,IAAuB;AAC1B,aAAS,EAAC,0BADgB;AAE1B,WAAO,EAAE;AAAA,aAAMW,KAAK,CAACC,gBAAN,CAAuB,KAAvB,CAAN;AAAA;AAFiB,KAG1B;AAAK,aAAS,EAAC;AAAf,KACI;AAAK,OAAG,EAAEC,uEAAV;AAAmB,OAAG,EAAC;AAAvB,IADJ,CAH0B,CAA9B;AAOH,CARD,E;;;;;;;ACJA,iBAAiB,qBAAuB,uC;;;;;;;;;;;;;;;;;;;;ACAxC;AACA;AAEA;AACA;AACA;AACA;AAEe,mEAACF,KAAD,EAAW;AAAA,kBACQG,sDAAQ,CAAC,KAAD,CADhB;AAAA;AAAA,MACfC,OADe;AAAA,MACNC,UADM;;AAAA,mBAEoBF,sDAAQ,CAAC,KAAD,CAF5B;AAAA;AAAA,MAEfd,aAFe;AAAA,MAEAY,gBAFA;;AAGtB,MAAMhB,WAAW,GAAGqB,oFAAc,EAAlC;AACA,MAAMC,aAAa,GAAG9B,yDAAW,CAAC,YAAM;AACpCwB,oBAAgB,CAAChB,WAAW,CAACe,KAAK,CAACd,IAAP,EAAac,KAAK,CAACb,EAAnB,CAAZ,CAAhB;AACH,GAFgC,EAE9B,EAF8B,CAAjC;AAGAI,yDAAS,CAAC,YAAM;AACZiB,6IAAS,MAAMH,UAAU,CAAC,IAAD,CAAzB;AACH,GAFQ,EAEN,EAFM,CAAT;AAGA,SAAO;AAAK,aAAS,iCAA0BD,OAAO,GAAG,SAAH,GAAe,EAAhD;AAAd,KACH;AAAG,aAAS,EAAC,kBAAb;AAAgC,WAAO,EAAEG;AAAzC,KACI;AAAK,OAAG,EAAEE,iEAAV;AAAqB,OAAG,EAAC;AAAzB,IADJ,4BADG,EAKH,2DAAC,kFAAD;AAAsB,iBAAa,EAAEpB,aAArC;AAAoD,oBAAgB,EAAEY;AAAtE,IALG,CAAP;AAOH,CAjBD,E;;;;;;;ACRA,iBAAiB,qBAAuB,iC;;;;;;;ACAxC,iBAAiB,qBAAuB,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAxC;AACA;AACA;AACA;AACA;AACA;;IAEMS,Y;;;;;;;;;;;;;6BACQ;AAAA,UACEC,SADF,GACgB,KAAKX,KADrB,CACEW,SADF;AAEN,UAAIC,OAAO,GAAGD,SAAS,CAACE,qBAAxB;AACA,aAAO;AAAK,iBAAS,EAAC;AAAf,SACH;AAAK,iBAAS,EAAC,UAAf;AAA0B,aAAK,EAAE;AAAEC,iBAAO,EAAE;AAAX;AAAjC,SACI;AAAG,aAAK,EAAC,SAAT;AAAmB,iBAAS,EAAC,MAA7B;AAAoC,YAAI,EAAEC,sEAAM,CAACC,CAAP;AAA1C,SACI;AAAK,WAAG,EAAC,SAAT;AAAmB,WAAG,EAAEC,kEAAIA;AAA5B,QADJ,CADJ,EAII;AAAG,YAAI,EAAEF,sEAAM,CAACC,CAAP,CAAS,SAAT,CAAT;AAA8B,iBAAS,EAAC;AAAxC,QAJJ,CADG,EAOH,uEAAKJ,OAAO,CAACM,KAAb,CAPG,EAQH;AAAK,iBAAS,EAAC;AAAf,SACI;AAAK,WAAG,EAAEN,OAAO,CAACO,eAAlB;AAAmC,WAAG,EAAC,EAAvC;AAA0C,iBAAS,EAAC;AAApD,QADJ,EAEI;AAAM,iBAAS,EAAC;AAAhB,SAAwBP,OAAO,CAACQ,cAAhC,CAFJ,EAGI,sEACI;AAAM,iBAAS,EAAC;AAAhB,SAAwBC,iFAAS,CAACT,OAAO,CAACU,WAAT,CAAjC,CADJ,EAEI;AAAM,iBAAS,EAAC;AAAhB,SAAwBV,OAAO,CAACW,QAAhC,CAFJ,CAHJ,CARG,EAgBH;AAAK,iBAAS,EAAC,aAAf;AAA6B,+BAAuB,EAAE;AAAEC,gBAAM,EAAEZ,OAAO,CAACa;AAAlB;AAAtD,QAhBG,EAiBH;AAAK,iBAAS,EAAC;AAAf,2CAAgC;AAAG,YAAI,EAAEb,OAAO,CAACc;AAAjB,oCAAhC,CAjBG,EAkBH,2DAAC,4IAAD;AAAa,YAAI,EAAC,cAAlB;AAAiC,UAAE,EAAE,KAAK1B,KAAL,CAAW2B,KAAX,CAAiBC,MAAjB,CAAwBC;AAA7D,QAlBG,CAAP;AAoBH;;;;EAxBsBC,+C;;AA0B3B,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAChCrB,aAAS,EAAEqB,KAAK,CAACC,YAAN,CAAmBtB;AADE,GAAZ;AAAA,CAAxB;;AAGeuB,0HAAO,CAACH,eAAD,CAAP,CAAyBrB,YAAzB,CAAf,E","file":"containers-m-NoticeDetail.js","sourcesContent":["import { useEffect, useCallback, useRef } from 'react'\nimport { getAndroidDownloadUrl } from '../../redux/actions/public'\nimport Toast from '../../components/Toast'\nimport { isAndroid, isIos, isWechat } from '../../public'\n\nconst checkOpen = (callback) => {\n    let _clickTime = +(new Date())\n    // 启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    let _count = 0\n    let intHandle\n    intHandle = setInterval(() => {\n        _count++\n        let elsTime = +(new Date()) - _clickTime\n        if (_count >= 100 || elsTime > 3000) {\n            clearInterval(intHandle)\n            if (elsTime > 3000 || document.hidden || document.webkitHidden) {\n                console.log('正在打开app')\n            } else {\n                callback()\n            }\n        }\n    }, 20)\n}\n\n/**\n * @params type 当前页面类型 id文章视频等相对应的id\n * newsDetail新闻详情，newsList新闻列表\n * flashDetail快讯详情，flashList快讯列表\n * videoDetail视频详情，videoList视频列表\n * authorCenter作者中心\n * 不传type默认跳转到首页\n * 返回appDownload 传递以上参数\n * 并返回openInBrowser是否提示浏览器中打开\n * */\nexport default () => {\n    const iosUrl = 'https://itunes.apple.com/cn/app/id1343659925?mt=8'\n    const andUrl = useRef('')\n\n    const openApp = useCallback((url, doNotDownload) => {\n        location.href = url\n        checkOpen(() => {\n            if (isIos() && !doNotDownload) location.href = iosUrl\n            if (isAndroid() && !doNotDownload) location.href = andUrl.current\n        })\n    }, [andUrl])\n\n    const appDownload = useCallback((type, id, obj) => {\n        const doNotDownload = obj ? obj.doNotDownload : false\n        let openInBrowser = false\n        if (isWechat() && isIos()) {\n            // 打开appStore\n            location.href = iosUrl\n        } else if (isWechat() && isAndroid()) {\n            // 提示浏览器中打开\n            openInBrowser = true\n        } else {\n            switch (type) {\n                case 'liveshare':\n                    openApp(`marsbusiness://liveshare/${id}`, doNotDownload)\n                    break\n                case 'newsDetail':\n                    openApp(`marsbusiness://news/${id}`, doNotDownload)\n                    break\n                case 'newsList':\n                    openApp(`marsbusiness://newlist/${id}`, doNotDownload)\n                    break\n                case 'flashDetail':\n                    openApp(`marsbusiness://fast/${id}`, doNotDownload)\n                    break\n                case 'flashList':\n                    openApp(`marsbusiness://home/fast`, doNotDownload)\n                    break\n                case 'videoDetail':\n                    openApp(`marsbusiness://video/${id}`, doNotDownload)\n                    break\n                case 'videoList':\n                    openApp(`marsbusiness://home/video`, doNotDownload)\n                    break\n                case 'authorCenter':\n                    openApp(`marsbusiness://authorCenter/${id}`, doNotDownload)\n                    break\n                case 'noticeDetail':\n                    openApp(`marsbusiness://noticeDetail/${id}`, doNotDownload)\n                    break\n                default:\n                    openApp(`marsbusiness://home/new`, doNotDownload)\n            }\n        }\n\n        return openInBrowser\n    }, [andUrl])\n\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                andUrl.current = res.obj\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [])\n\n    return appDownload\n}\n","import React from 'react'\nimport './index.scss'\nimport tipsImg from './images/wechat-download-tips.png'\n\nexport default (props) => {\n    return props.openInBrowser && <div\n        className=\"download-app-wechat-tips\"\n        onClick={() => props.setOpenInBrowser(false)}>\n        <div className=\"download-app-img\">\n            <img src={tipsImg} alt=\"请在浏览器中打开\" />\n        </div>\n    </div>\n}\n","module.exports = __webpack_public_path__ + \"wechat-download-tips-fef770a1.png\";","import React, { useState, useCallback, useEffect } from 'react'\nimport './index.scss'\n\nimport { isIphoneX } from 'multiPublic/index'\nimport WebchatOpenInBrowser from '../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../public/hooks/useAppDownload'\nimport phoneIcon from './images/cellphone-icon.png'\n\nexport default (props) => {\n    const [iphonex, setIphonex] = useState(false)\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(props.type, props.id))\n    }, [])\n    useEffect(() => {\n        isIphoneX() && setIphonex(true)\n    }, [])\n    return <div className={`download-app-wrapper ${iphonex ? 'iphonex' : ''}`}>\n        <a className=\"download-app-btn\" onClick={clickDownload}>\n            <img src={phoneIcon} alt=\"下载MarsBit\"/>\n            下载MarsBit APP\n        </a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div >\n}\n","module.exports = __webpack_public_path__ + \"cellphone-icon-524dafc5.png\";","module.exports = __webpack_public_path__ + \"m-header-logo-blue-f47ea14f.svg\";","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './index.scss'\nimport logo from './img/m-header-logo-blue.svg'\nimport { mixUrl, flashTime } from '../../../_multiappsharing/public'\nimport DownloadBtn from 'multiCompsM/DownloadBtn'\n\nclass NoticeDetail extends Component {\n    render () {\n        const { noticeObj } = this.props\n        let contObj = noticeObj.currentExchangeNotice\n        return <div className=\"m-notice-detail\">\n            <div className=\"m-header\" style={{ display: 'none' }}>\n                <a title=\"MarsBit\" className=\"logo\" href={mixUrl.m()}>\n                    <img alt=\"MarsBit\" src={logo}/>\n                </a>\n                <a href={mixUrl.m('/search')} className=\"search\"/>\n            </div>\n            <h6>{contObj.title}</h6>\n            <div className=\"detail-logo\">\n                <img src={contObj.exchangeIconUrl} alt=\"\" className=\"cont-logo\"/>\n                <span className=\"name\">{contObj.exchangeSymbol}</span>\n                <p>\n                    <span className=\"time\">{flashTime(contObj.publishTime)}</span>\n                    <span className=\"type\">{contObj.typeName}</span>\n                </p>\n            </div>\n            <div className=\"detail-cont\" dangerouslySetInnerHTML={{ __html: contObj.content }}></div>\n            <div className=\"orign-url\">原文连接：<a href={contObj.orignUrl}>点击进入</a></div>\n            <DownloadBtn type=\"noticeDetail\" id={this.props.match.params.noticeId}/>\n        </div>\n    }\n}\nconst mapStateToProps = (state) => ({\n    noticeObj: state.noticeDetail.noticeObj\n})\nexport default connect(mapStateToProps)(NoticeDetail)\n"],"sourceRoot":""}