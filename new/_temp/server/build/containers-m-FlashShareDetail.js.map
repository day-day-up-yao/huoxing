{"version":3,"sources":["webpack:///./_multiappsharing/public/hooks/useAppDownload.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/index.js","webpack:///./_multiappsharing/components/ImgPopup/index.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/images/wechat-download-tips.png","webpack:///./assets/containers-m/FlashShareDetail/HotFlashList/index.js","webpack:///./_multiappsharing/components-m/Layout/FooterDownload/index.js","webpack:///./_multiappsharing/components-m/Layout/FooterDownload/img/m-share-logo.png","webpack:///./_multiappsharing/components-m/WxShareBox/images/m-wxShareBox-ok.png","webpack:///./_multiappsharing/components-m/WxShareBox/images/m-wxShareBox-clear.png","webpack:///./_multiappsharing/components-m/WxShareBox/index.js","webpack:///./assets/containers-m/FlashShareDetail/index.js"],"names":["checkOpen","callback","_clickTime","Date","_count","intHandle","setInterval","elsTime","clearInterval","document","hidden","webkitHidden","console","log","iosUrl","andUrl","useRef","openApp","useCallback","url","doNotDownload","location","href","isIos","isAndroid","current","appDownload","type","id","obj","openInBrowser","isWechat","useEffect","getAndroidDownloadUrl","then","res","code","Toast","info","msg","err","props","setOpenInBrowser","tipsImg","ImgPopup","src","show","close","useState","imgShow","setImgShow","height","width","imgStyle","setImgStyle","imgTemp","Image","onload","ih","iw","isPc","maxWidth","maxHeight","wh","windowOffset","ww","equipment","setEquipment","Hammer","require","$ele","getElementById","hammertime","get","set","enable","posX","posY","scale","lastScale","lastPosX","lastPosY","maxPosX","maxPosY","transform","el","on","ev","window","getComputedStyle","getPropertyValue","toString","style","webkitTransform","deltaX","deltaY","Math","ceil","clientWidth","clientHeight","max","min","display","propTypes","bool","isRequired","func","FalshList","data","dataArr","useTranslation","t","map","item","index","titleContent","flashRecognize","title","flashTime","createdTime","mixUrl","m","clear","useAppDownload","clickDownload","mLogo","list","onBtnClearClick","getElementsByClassName","iconOk","iconClear","link","FlashShareDetail","flashDetails","flashImportant","content","flashlinkid","match","params","flashId","imgSrc","setImgSrc","images","twettermeta","createElement","name","getElementsByTagName","appendChild","__html","replace","inforList","slice","mapStateToProps","state","flash","newsVideoList","news","hotNewsVideo","connect"],"mappings":"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","file":"containers-m-FlashShareDetail.js","sourcesContent":["import { useEffect, useCallback, useRef } from 'react'\nimport { getAndroidDownloadUrl } from '../../redux/actions/public'\nimport Toast from '../../components/Toast'\nimport { isAndroid, isIos, isWechat } from '../../public'\n\nconst checkOpen = (callback) => {\n    let _clickTime = +(new Date())\n    // 启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    let _count = 0\n    let intHandle\n    intHandle = setInterval(() => {\n        _count++\n        let elsTime = +(new Date()) - _clickTime\n        if (_count >= 100 || elsTime > 3000) {\n            clearInterval(intHandle)\n            if (elsTime > 3000 || document.hidden || document.webkitHidden) {\n                console.log('正在打开app')\n            } else {\n                callback()\n            }\n        }\n    }, 20)\n}\n\n/**\n * @params type 当前页面类型 id文章视频等相对应的id\n * newsDetail新闻详情，newsList新闻列表\n * flashDetail快讯详情，flashList快讯列表\n * videoDetail视频详情，videoList视频列表\n * authorCenter作者中心\n * 不传type默认跳转到首页\n * 返回appDownload 传递以上参数\n * 并返回openInBrowser是否提示浏览器中打开\n * */\nexport default () => {\n    const iosUrl = 'https://itunes.apple.com/cn/app/id1343659925?mt=8'\n    const andUrl = useRef('')\n\n    const openApp = useCallback((url, doNotDownload) => {\n        location.href = url\n        checkOpen(() => {\n            if (isIos() && !doNotDownload) location.href = iosUrl\n            if (isAndroid() && !doNotDownload) location.href = andUrl.current\n        })\n    }, [andUrl])\n\n    const appDownload = useCallback((type, id, obj) => {\n        const doNotDownload = obj ? obj.doNotDownload : false\n        let openInBrowser = false\n        if (isWechat() && isIos()) {\n            // 打开appStore\n            location.href = iosUrl\n        } else if (isWechat() && isAndroid()) {\n            // 提示浏览器中打开\n            openInBrowser = true\n        } else {\n            switch (type) {\n                case 'liveshare':\n                    openApp(`marsbusiness://liveshare/${id}`, doNotDownload)\n                    break\n                case 'newsDetail':\n                    openApp(`marsbusiness://news/${id}`, doNotDownload)\n                    break\n                case 'newsList':\n                    openApp(`marsbusiness://newlist/${id}`, doNotDownload)\n                    break\n                case 'flashDetail':\n                    openApp(`marsbusiness://fast/${id}`, doNotDownload)\n                    break\n                case 'flashList':\n                    openApp(`marsbusiness://home/fast`, doNotDownload)\n                    break\n                case 'videoDetail':\n                    openApp(`marsbusiness://video/${id}`, doNotDownload)\n                    break\n                case 'videoList':\n                    openApp(`marsbusiness://home/video`, doNotDownload)\n                    break\n                case 'authorCenter':\n                    openApp(`marsbusiness://authorCenter/${id}`, doNotDownload)\n                    break\n                case 'noticeDetail':\n                    openApp(`marsbusiness://noticeDetail/${id}`, doNotDownload)\n                    break\n                default:\n                    openApp(`marsbusiness://home/new`, doNotDownload)\n            }\n        }\n\n        return openInBrowser\n    }, [andUrl])\n\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                andUrl.current = res.obj\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [])\n\n    return appDownload\n}\n","import React from 'react'\nimport './index.scss'\nimport tipsImg from './images/wechat-download-tips.png'\n\nexport default (props) => {\n    return props.openInBrowser && <div\n        className=\"download-app-wechat-tips\"\n        onClick={() => props.setOpenInBrowser(false)}>\n        <div className=\"download-app-img\">\n            <img src={tipsImg} alt=\"请在浏览器中打开\" />\n        </div>\n    </div>\n}\n","import React, { useState, useEffect } from 'react'\nimport { bool, func } from 'prop-types'\nimport { isPc, windowOffset } from '../../public/index'\n\nimport './index.scss'\n\nconst ImgPopup = (props) => {\n    const { src, show, close } = props\n\n    const [imgShow, setImgShow] = useState(false)\n    const [imgStyle, setImgStyle] = useState({\n        height: 'auto',\n        width: '100%'\n    })\n\n    useEffect(() => {\n        if (!src) return\n        const imgTemp = new Image()\n        imgTemp.src = src\n        imgTemp.onload = function () {\n            const ih = imgTemp.height\n            const iw = imgTemp.width\n            if (isPc()) {\n                if (iw >= ih && ((iw >= 1000 && ih * 1000 / iw <= 600) || (iw < 1000 && ih <= 600))) {\n                    setImgStyle({\n                        height: 'auto',\n                        maxWidth: '1000px'\n                    })\n                } else {\n                    setImgStyle({\n                        maxHeight: '600px',\n                        width: 'auto'\n                    })\n                }\n            } else {\n                const wh = windowOffset().height * 0.8\n                const ww = windowOffset().width\n                if ((iw >= ww && ih * ww / iw <= wh) || (iw < ww && ih <= wh)) {\n                    setImgStyle({\n                        height: 'auto',\n                        width: '100%'\n                    })\n                } else {\n                    setImgStyle({\n                        height: wh,\n                        width: 'auto'\n                    })\n                }\n            }\n\n            setImgShow(true)\n        }\n    }, [src])\n\n    const [equipment, setEquipment] = useState('pc')\n    useEffect(() => {\n        if (isPc()) return\n        setEquipment('mobile')\n        const Hammer = require('hammerjs')\n\n        const $ele = document.getElementById('imgPopContent')\n        const hammertime = new Hammer($ele, {})\n        hammertime.get('pinch').set({\n            enable: true\n        })\n        let posX = 0\n        let posY = 0\n        let scale = 1\n        let lastScale = 1\n        let lastPosX = 0\n        let lastPosY = 0\n        let maxPosX = 0\n        let maxPosY = 0\n        let transform = ''\n        const el = $ele\n\n        hammertime.on('doubletap pan pinch panend pinchend', function (ev) {\n            if (ev.type === 'doubletap') {\n                transform = 'translate3d(0, 0, 0) scale3d(2, 2, 1)'\n                scale = 2\n                lastScale = 2\n                try {\n                    if (window.getComputedStyle(el, null).getPropertyValue('-webkit-transform').toString() !== 'matrix(1, 0, 0, 1, 0, 0)') {\n                        transform = 'translate3d(0, 0, 0) scale3d(1, 1, 1)'\n                        scale = 1\n                        lastScale = 1\n                    }\n                } catch (err) {\n                    console.log(err)\n                }\n                el.style.webkitTransform = transform\n                transform = ''\n            }\n\n            // pan\n            if (scale !== 1) {\n                posX = lastPosX + ev.deltaX\n                posY = lastPosY + ev.deltaY\n                maxPosX = Math.ceil((scale - 1) * el.clientWidth / 2)\n                maxPosY = Math.ceil((scale - 1) * el.clientHeight / 2)\n                if (posX > maxPosX) posX = maxPosX\n                if (posX < -maxPosX) posX = -maxPosX\n                if (posY > maxPosY) posY = maxPosY\n                if (posY < -maxPosY) posY = -maxPosY\n            }\n\n            // pinch\n            if (ev.type === 'pinch') scale = Math.max(0.999, Math.min(lastScale * (ev.scale), 4))\n            if (ev.type === 'pinchend') lastScale = scale\n\n            // panend\n            if (ev.type === 'panend') {\n                lastPosX = posX < maxPosX ? posX : maxPosX\n                lastPosY = posY < maxPosY ? posY : maxPosY\n            }\n\n            if (scale !== 1) transform = 'translate3d(' + posX + 'px,' + posY + 'px, 0) ' + 'scale3d(' + scale + ', ' + scale + ', 1)'\n            if (transform) el.style.webkitTransform = transform\n        })\n    }, [])\n\n    return <div className={`img-popup-wrapper ${equipment}`} style={{ display: show && imgShow ? 'flex' : 'none' }}>\n        <div className=\"img-position\" onClick={close}>\n            <div\n                id=\"imgPopContent\"\n                className={`img-content ${equipment === 'pc' ? 'beautify-scroll' : ''}`}>\n                {src && <img src={src} style={{ ...imgStyle }} alt=\"img-viewer\"/>}\n            </div>\n            <a className=\"close-icon\" onClick={close}/>\n        </div>\n        <div className=\"img-popup-mask\" onClick={close}/>\n    </div>\n}\n\nImgPopup.propTypes = {\n    show: bool.isRequired,\n    close: func.isRequired\n}\n\nexport default ImgPopup\n","module.exports = __webpack_public_path__ + \"wechat-download-tips-fef770a1.png\";","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { flashRecognize, flashTime, mixUrl } from 'multiPublic/index'\nimport './index.scss'\n\n// const formatDate = (time) => {\n//     const newDate = new Date(time)\n//     const day = newDate.getDay()\n//     const year = newDate.getFullYear()\n//     const mouth = newDate.getMonth() + 1\n//     const date = newDate.getDate()\n//     const dayArr = ['日', '一', '二', '三', '四', '五', '六']\n//     return {\n//         month: `${mouth < 10 ? '0' + mouth : mouth}/${year}`,\n//         week: `星期${dayArr[day]}`,\n//         day: date\n//     }\n// }\nconst FalshList = (props) => {\n    // const flashToday = formatDate((props.data && props.data.length !== 0) ? props.data[0].createdTime : Date.parse(new Date()))\n    const [dataArr] = useState(props.data)\n    const { t } = useTranslation()\n    // const onShow = useCallback((nIndex) => {\n    //     let newsArr = []\n    //     props.data.map((item, index) => {\n    //         if (nIndex === index) {\n    //             let obj = { 'show': true, ...item }\n    //             newsArr.push(obj)\n    //         } else {\n    //             newsArr.push(item)\n    //         }\n    //     })\n    //     setDataArr(newsArr)\n    // }, [])\n    return <div className=\"flash-content-bg news-fash\">\n        <div className=\"title-section clearfix\">\n            {/* <p className=\"date-day\">{flashToday.day}</p>\n            <p className=\"date-month\">\n                <span className=\"week\">{flashToday.week}</span>\n                <span className=\"month\">{flashToday.month}</span>\n            </p> */}\n            <p className=\"title\">7x24 {t('headernavtwo')}</p>\n        </div>\n        <div className=\"lives-box\">\n            {\n                dataArr.map((item, index) => {\n                    const titleContent = flashRecognize(item)\n                    const title = titleContent.title\n                    // const content = titleContent.content\n                    return <div className=\"new-fash-list\" key={item.id} data-date=\"1576830749000\">\n                        <div className=\"time-flash\">\n                            <i className=\"iconfont iconfont-circle new-mark\"></i>\n                            {flashTime(item.createdTime, 'MM-dd hh:mm')}\n                        </div>\n                        <div className=\"text-flash clearfix\">\n                            <div data-id={item.id} className=\"text-box\">\n                                <a className=\"text-title \" href={mixUrl.m(`/flashshare/${item.id}.html`)} title={title}>{title}</a>\n                                {/* <p className={`text-msg ${item.show === true ? '' : 'maxH'}`}>{content}</p> */}\n                                {/* <p className=\"open-msg\" style={{ display: `${item.show === true ? 'none' : 'block'}` }} onClick={() => { onShow(index) }}>展开 <span></span></p> */}\n                            </div>\n                        </div>\n                        <div style={{ clear: 'both' }}></div>\n                    </div>\n                })\n            }\n        </div>\n    </div>\n}\nexport default FalshList\n","import React, { useState, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\nimport mLogo from './img/m-share-logo.png'\nimport WebchatOpenInBrowser from '../../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../../public/hooks/useAppDownload'\nexport default function (props) {\n    const { t } = useTranslation()\n    const { type, id } = props\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(type, id))\n    }, [])\n    return <div className=\"share-download-bottom active\" id=\"share-download-bottom\">\n        <div className=\"bottom-left\">\n            <img src={mLogo} />\n            <h4>MarsBit</h4>\n            <p>{t('all_world_dynamic')}</p>\n        </div>\n        <a className=\"b-down\" onClick={clickDownload}>{t('share_open')} APP</a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div>\n}\n","module.exports = __webpack_public_path__ + \"m-share-logo-3e28eff7.png\";","module.exports = __webpack_public_path__ + \"m-wxShareBox-ok-114f2d64.png\";","module.exports = __webpack_public_path__ + \"m-wxShareBox-clear-6772f844.png\";","import React, { useState, useCallback } from 'react'\nimport './index.scss'\nimport { mixUrl, flashRecognize } from '../../public'\nimport useAppDownload from '../../public/hooks/useAppDownload'\nimport WebchatOpenInBrowser from '../WebchatOpenInBrowser'\nimport iconOk from './images/m-wxShareBox-ok.png'\nimport iconClear from './images/m-wxShareBox-clear.png'\n\nexport default (props) => {\n    const { list, type, id } = props\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    // 点击关闭按钮事件\n    const onBtnClearClick = useCallback(() => {\n        document.getElementsByClassName('m-wx-share-box')[0].style.display = 'none'\n    }, [])\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(type, id))\n    }, [])\n\n    return <div className=\"m-wx-share-box\">\n        <div className=\"m-wx-share-box-bg\"></div>\n        <div className=\"m-wx-share-box-content\">\n            <div className=\"m-wx-share-box-content-title\">\n                <img className=\"m-wx-share-box-content-ok\" src={iconOk}/>\n                分享成功\n                <img className=\"m-wx-share-box-content-clear\" onClick={onBtnClearClick} src={iconClear}/>\n            </div>\n            <div className=\"m-wx-share-box-content-title2\">{type === 'flashList' ? '精选快讯' : '今日热点'}</div>\n            <div className=\"m-wx-share-box-content-line\"></div>\n            {list && list.map((item, index) => {\n                const link = type === 'flashList' ? mixUrl.m(`/flashshare/${item.id}.html`) : mixUrl.m(`/newsdetailShare/${item.id}.html`)\n                const title = type === 'flashList' ? flashRecognize(item).title : item.title\n                return <div className=\"m-wx-share-box-item\" key={index}>\n                    <a className=\"m-wx-share-box-content-text right-text\" title={title} href={link} target=\"_blank\">\n                        {title}\n                    </a>\n                    <div className=\"m-wx-share-box-content-line\"></div>\n                </div>\n            })}\n            <div className=\"m-wx-share-box-btn\" onClick={clickDownload}>查看更多热门内容</div>\n        </div>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div>\n}\n","import React, { useEffect, useCallback, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\nimport './index.scss'\n// import HotNewsList from './HotNewsList'\nimport HotFlashList from './HotFlashList'\nimport { flashRecognize, flashTime, isWechat } from 'multiPublic/index'\nimport FooterDownload from 'multiCompsM/Layout/FooterDownload'\n// import DownloadBtn from 'multiCompsM/DownloadBtn'\nimport WebchatOpenInBrowser from 'multiCompsM/WebchatOpenInBrowser'\nimport WxShareBox from 'multiCompsM/WxShareBox'\nimport useAppDownload from 'multiPublic/hooks/useAppDownload'\nimport ImgPopup from 'multiComps/ImgPopup'\n// import bad from './img/bad.svg'\n// import rate from './img/rate.svg'\n\nconst FlashShareDetail = (props) => {\n    // newsVideoList 24H热门新闻\n    const { t } = useTranslation()\n    const { flashDetails, flashImportant } = props\n    const titleContent = flashRecognize(flashDetails)\n    const title = titleContent.title\n    const content = titleContent.content\n\n    const flashlinkid = props.match.params.flashId\n\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const [imgSrc, setImgSrc] = useState('')\n    const [imgShow, setImgShow] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload('flashDetail', flashlinkid))\n    }, [])\n    useEffect(() => {\n        if (!isWechat()) {\n            setOpenInBrowser(appDownload('flashDetail', flashlinkid, { doNotDownload: true }))\n        }\n    }, [])\n    // scrollOffset, windowOffset, windowScroll, elementOffset,\n    // useEffect(() => {\n    //     const $share = document.getElementById('share-download-bottom')\n\n    //     console.log(elementOffset($share).height) // 元素的高度  66\n    //     console.log(windowOffset().height) // 窗口的高度 6737\n\n    //     windowScroll(function (res) {\n    //         // scrollOffset().top 是滚动条移动的距离\n    //         // if (scrollOffset().top + windowOffset().height < elementOffset($tags).top + 66) {\n    //         if (scrollOffset().top > elementOffset($share).height) {\n    //             $share.style.position = 'fixed'\n    //             if (res === 'up') {\n    //                 $share.className = 'share-download-bottom active'\n    //             } else if (res === 'down') {\n    //                 $share.className = 'share-download-bottom'\n    //             }\n    //         }\n    //     })\n    // }, [])\n    // let rateBar = parseInt(flashDetails.upCounts) / (parseInt(flashDetails.upCounts) + parseInt(flashDetails.downCounts)) * 100\n    // let badBar = parseInt(flashDetails.downCounts) / (parseInt(flashDetails.upCounts) + parseInt(flashDetails.downCounts)) * 100\n    useEffect(() => {\n        if (flashDetails.images) {\n            const twettermeta = document.createElement('meta')\n            twettermeta.name = 'twitter:image'\n            twettermeta.content = flashDetails.images\n            document.getElementsByTagName('head')[0].appendChild(twettermeta)\n        } else {\n            const twettermeta = document.createElement('meta')\n            twettermeta.name = 'twitter:image'\n            twettermeta.content = 'http://www.marsbit.co/resource/images/huoxing24.png'\n            document.getElementsByTagName('head')[0].appendChild(twettermeta)\n        }\n    }, [])\n    return <div className=\"m-flash-share-detail\">\n        <div className=\"detail-cont\">\n            <h6>{title}</h6>\n            <div className=\"cont-time\"><p>MarsBit{t('headernavtwo')}</p><span>{flashTime(flashDetails.createdTime, 'yyyy-MM-dd hh:mm')}</span></div>\n            <div className=\"detail-cont\">\n                <div className=\"content-words\" dangerouslySetInnerHTML={{ __html: content.replace(/\\n/g, '</br>') }} />\n                <a href={flashDetails.url} className=\"original\" style={{ display: `${!flashDetails.url ? 'none' : 'inline-block'}` }}>查看原文 ></a>\n                {flashDetails.images && <img onClick={() => {\n                    setImgShow(!imgShow)\n                    setImgSrc(flashDetails.images)\n                }} src={flashDetails.images}/>}\n                <ImgPopup close={() => setImgShow(!imgShow)} show={imgShow} src={imgSrc}/>\n            </div>\n            {/* <div className=\"well-bad-cont\">\n                <div className=\"well-bad rate\">\n                    <span><img src={rate}/>利好 {flashDetails.upCounts}</span>\n                </div>\n                <div className=\"well-bad bad\">\n                    <span>{flashDetails.downCounts} 利空<img src={bad}/></span>\n                </div>\n                <div className=\"progress-bar\">\n                    <p className=\"rate-bar\" style={{ width: `${rateBar.toFixed(1)}%` }}></p>\n                    <p className=\"bad-bar\" style={{ width: `${badBar.toFixed(1)}%` }}></p>\n                    <div className=\"line-cont\" style={{ left: `${rateBar.toFixed(1) - 3}%` }}>\n                        <div className=\"line\"></div>\n                    </div>\n                </div>\n            </div> */}\n        </div>\n        <div className=\"live-hint\">{t('disclaimer_in')}</div>\n        {/* <HotNewsList data={newsVideoList} title='24H热门新闻' /> */}\n        <HotFlashList data={flashImportant.inforList} title={t('hand_pick_flash')} />\n        <a className=\"more-btn\" onClick={clickDownload}>{t('see_more_info_download')}</a>\n        <FooterDownload type=\"flashDetail\" id={flashlinkid}/>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n        {/* <DownloadBtn/> */}\n        <WxShareBox list={flashImportant.inforList.slice(0, 3)} type=\"flashList\" id={flashlinkid} />\n    </div>\n}\nconst mapStateToProps = (state) => ({\n    flashDetails: state.flash.flashDetails,\n    flashImportant: state.flash.flashImportant,\n    newsVideoList: state.news.hotNewsVideo\n})\nexport default connect(mapStateToProps)(FlashShareDetail)\n"],"sourceRoot":""}