{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"@babel/runtime/helpers/objectSpread\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@babel/runtime/helpers/asyncToGenerator\"","webpack:///./config/config.js","webpack:///external \"redux\"","webpack:///external \"js-cookie\"","webpack:///external \"path\"","webpack:///external \"@babel/runtime/helpers/typeof\"","webpack:///external \"react\"","webpack:///external \"express\"","webpack:///external \"express-promise-router\"","webpack:///./config/config-server.js","webpack:///external \"util\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"express-winston\"","webpack:///external \"react-router-dom\"","webpack:///external \"debug\"","webpack:///external \"fs\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"@loadable/server\"","webpack:///external \"react-i18next\"","webpack:///external \"request\"","webpack:///external \"i18next\"","webpack:///external \"i18next-express-middleware\"","webpack:///external \"http\"","webpack:///external \"http-errors\"","webpack:///external \"cookie-parser\"","webpack:///external \"compression\"","webpack:///external \"axios\"","webpack:///external \"js-base64\"","webpack:///external \"blueimp-md5\"","webpack:///external \"qs\"","webpack:///external \"http-proxy-middleware\"","webpack:///external \"querystring\"","webpack:///external \"https\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"react-router-config\"","webpack:///external \"redux-thunk\"","webpack:///./server/routes/imLive/TLSSigAPIv2.js","webpack:///external \"redis\"","webpack:///external \"i18next-node-fs-backend\"","webpack:///./_multiappsharing/public/i18n/zh-cn.json","webpack:///./_multiappsharing/public/i18n/zh-tw.json","webpack:///external \"os\"","webpack:///external \"winston\"","webpack:///external \"winston-daily-rotate-file\"","webpack:///external \"crypto\"","webpack:///external \"zlib\"","webpack:///external \"jssha\"","webpack:///./_multiappsharing/public/index.js","webpack:///./server/app/logger.js","webpack:///./server/app/proxy.js","webpack:///./server/render/publc.js","webpack:///./server/render/layout.js","webpack:///./server/render/layout-m.js","webpack:///./assets/redux/constants/news.js","webpack:///./assets/redux/reducers/news.js","webpack:///./assets/redux/constants/author.js","webpack:///./assets/redux/reducers/author.js","webpack:///./assets/redux/constants/flash.js","webpack:///./assets/redux/reducers/flash.js","webpack:///./assets/redux/constants/noticeDetail.js","webpack:///./assets/redux/reducers/noticeDetail.js","webpack:///./assets/redux/constants/notice.js","webpack:///./assets/redux/reducers/notice.js","webpack:///./_multiappsharing/redux/constants/comment.js","webpack:///./_multiappsharing/redux/reducers/comment.js","webpack:///./_multiappsharing/redux/constants/flash.js","webpack:///./_multiappsharing/redux/reducers/flash.js","webpack:///./_multiappsharing/redux/constants/news.js","webpack:///./_multiappsharing/redux/reducers/news.js","webpack:///./_multiappsharing/redux/constants/market.js","webpack:///./_multiappsharing/redux/reducers/market.js","webpack:///./_multiappsharing/redux/constants/login.js","webpack:///./_multiappsharing/redux/reducers/login.js","webpack:///./_multiappsharing/redux/constants/header.js","webpack:///./_multiappsharing/redux/reducers/header.js","webpack:///./_multiappsharing/redux/constants/home.js","webpack:///./_multiappsharing/redux/reducers/home.js","webpack:///./_multiappsharing/redux/constants/live.js","webpack:///./_multiappsharing/redux/reducers/live.js","webpack:///./_multiappsharing/redux/constants/public.js","webpack:///./_multiappsharing/redux/reducers/public.js","webpack:///./assets/redux/reducers/rootReducer.js","webpack:///./server/render/store.js","webpack:///./server/render/render.js","webpack:///./server/routes/index.js","webpack:///./server/routes/users.js","webpack:///./server/routes/signture/sign.js","webpack:///./server/routes/signture/client.js","webpack:///./server/routes/signture.js","webpack:///./server/routes/logger.js","webpack:///./server/routes/root.js","webpack:///./_multiappsharing/public/i18n/index.js","webpack:///./server/app/i18n.js","webpack:///./server/app/app.js","webpack:///./server/app/index.js"],"names":["ipServer","os","require","interfaces","networkInterfaces","devName","iface","i","length","alias","family","address","internal","ipClient","window","location","host","split","env","process","publicPathTest","publicPathPrd","apiHostTest","apiHostPrd","hxHostTest","hxHostPrd","apiDomain","config","ip","port","webpackPort","serverPort","Object","assign","publicPath","apiHost","hxHost","module","exports","folderAddressTest","folderAddressPrd","redisIp","redisPsd","loadableStatsOutputPath","sshServer","username","password","readyTimeout","logs","path","shell","crypto","zlib","base64url","newBuffer","fill","encoding","Buffer","from","unescape","str","Array","replace","escape","encode","toString","decode","base64encode","Api","sdkappid","key","prototype","_hmacsha256","identifier","currTime","expire","base64UserBuf","contentToBeSigned","hmac","createHmac","update","digest","_genUserbuf","account","dwAuthID","dwExpTime","dwPrivilegeMap","dwAccountType","roomstr","accountLength","roomstrlength","offset","Alloc","alloc","userBuf","charCodeAt","Date","now","genSig","userid","Math","floor","sigDoc","Number","sig","compressed","deflateSync","JSON","stringify","genUserSig","genPrivateMapKey","roomid","privilegeMap","genPrivateMapKeyWithStringRoomID","clearLoginCookies","domain","networkurl","hostname","indexOf","cookiesName","Cookies","remove","domainSuffix","req","hostServer","headers","includes","replaceDomain","data","dataTmp","isObject","domainWww","domainNew","domainMp","isJson","parse","ajaxSignature","platform","appSecret","nonceArr","timestamp","getTime","nonce","j","round","random","md5","Base64","getAPISign","removeLoading","document","getElementById","$ajaxLoading","parentNode","removeChild","axiosAjax","args","Promise","resolve","reject","type","url","params","contentType","urlSearchParams","formData","noLoading","noLog","userDefined","transformRequest","isDefi","request","language","langServer","langBrowser","get","urlLast","ajaxLoadingStr","body","insertAdjacentHTML","opt","ajaxType","toLowerCase","method","qs","lang","searchParams","URLSearchParams","append","fmData","FormData","axios","timeout","then","res","noLogTrue","isArray","val","code","resCode","resMsg","msg","Error","message","httpCode","logReport","framework","err","errMsg","urlParam","codeParam","response","status","errObj","console","log","stack","errStr","error","logArr","logPreTime","logCurTime","logAjax","logObj","localStorage","localTmp","keys","map","index","getItem","sessionStorage","paramsObj","protocol","push","hasParams","deepCompare","websocket","messageEventProxy","binaryType","https","success","close","wssUrl","ws","lockReconnect","WebSocket","MozWebSocket","heartCheck","timeoutObj","serverTimeoutObj","reset","clearTimeout","start","This","setTimeout","send","reconnect","createWebSocket","BrowserWebSocket","callback","eventProxyKey","uuid","Proxy","event","set","target","propKey","value","receiver","onopen","action","onmessage","onclose","onerror","onbeforeunload","tips","openNewWindow","blank","click","$openWin","uerserAgent","navigator","userAgent","isPc","Agents","flag","isIos","isIphoneX","test","screen","height","width","isAndroid","isWechat","isHxApp","isPsd","reg","isEmail","email","myreg","isPhone","phoneNumber","isNum","string","obj","objFormat","e","call","arr","isArrayBuffer","buffer","formatTime","date","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","RegExp","$1","getFullYear","substr","k","formatPublishTime","publishTime","requestTime","mode","hourMode","dayMode","yearMode","hour","day","year","limit","parseInt","timeFormat","isThisYear","isToday","flashTime","createdTime","serverTime","toDateString","dataURLtoBlob","dataurl","mime","match","bstr","atob","n","u8arr","Uint8Array","Blob","sortBy","filed","rev","primer","a","b","formatNum","number","abs","num","temp","exec","decimal","decimalPointIndex","integerNum","slice","result","formatPrice","priceNum","normal","price","is","NaN","toFixed","toPrecision","decimalNum","pow","formatTotal","totalNum","w","y","total","numArr","substring","cur","formatPercent","percentNum","percent","parseFloat","formatAbsolute","absoluteNum","absolute","numDivision","divisor","dividend","trim","queryParam","search","decodeURIComponent","propsInherit","props","newsProps","stringArray","arrayString","stringJsonItem","jsonString","defaultVal","initVal","scrollOffset","pageXOffset","left","top","pageYOffset","el","scrollingElement","documentElement","scrollLeft","scrollTop","windowOffset","innerHeight","innerWidth","compatMode","clientWidth","clientHeght","elementOffset","ele","getBoundingClientRect","bottom","right","mouseOffset","scrollX","scrollY","x","pageX","clientX","pageY","clientY","windowScroll","beforeScrollTop","scrollFunc","afterScrollTop","delta","addEventListener","animation","to","time","startNum","endNum","totalTime","currentVal","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","getReqCallback","lastTimestamp","residueDistance","calNum","recursionFunc","totalDistance","speed","fps","everyTimeDistance","distance","arriveAtDom","$ele","additionalParams","add","l","leftChain","rightChain","compare2Objects","p","isNaN","String","isPrototypeOf","constructor","hasOwnProperty","pop","arguments","deepMerge","objects","reduce","prev","forEach","pVal","oVal","concat","flashRecognize","item","title","content","startIndex","endIndex","arrayMaxMin","max","apply","min","toNonExponential","newNum","m","toExponential","textOverflow","text","_length","outputText","textLength","encodeSearchKey","encodeArr","$","c","r","v","uuidDiy","len","radix","chars","join","redirectUrl","href","rem","$pixelValue","cookie","expiresDays","expires","setTime","toGMTString","cookies","arrCookie","del","nodeEnv","envDev","envTest","mixUrl","en","quanter","baike","dappspy","bbs","mclouds","cococoin","trade","cq","clab","mp","hostPrd","zt","main","news","token","webTdk","keywords","description","nickName","passportId","iconUrl","realAuth","faceAuth","intro","phone","userCookieUuid","eventId","preEventId","deviceUuid","traceId","deviceId","festival","keyLight","keyword","color","bgColor","newContent","regEx","indexof","sKey","getUnit","addComma","urlToLink","re","website","fileExtension","fileUrl","singfileArray","isAutoplaySupported","autoplaySupported","video","createElement","autoplay","src","load","style","display","playing","play","onplay","oncanplay","execCommandCopy","textareaEl","setAttribute","appendChild","select","execCommand","GetLength","realLength","charCode","nagacomlist","naGacom","marsbitcoHost","isMarsbitco","powerHost","isPowersite","marsbitccHost","isMarsbitcc","marsbitinfoHost","isMarsbitinfo","marsshareHost","isMarsshare","marstelegramHost","isMarstelegram","winston","createLogger","format","transports","logDirectory","fs","existsSync","mkdirSync","transportFile","DailyRotateFile","datePattern","maxSize","maxFiles","formatPrintf","info","level","meta","originalUrl","query","responseTime","transportLevelFile","combine","printf","filename","logger","levels","warn","http","verbose","debug","silly","handleExceptions","json","maxsize","configure","Console","colorize","app","onError","writeHead","end","onProxyReq","proxyReq","getHeader","writeBody","bodyData","setHeader","byteLength","write","querystring","onProxyRes","proxyRes","use","createProxyMiddleware","changeOrigin","Referer","cookieDomainRewrite","statisticsHx24","statistics","statistGram","statistCc","myStylesScripts","initProps","myStyles","stylesheet","myScripts","javascript","clientLink","isPcStr","wxShare","isWx","initState","styles","scripts","links","errObjProps","isNagalink","isMarslibco","isMarslibcc","isMarsgram","securelinklist","pageTitle","pageDescriptionHtml","pageDescription","pageKeywords","pageIcon","shareIcon","shareTitle","statictCode","clientLinkStr","wxShareStr","errObjScript","siteicon","twettericon","twetterType","header","footer","getDay","GETNEWSDETAILS","GETRECOMMENDNEWS","GETRELATEDNEWS","GETFEATUREDETAILS","GETMOREFEATURE","GETADIMPLANT","GETNEWSLIST","GETHOTNEWSVIDEO","featureDetails","topic","id","topicName","pcBackImage","mImgSrc","mBackImage","createTime","tags","titleDisplayFlag","topicContentList","pageSize","recordCount","currentPage","pageCount","inforList","relatedNewslist","recommendNewsList","adImplant","newsDetails","current","createdBy","author","hotCounts","synopsis","tagsV2","next","coverPic","hotNewsVideo","state","encodeURIComponent","GETAUTHORNEWS","GETAUTHORVIDEO","GETAUTHORCOLLECT","GETCOLLECTAUTHOR","GETAUTHORACHIEVE","GETAUTHOR","GETAUTHORINFO","authorVideoList","authorNewsList","authorCollectList","collectAuthor","authorAchieve","authorInfo","GETFLASHCHANNEL","GETIMPORTANTFLASH","GETNEWSRANKINGS","GETFLASHDETAILS","DETAILSUPORDOWN","flashChannel","flashImportant","flashDetails","newsRankings","newDetails","GETNOTICEDETAIL","noticeObj","GETNOTICELIST","GETBOURSELIST","GETBOURSESTATISTICSLIST","bourseObj","statisticsObj","noticeDetailObj","GETNEWSCOMMENT","GETNEWSMORECOMMENT","REPLYCOMENT","DELCOMMENT","DELREPLY","initCommentList","currentTime","commentList","newCommentList","pid","replayCommentList","comment","replies","delCommentId","delCommentList","splice","replyId","commentId","delReplyCommentList","GETFLASHLIST","GETMOREFLASH","FLASHUPDOWN","initFlashList","pageNum","flashList","flshList","newFlashList","upList","upCounts","downCounts","combineReducers","GETNEWSCHANNELID","GETHOTNEWS","GETMORENEWS","GETAUTHORLIST","GETFEATURELIST","GETMOREFEATURELIST","GET24HNEWSLIST","initNewsList","newsList","newNewsList","initStateChannelId","newsChannelId","unshift","channelId","channelName","rank","updateTime","initHotNewsList","hotNewsList","initHotNews24HList","hot24HNewsList","initStateAuthor","newsCount","followCount","totalReadCounts","infolist","ifCollect","introduce","vGrade","authorList","initFeatureList","featureList","GETRISEDROPDATA","GETSEARCHMARKETDATA","initRiseDrop","riseDrop","GETUSERINFO","LOGINSTATE","RENAMESTATE","userInfo","isLogin","userState","loginType","loginShow","renameShow","HEADERCHANNELS","navData","channelsList","GETSHOWLIVESLIST","GETCALENDARLIST","GETHOOMROOMLIVERECOMMENDLIST","GETHOOMROOMLIVETYPELISTOBJDATA","GETHOOMROOMLIVELIST","HOMELIVEVERIFYPOPUPSHOW","showlivesData","calendarData","popupState","liveVerify","roomLiveRecommendList","roomLiveTypeListObjData","roomLiveList","liveList","recommendListData","GETRIGHTLIVEPOPULARITYLIST","roomLivePopularityList","ACTIONERROR","GETFRIENDLYLINKS","GETPARTNERLINKS","GETAD","GATHERPUSH","initStateFooter","partner","friendly","initStateAd","adData","adImplantData","gatherData","gather","preTraceId","reportData","trace_id","pre_trace_id","device_type","device_id","event_type","eventType","event_info","eventInfo","userId","userName","login","market","flash","home","live","noticeDetail","notice","multi","errorHandle","store","getState","createStore","rootReducer","compose","applyMiddleware","thunk","urlMatch","routesParam","isExit","hasKey","hasPath","exact","strict","matchPath","isObj","routes","devEnv","rootPath","__dirname","stasFileFolder","nodeStats","webStats","extractorParams","statsFile","entrypoints","outputPath","configServer","nodeExtractor","ChunkExtractor","requireEntrypoint","App","routesM","ErrorPage","webExtractor","quermlist","i18n","changeLanguage","mhostlist","routesParams","isnaGacom","routesLast","isMatch","serverStore","branch","matchRoutes","promises","route","getInitialProps","component","Function","isServer","apiErr","all","notGetUserInfo","undefined","errReport","jsx","html","collectChunks","renderToString","getLinkTags","getStyleTags","scriptCreate","scriptsStr","scriptsStrEnd","getScriptElements","itemIn","indexIn","getScriptTags","isnewMarsshare","isMarsbitinfolink","layoutParams","htmlTemplate","layout","layoutM","lastHtmlStr","customRes","router","Router","render","redirect","newsId","authorId","useTypeId","liveId","imSdkAppId","imSecretKey","api","TLSSigAPIv2","imgUrl","getImgP","chunks","size","on","chunk","base64Img","name","createNonceStr","createTimestamp","raw","sort","newArgs","sign","jsapiTicket","ret","jsapi_ticket","nonceStr","JsSHA","shaObj","signature","getHash","redisServerIP","redisServerPort","redisPassword","setupRedis","client","redis","createClient","auth","express","clientDB","getAsync","promisify","bind","setAsync","hmsetAsync","hmset","hgetallAsync","hgetall","appID","deadTime","tokenUrl","getAccessToken","statusCode","accessToken","access_token","getJsapiTicket","reqUrl","ticketUrl","errcode","ticket","errmsg","getAndSetAccessToken","access","dueClear","noDueVerify","ticketObj","ticketsArrStr","ticketsArr","newAccess","ticketIndex","tempArr","ticketDie","post","cookiesTmp","keyTrue","logPrint","hasLogObj","users","signture","translation","zh","tw","i18next","Backend","LanguageDetector","init","react","useSuspense","preload","resources","lng","fallbackLng","lowerCaseLng","interpolation","escapeValue","t","i18nMiddleware","handle","ignoreRoutes","removeLngFromUrl","proxy","compression","expressWinston","winstonInstance","urlencoded","extended","cookieParser","staticOptions","maxAge","setHeaders","stat","createError","requestWhitelist","errorLogger","locals","createHttp","normalizePort","syscall","exit","PORT","server","createServer","onListening","addr","listen"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA,gE;;;;;;ACAA,uD;;;;;;ACAA,oE;;;;;;ACAA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,MAAMC,EAAE,GAAGC,mBAAO,CAAC,EAAD,CAAlB;;AACA,MAAMC,UAAU,GAAGF,EAAE,CAACG,iBAAH,EAAnB;;AACA,OAAK,IAAIC,OAAT,IAAoBF,UAApB,EAAgC;AAC5B,QAAMG,KAAK,GAAGH,UAAU,CAACE,OAAD,CAAxB;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,UAAME,KAAK,GAAGH,KAAK,CAACC,CAAD,CAAnB;;AACA,UAAIE,KAAK,CAACC,MAAN,KAAiB,MAAjB,IAA2BD,KAAK,CAACE,OAAN,KAAkB,WAA7C,IAA4D,CAACF,KAAK,CAACG,QAAvE,EAAiF;AAC7E,eAAOH,KAAK,CAACE,OAAb;AACH;AACJ;AACJ;AACJ,CAZD;;AAaA,IAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,SAAOC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAP;AACH,CAFD;;AAIA,IAAMC,GAAG,GAAG,QAA8CC,YAA9C,GAAqE,SAAjF,C,CAEA;;AAEA;;AACA;;AACA;;AAEA;;;;;;AAKA,IAAMC,cAAc,GAAG,kBAAvB;AACA,IAAMC,aAAa,GAAG,oBAAtB;AACA,IAAMC,WAAW,GAAG,iBAApB;AACA,IAAMC,UAAU,GAAG,sBAAnB,C,CACA;;AACA,IAAMC,UAAU,GAAG,iBAAnB;AACA,IAAMC,SAAS,GAAG,mBAAlB;AACA;;AACA,IAAMC,SAAS,GAAG,gBAAlB;AACA,IAAIC,MAAM,GAAG;AACTC,IAAE,EAAE,YAACC,IAAD;AAAA,4BAAoB,OAAOf,MAAP,KAAkB,WAAlB,GAAgCD,QAAQ,EAAxC,GAA6Cb,QAAQ,EAAzE,cAA+E6B,IAA/E;AAAA,GADK;AAETC,aAAW,EAAE,IAFJ;AAEU;AACnBC,YAAU,EAAE,IAHH,CAGQ;AAErB;;AALa,CAAb;;AAMA,IAAIb,GAAG,KAAK,aAAZ,EAA2B;AACvBS,QAAM,GAAGK,MAAM,CAACC,MAAP,CACLN,MADK,EAEL;AACIO,cAAU,EAAEP,MAAM,CAACC,EAAP,CAAUD,MAAM,CAACG,WAAjB,CADhB;AAEI;AACAK,WAAO,oBAAaZ,UAAb,CAHX;AAIIG,aAAS,oBAAaA,SAAb,CAJb;AAKIU,UAAM,mBAAYZ,UAAZ;AALV,GAFK,CAAT;AAUH;;AAED,IAAIN,GAAG,KAAK,MAAZ,EAAoB;AAChBS,QAAM,GAAGK,MAAM,CAACC,MAAP,CACLN,MADK,EAEL;AACI;AACAO,cAAU,mBAAYd,cAAZ,CAFd;AAGIe,WAAO,oBAAaZ,UAAb,CAHX;AAIIG,aAAS,oBAAaA,SAAb,CAJb;AAKIU,UAAM,mBAAYZ,UAAZ;AALV,GAFK,CAAT;AAUH;;AAED,IAAIN,GAAG,KAAK,YAAZ,EAA0B;AACtBS,QAAM,GAAGK,MAAM,CAACC,MAAP,CACLN,MADK,EAEL;AACI;AACAO,cAAU,IAFd;AAGIC,WAAO,oBAAaZ,UAAb,CAHX;AAIIG,aAAS,oBAAaA,SAAb,CAJb;AAKIU,UAAM,oBAAaX,SAAb;AALV,GAFK,CAAT;AAUH;;AAEDY,MAAM,CAACC,OAAP,GAAiBX,MAAjB,C;;;;;;ACpFA,kC;;;;;;ACAA,sC;;;;;;ACAA,iC;;;;;;ACAA,0D;;;;;;ACAA,kC;;;;;;ACAA,oC;;;;;;ACAA,mD;;;;;;ACAA,IAAMT,GAAG,GAAGC,YAAZ;AACA,IAAMoB,iBAAiB,GAAG,kBAA1B;AACA,IAAMC,gBAAgB,GAAG,oBAAzB;AAEA;;AACA,IAAIC,OAAO,GAAG,cAAd,C,CAA6B;;AAC7B,IAAIvB,GAAG,KAAK,MAAZ,EAAoBuB,OAAO,GAAG,eAAV,C,CAA0B;;AAC9C,IAAId,MAAM,GAAG;AACTc,SAAO,EAAEA,OADA;AACS;AAClBC,UAAQ,EAAE,iBAFD;AAEoB;AAC7BC,yBAAuB,sBAAeJ,iBAAf,uBAHd;AAGoE;AAC7EK,WAAS,EAAE,CAAE;AACT;AACIjB,UAAM,EAAE;AACJX,UAAI,EAAE,cADF;AAEJa,UAAI,EAAE,EAFF;AAGJgB,cAAQ,EAAE,MAHN;AAIJC,cAAQ,EAAE,gBAJN;AAKJC,kBAAY,EAAE;AALV,KADZ;AAQIC,QAAI,EAAE,QARV;AASIC,QAAI,sBAAeV,iBAAf,sBATR;AAUI;AACAW,SAAK,EAAE,CAAC,EAAD;AAXX,GADO;AAiBf;;AArBa,CAAb;;AAsBA,IAAIhC,GAAG,KAAK,YAAZ,EAA0B;AACtBS,QAAM,GAAG;AACLc,WAAO,EAAE,+CADJ;AACqD;AAC1DC,YAAQ,EAAE,cAFL;AAGLC,2BAAuB,4BAAqBH,gBAArB,uBAHlB;AAG6E;AAClFI,aAAS,EAAE,CACP;AACIjB,YAAM,EAAE;AACJX,YAAI,EAAE,cADF;AAEJa,YAAI,EAAE,EAFF;AAGJgB,gBAAQ,EAAE,MAHN;AAIJC,gBAAQ,EAAE,gBAJN;AAKJC,oBAAY,EAAE;AALV,OADZ;AAQIC,UAAI,EAAE,QARV;AASIC,UAAI,4BAAqBT,gBAArB,sBATR;AAUI;AACAU,WAAK,EAAE,CAAC,EAAD;AAXX,KADO,EAaJ;AACCvB,YAAM,EAAE;AACJX,YAAI,EAAE,eADF;AAEJa,YAAI,EAAE,EAFF;AAGJgB,gBAAQ,EAAE,MAHN;AAIJC,gBAAQ,EAAE,gBAJN;AAKJC,oBAAY,EAAE;AALV,OADT;AAQCC,UAAI,EAAE,QARP;AASCC,UAAI,4BAAqBT,gBAArB,sBATL;AAUC;AACAU,WAAK,EAAE,CAAC,EAAD;AAXR,KAbI;AAJN,GAAT;AAgCH;;AAEDb,MAAM,CAACC,OAAP,GAAiBX,MAAjB,C;;;;;;AChEA,iC;;;;;;ACAA,qE;;;;;;ACAA,4C;;;;;;ACAA,6C;;;;;;ACAA,kC;;;;;;ACAA,+B;;;;;;ACAA,6C;;;;;;ACAA,wC;;;;;;ACAA,6C;;;;;;ACAA,0C;;;;;;ACAA,oC;;;;;;ACAA,oC;;;;;;ACAA,uD;;;;;;ACAA,iC;;;;;;ACAA,wC;;;;;;ACAA,0C;;;;;;ACAA,wC;;;;;;ACAA,kC;;;;;;ACAA,sC;;;;;;ACAA,wC;;;;;;ACAA,+B;;;;;;ACAA,kD;;;;;;ACAA,wC;;;;;;ACAA,kC;;;;;;ACAA,2D;;;;;;ACAA,gD;;;;;;ACAA,wC;;;;;;ACAA,IAAIwB,MAAM,GAAGjD,mBAAO,CAAC,EAAD,CAApB;;AACA,IAAIkD,IAAI,GAAGlD,mBAAO,CAAC,EAAD,CAAlB;;AAEA,IAAImD,SAAS,GAAG,EAAhB;;AAEA,IAAIC,SAAS,GAAG,SAAZA,SAAY,CAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AACtC,SAAOC,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBC,QAAlB,CAAtB;AACH,CAFD;;AAIAH,SAAS,CAACM,QAAV,GAAqB,SAASA,QAAT,CAAmBC,GAAnB,EAAwB;AACzC,SAAO,CAACA,GAAG,GAAGC,KAAK,CAAC,IAAID,GAAG,CAACpD,MAAJ,GAAa,CAAlB,CAAZ,EACFsD,OADE,CACM,IADN,EACY,GADZ,EAEFA,OAFE,CAEM,IAFN,EAEY,GAFZ,EAGFA,OAHE,CAGM,KAHN,EAGa,GAHb,CAAP;AAIH,CALD;;AAOAT,SAAS,CAACU,MAAV,GAAmB,SAASA,MAAT,CAAiBH,GAAjB,EAAsB;AACrC,SAAOA,GAAG,CAACE,OAAJ,CAAY,KAAZ,EAAmB,GAAnB,EACFA,OADE,CACM,KADN,EACa,GADb,EAEFA,OAFE,CAEM,IAFN,EAEY,GAFZ,CAAP;AAGH,CAJD;;AAMAT,SAAS,CAACW,MAAV,GAAmB,SAASA,MAAT,CAAiBJ,GAAjB,EAAsB;AACrC,SAAO,KAAKG,MAAL,CAAYT,SAAS,CAACM,GAAD,CAAT,CAAeK,QAAf,CAAwB,QAAxB,CAAZ,CAAP;AACH,CAFD;;AAIAZ,SAAS,CAACa,MAAV,GAAmB,SAASA,MAAT,CAAiBN,GAAjB,EAAsB;AACrC,SAAON,SAAS,CAAC,KAAKK,QAAL,CAAcC,GAAd,CAAD,EAAqB,QAArB,CAAT,CAAwCK,QAAxC,EAAP;AACH,CAFD;;AAIA,SAASE,YAAT,CAAuBP,GAAvB,EAA4B;AACxB,SAAON,SAAS,CAACM,GAAD,CAAT,CAAeK,QAAf,CAAwB,QAAxB,CAAP;AACH,C,CAED;AACA;AACA;;;AAEA,IAAIG,GAAG,GAAG,SAANA,GAAM,CAAUC,QAAV,EAAoBC,GAApB,EAAyB;AAC/B,OAAKD,QAAL,GAAgBA,QAAhB;AACA,OAAKC,GAAL,GAAWA,GAAX;AACH,CAHD;AAIA;;;;;;;;;;AAQAF,GAAG,CAACG,SAAJ,CAAcC,WAAd,GAA4B,UAAUC,UAAV,EAAsBC,QAAtB,EAAgCC,MAAhC,EAAwCC,aAAxC,EAAuD;AAC/E,MAAIC,iBAAiB,GAAG,oBAAoBJ,UAApB,GAAiC,IAAzD;AACAI,mBAAiB,IAAI,kBAAkB,KAAKR,QAAvB,GAAkC,IAAvD;AACAQ,mBAAiB,IAAI,cAAcH,QAAd,GAAyB,IAA9C;AACAG,mBAAiB,IAAI,gBAAgBF,MAAhB,GAAyB,IAA9C;;AACA,MAAIC,aAAa,IAAI,IAArB,EAA2B;AACvBC,qBAAiB,IAAI,iBAAiBD,aAAjB,GAAiC,IAAtD;AACH;;AACD,MAAME,IAAI,GAAG3B,MAAM,CAAC4B,UAAP,CAAkB,QAAlB,EAA4B,KAAKT,GAAjC,CAAb;AACA,SAAOQ,IAAI,CAACE,MAAL,CAAYH,iBAAZ,EAA+BI,MAA/B,CAAsC,QAAtC,CAAP;AACH,CAVD;AAWA;;;;;;;;;;;;;;AAYAb,GAAG,CAACG,SAAJ,CAAcW,WAAd,GAA4B,UAAUC,OAAV,EAAmBC,QAAnB,EAA6BC,SAA7B,EACxBC,cADwB,EACRC,aADQ,EACOC,OADP,EACgB;AACxC,MAAIC,aAAa,GAAGN,OAAO,CAAC3E,MAA5B;AACA,MAAIkF,aAAa,GAAG,CAApB;AACA,MAAIlF,MAAM,GAAG,IAAI,CAAJ,GAAQiF,aAAR,GAAwB,EAArC;;AACA,MAAID,OAAO,IAAI,IAAf,EAAqB;AACjBE,iBAAa,GAAGF,OAAO,CAAChF,MAAxB;AACAA,UAAM,GAAGA,MAAM,GAAG,CAAT,GAAakF,aAAtB;AACH;;AACD,MAAIC,MAAM,GAAG,CAAb;AACA,MAAMC,KAAK,GAAGnC,MAAM,CAACoC,KAArB;AACA,MAAIC,OAAO,GAAG,IAAIF,KAAJ,CAAUpF,MAAV,CAAd,CAVwC,CAYxC;;AACA,MAAIgF,OAAO,IAAI,IAAf,EAAqB;AAAEM,WAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAApB;AAAuB,GAA9C,MAAoD;AAAEG,WAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAApB;AAAuB,GAbrC,CAexC;;;AACAG,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACF,aAAa,GAAG,MAAjB,KAA4B,CAAhD;AACAK,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoBF,aAAa,GAAG,MAApC,CAjBwC,CAmBxC;;AACA,SAAOE,MAAM,GAAG,IAAIF,aAApB,EAAmC,EAAEE,MAArC,EAA6C;AACzCG,WAAO,CAACH,MAAD,CAAP,GAAkBR,OAAO,CAACY,UAAR,CAAmBJ,MAAM,GAAG,CAA5B,CAAlB;AACH,GAtBuC,CAwBxC;;;AACAG,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAAC,KAAKtB,QAAL,GAAgB,UAAjB,KAAgC,EAApD;AACAyB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAAC,KAAKtB,QAAL,GAAgB,UAAjB,KAAgC,EAApD;AACAyB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAAC,KAAKtB,QAAL,GAAgB,UAAjB,KAAgC,CAApD;AACAyB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,KAAKtB,QAAL,GAAgB,UAApC,CA5BwC,CA8BxC;;AACAyB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACP,QAAQ,GAAG,UAAZ,KAA2B,EAA/C;AACAU,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACP,QAAQ,GAAG,UAAZ,KAA2B,EAA/C;AACAU,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACP,QAAQ,GAAG,UAAZ,KAA2B,CAA/C;AACAU,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoBP,QAAQ,GAAG,UAA/B,CAlCwC,CAoCxC;;AACA,MAAIT,MAAM,GAAGqB,IAAI,CAACC,GAAL,KAAa,IAAb,GAAoBZ,SAAjC;AACAS,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAAChB,MAAM,GAAG,UAAV,KAAyB,EAA7C;AACAmB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAAChB,MAAM,GAAG,UAAV,KAAyB,EAA7C;AACAmB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAAChB,MAAM,GAAG,UAAV,KAAyB,CAA7C;AACAmB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoBhB,MAAM,GAAG,UAA7B,CAzCwC,CA2CxC;;AACAmB,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACL,cAAc,GAAG,UAAlB,KAAiC,EAArD;AACAQ,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACL,cAAc,GAAG,UAAlB,KAAiC,EAArD;AACAQ,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACL,cAAc,GAAG,UAAlB,KAAiC,CAArD;AACAQ,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoBL,cAAc,GAAG,UAArC,CA/CwC,CAiDxC;;AACAQ,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACJ,aAAa,GAAG,UAAjB,KAAgC,EAApD;AACAO,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACJ,aAAa,GAAG,UAAjB,KAAgC,EAApD;AACAO,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACJ,aAAa,GAAG,UAAjB,KAAgC,CAApD;AACAO,SAAO,CAACH,MAAM,EAAP,CAAP,GAAoBJ,aAAa,GAAG,UAApC;;AAEA,MAAIC,OAAO,IAAI,IAAf,EAAqB;AACjB;AACAM,WAAO,CAACH,MAAM,EAAP,CAAP,GAAoB,CAACH,OAAO,CAAChF,MAAR,GAAiB,MAAlB,KAA6B,CAAjD;AACAsF,WAAO,CAACH,MAAM,EAAP,CAAP,GAAoBH,OAAO,CAAChF,MAAR,GAAiB,MAArC,CAHiB,CAKjB;;AACA,WAAOmF,MAAM,GAAGnF,MAAhB,EAAwB,EAAEmF,MAA1B,EAAkC;AAC9BG,aAAO,CAACH,MAAD,CAAP,GAAkBR,OAAO,CAACY,UAAR,CAAmBJ,MAAM,IAAInF,MAAM,GAAGgF,OAAO,CAAChF,MAArB,CAAzB,CAAlB;AACH;AACJ;;AAED,SAAOsF,OAAP;AACH,CApED;;AAqEA1B,GAAG,CAACG,SAAJ,CAAc2B,MAAd,GAAuB,UAAUC,MAAV,EAAkBxB,MAAlB,EAA0BmB,OAA1B,EAAmC;AACtD,MAAIpB,QAAQ,GAAG0B,IAAI,CAACC,KAAL,CAAWL,IAAI,CAACC,GAAL,KAAa,IAAxB,CAAf;AAEA,MAAIK,MAAM,GAAG;AACT,eAAW,KADF;AAET,sBAAkB,KAAKH,MAFd;AAGT,oBAAgBI,MAAM,CAAC,KAAKlC,QAAN,CAHb;AAIT,gBAAYkC,MAAM,CAAC7B,QAAD,CAJT;AAKT,kBAAc6B,MAAM,CAAC5B,MAAD;AALX,GAAb;AAQA,MAAI6B,GAAG,GAAG,EAAV;;AACA,MAAIV,OAAO,IAAI,IAAf,EAAqB;AACjB,QAAIlB,aAAa,GAAGT,YAAY,CAAC2B,OAAD,CAAhC;AACAQ,UAAM,CAAC,aAAD,CAAN,GAAwB1B,aAAxB;AACA4B,OAAG,GAAG,KAAKhC,WAAL,CAAiB2B,MAAjB,EAAyBzB,QAAzB,EAAmCC,MAAnC,EAA2CC,aAA3C,CAAN;AACH,GAJD,MAIO;AACH4B,OAAG,GAAG,KAAKhC,WAAL,CAAiB2B,MAAjB,EAAyBzB,QAAzB,EAAmCC,MAAnC,EAA2C,IAA3C,CAAN;AACH;;AACD2B,QAAM,CAAC,SAAD,CAAN,GAAoBE,GAApB;AAEA,MAAIC,UAAU,GAAGrD,IAAI,CAACsD,WAAL,CAAiBpD,SAAS,CAACqD,IAAI,CAACC,SAAL,CAAeN,MAAf,CAAD,CAA1B,EAAoDrC,QAApD,CAA6D,QAA7D,CAAjB;AACA,SAAOZ,SAAS,CAACU,MAAV,CAAiB0C,UAAjB,CAAP;AACH,CAvBD;AAwBA;;;;;;;;;AAOArC,GAAG,CAACG,SAAJ,CAAcsC,UAAd,GAA2B,UAAUV,MAAV,EAAkBxB,MAAlB,EAA0B;AACjD,SAAO,KAAKuB,MAAL,CAAYC,MAAZ,EAAoBxB,MAApB,EAA4B,IAA5B,CAAP;AACH,CAFD;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBAP,GAAG,CAACG,SAAJ,CAAcuC,gBAAd,GAAiC,UAAUX,MAAV,EAAkBxB,MAAlB,EAA0BoC,MAA1B,EAAkCC,YAAlC,EAAgD;AAC7E,MAAIlB,OAAO,GAAG,KAAKZ,WAAL,CAAiBiB,MAAjB,EAAyBY,MAAzB,EAAiCpC,MAAjC,EAAyCqC,YAAzC,EAAuD,CAAvD,EAA0D,IAA1D,CAAd;;AACA,SAAO,KAAKd,MAAL,CAAYC,MAAZ,EAAoBxB,MAApB,EAA4BmB,OAA5B,CAAP;AACH,CAHD;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA1B,GAAG,CAACG,SAAJ,CAAc0C,gCAAd,GAAiD,UAAUd,MAAV,EAAkBxB,MAAlB,EAA0Ba,OAA1B,EAAmCwB,YAAnC,EAAiD;AAC9F,MAAIlB,OAAO,GAAG,KAAKZ,WAAL,CAAiBiB,MAAjB,EAAyB,CAAzB,EAA4BxB,MAA5B,EAAoCqC,YAApC,EAAkD,CAAlD,EAAqDxB,OAArD,CAAd;;AACA,SAAO,KAAKU,MAAL,CAAYC,MAAZ,EAAoBxB,MAApB,EAA4BmB,OAA5B,CAAP;AACH,CAHD;;AAKAxD,OAAO,CAAC8B,GAAR,GAAcA,GAAd,C;;;;;;AC1OA,kC;;;;;;ACAA,oD;;;;;;ACAA,kBAAkB,6nH;;;;;;ACAlB,kBAAkB,ulH;;;;;;ACAlB,+B;;;;;;ACAA,oC;;;;;;ACAA,sD;;;;;;ACAA,mC;;;;;;ACAA,iC;;;;;;ACAA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;CAEA;;AACA;AAEA;;;;;AAIO,IAAM8C,wBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACnC,MAAIC,MAAM,GAAG,EAAb;AACA,MAAMjG,GAAG,GAAGC,YAAZ;AACA,MAAID,GAAG,KAAK,MAAZ,EAAoBiG,MAAM,GAAG,aAAT;;AACpB,MAAIjG,GAAG,KAAK,YAAZ,EAA0B;AACtB,QAAMkG,UAAU,GAAGtG,MAAM,CAACC,QAAP,CAAgBsG,QAAnC;AACA,QAAID,UAAU,CAACE,OAAX,CAAmB,YAAnB,IAAmC,CAAC,CAAxC,EAA2CH,MAAM,GAAG,YAAT;AAC3C,QAAIC,UAAU,CAACE,OAAX,CAAmB,YAAnB,IAAmC,CAAC,CAAxC,EAA2CH,MAAM,GAAG,YAAT;AAC3C,QAAIC,UAAU,CAACE,OAAX,CAAmB,kBAAnB,IAAyC,CAAC,CAA9C,EAAiDH,MAAM,GAAG,kBAAT;AACpD;;AACD,OAAK,IAAI7C,GAAT,IAAgBiD,WAAhB,EAA6B;AACzB,QAAIjD,GAAG,KAAK,UAAR,IAAsBA,GAAG,KAAK,YAAlC,EAAgD,SADvB,CAEzB;;AACAkD,gCAAO,CAACC,MAAR,CAAeF,WAAW,CAACjD,GAAD,CAA1B,EAHyB,CAIzB;;AACAkD,gCAAO,CAACC,MAAR,CAAeF,WAAW,CAACjD,GAAD,CAA1B,EAAiC;AAAE6C,YAAM,EAAEA;AAAV,KAAjC;AACH;AACJ,CAjBM;AAmBP;;;;AAGO,IAAMO,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAS;AACjC,MAAMC,UAAU,GAAGD,GAAG,IAAIA,GAAG,CAACE,OAAX,GAAqBF,GAAG,CAACE,OAAJ,CAAY7G,IAAjC,GAAwC,EAA3D;AACA,MAAMA,IAAI,GAAG,OAAOF,MAAP,KAAkB,WAAlB,GAAgC8G,UAAhC,GAA6C9G,MAAM,CAACC,QAAP,CAAgBC,IAA1E;AACA,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC,OAAO,IAAP;AACvC,MAAIA,IAAI,CAAC8G,QAAL,CAAc,YAAd,CAAJ,EAAiC,OAAO,IAAP;AACjC,MAAI9G,IAAI,CAAC8G,QAAL,CAAc,aAAd,CAAJ,EAAkC,OAAO,KAAP;AAClC,MAAI9G,IAAI,CAAC8G,QAAL,CAAc,YAAd,CAAJ,EAAiC,OAAO,IAAP;AACjC,SAAO,IAAP;AACH,CARM;AASA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAOL,GAAP,EAAe;AACxC,MAAIM,OAAO,GAAGC,eAAQ,CAACF,IAAD,CAAR,GAAiBrB,IAAI,CAACC,SAAL,CAAeoB,IAAf,CAAjB,GAAwCA,IAAtD;;AACA,MAAI,OAAOC,OAAP,KAAmB,QAAvB,EAAiC;AAC7B,QAAME,SAAS,yBAAkBT,YAAY,CAACC,GAAD,CAA9B,CAAf;AACA,QAAMS,SAAS,0BAAmBV,YAAY,CAACC,GAAD,CAA/B,CAAf;AACA,QAAMU,QAAQ,wBAAiBX,YAAY,CAACC,GAAD,CAA7B,CAAd;AACAM,WAAO,GAAGA,OAAO,CAACnE,OAAR,CAAgB,iBAAhB,EAAmCqE,SAAnC,CAAV;AACAF,WAAO,GAAGA,OAAO,CAACnE,OAAR,CAAgB,kBAAhB,EAAoCsE,SAApC,CAAV;AACAH,WAAO,GAAGA,OAAO,CAACnE,OAAR,CAAgB,gBAAhB,EAAkCuE,QAAlC,CAAV;AACAJ,WAAO,GAAGK,aAAM,CAACL,OAAD,CAAN,GAAkBtB,IAAI,CAAC4B,KAAL,CAAWN,OAAX,CAAlB,GAAwCA,OAAlD;AACH;;AACD,SAAOA,OAAP;AACH,CAZM;AAcP;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BO,IAAMO,oBAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC/B,MAAMC,QAAQ,GAAG,IAAjB;AACA,MAAMC,SAAS,GAAG,kBAAlB;AACA,MAAMC,QAAQ,GAAG,gEAAjB;AACA,MAAMC,SAAS,GAAG,IAAI5C,IAAJ,GAAW6C,OAAX,EAAlB;AACA,MAAIC,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIvI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,QAAIwI,CAAC,GAAG3C,IAAI,CAAC4C,KAAL,CAAW5C,IAAI,CAAC6C,MAAL,KAAgBN,QAAQ,CAACnI,MAApC,CAAR;AACAsI,SAAK,IAAIH,QAAQ,CAACI,CAAD,CAAjB;AACH;;AACD,MAAMvC,GAAG,GAAG0C,8BAAG,CAAC,cAAcT,QAAd,GAAyB,aAAzB,GAAyCG,SAAzC,GAAqD,SAArD,GAAiEE,KAAjE,GAAyE,GAAzE,GAA+EJ,SAAhF,CAAf;AACA,SAAOS,6BAAM,CAACnF,MAAP,CAAc2C,IAAI,CAACC,SAAL,CAAe;AAChC,gBAAY6B,QADoB;AAEhC,aAASK,KAFuB;AAGhC,iBAAaF,SAHmB;AAIhC,WAAOpC;AAJyB,GAAf,CAAd,CAAP;AAMH,CAjBM;AAmBA,IAAM4C,UAAU,GAAG,SAAbA,UAAa,GAAM,CAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACH,CAhBM;;AAkBP,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,MAAI,OAAOvI,MAAP,KAAkB,WAAlB,IAAiCwI,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAArC,EAA6E;AACzE,QAAMC,YAAY,GAAGF,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAArB;AACAC,gBAAY,CAACC,UAAb,CAAwBC,WAAxB,CAAoCF,YAApC;AACH;AACJ,CALD;;AAMO,IAAMG,gBAAS,GAAG,SAAZA,SAAY,CAACC,IAAD;AAAA,SAAU,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAAA,QAElEpC,GAFkE,GAelEiC,IAfkE,CAElEjC,GAFkE;AAAA,QAGlEqC,IAHkE,GAelEJ,IAfkE,CAGlEI,IAHkE;AAAA,QAIlEC,GAJkE,GAelEL,IAfkE,CAIlEK,GAJkE;AAAA,QAKlEC,MALkE,GAelEN,IAfkE,CAKlEM,MALkE;AAAA,QAMlEC,WANkE,GAelEP,IAfkE,CAMlEO,WANkE;AAAA,QAOlEC,eAPkE,GAelER,IAfkE,CAOlEQ,eAPkE;AAAA,QAQlEC,QARkE,GAelET,IAfkE,CAQlES,QARkE;AAAA,QASlEC,SATkE,GAelEV,IAfkE,CASlEU,SATkE;AAAA,QAUlEC,KAVkE,GAelEX,IAfkE,CAUlEW,KAVkE;AAAA,QAWlEC,WAXkE,GAelEZ,IAfkE,CAWlEY,WAXkE;AAAA,QAYlExJ,IAZkE,GAelE4I,IAfkE,CAYlE5I,IAZkE;AAAA,QAalEyJ,gBAbkE,GAelEb,IAfkE,CAalEa,gBAbkE;AAAA,QAclEC,MAdkE,GAelEd,IAfkE,CAclEc,MAdkE;AAgBtE,QAAMC,OAAO,GAAGf,IAAI,CAACjC,GAAL,IAAaiC,IAAI,CAACM,MAAL,IAAeN,IAAI,CAACM,MAAL,CAAYvC,GAAxD;AACA,QAAIiC,IAAI,CAACM,MAAL,IAAeN,IAAI,CAACM,MAAL,CAAYvC,GAA/B,EAAoC,OAAOiC,IAAI,CAACM,MAAL,CAAYvC,GAAnB,CAjBkC,CAmBtE;;AACA,QAAIiD,QAAQ,GAAG,OAAf;AACA,QAAIC,UAAU,GAAGF,OAAO,IAAIA,OAAO,CAACC,QAApC,CArBsE,CAqBzB;;AAC7C,QAAIE,WAAW,GAAG,OAAOhK,MAAP,KAAkB,WAAlB,IAAiC0G,4BAAO,CAACuD,GAAR,CAAYxD,WAAW,CAACqD,QAAxB,CAAnD,CAtBsE,CAsBe;;AACrF,QAAIC,UAAJ,EAAgBD,QAAQ,GAAGC,UAAX;AAChB,QAAIC,WAAJ,EAAiBF,QAAQ,GAAGE,WAAX,CAxBqD,CA0BtE;AAEA;;AAEA,QAAI;AACA,UAAIE,OAAO,GAAG7I,iBAAO,GAAG8H,GAAxB;AACA,UAAIjJ,IAAI,IAAIA,IAAI,KAAK,EAArB,EAAyBgK,OAAO,GAAGhK,IAAI,GAAGiJ,GAAjB;AACzB,UAAIS,MAAJ,EAAYM,OAAO,GAAGf,GAAV,CAHZ,CAKA;;AACA,UAAI,OAAOnJ,MAAP,KAAkB,WAAtB,EAAmC,CAC/B;AACH,OAFD,MAEO;AACHkK,eAAO,GAAGA,OAAO,CAAClH,OAAR,CAAgB,KAAhB,aAA2B4D,YAAY,CAACC,GAAD,CAAvC,EAAV;AACH;;AAED,UAAI,OAAO7G,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,YAAImK,cAAc,6PAAlB;AAMA,YAAIX,SAAJ,EAAeW,cAAc,GAAG,8BAAjB;AACf,YAAI,CAAC3B,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAL,EAA6CD,QAAQ,CAAC4B,IAAT,CAAcC,kBAAd,CAAiC,WAAjC,EAA8CF,cAA9C;AAChD;;AAED,UAAIG,GAAG,GAAG,IAAV;AACA,UAAMC,QAAQ,GAAGrB,IAAI,CAACsB,WAAL,EAAjB;;AACA,UAAID,QAAQ,KAAK,MAAjB,EAAyB;AACrBD,WAAG,GAAG;AACFG,gBAAM,EAAEvB,IADN;AAEFC,aAAG,EAAEe,OAFH;AAGFhD,cAAI,EAAEwD,qBAAE,CAAC5E,SAAH,4BACDsD,MADC;AAEJuB,gBAAI,EAAEb;AAFF;AAHJ,SAAN;AAQH,OATD,MASO,IAAIS,QAAQ,KAAK,KAAjB,EAAwB;AAC3BD,WAAG,GAAG;AACFG,gBAAM,EAAEvB,IADN;AAEFC,aAAG,EAAEe,OAFH;AAGFd,gBAAM,EAAE,2BACHA,MADC;AAEJuB,gBAAI,EAAEb;AAFF;AAHJ,SAAN;AAQH,OATM,MASA,IAAIS,QAAQ,KAAK,aAAjB,EAAgC;AACnCD,WAAG,GAAG;AACFG,gBAAM,EAAE,MADN;AAEFtB,aAAG,EAAEe,OAFH;AAGFd,gBAAM,EAAEA;AAHN,SAAN;AAKH,OANM,MAMA,IAAImB,QAAQ,KAAK,UAAjB,EAA6B;AAChCD,WAAG,GAAG;AACFG,gBAAM,EAAE,MADN;AAEFtB,aAAG,EAAEe,OAFH;AAGFhD,cAAI,EAAEkC;AAHJ,SAAN;AAKH,OAvDD,CAyDA;;;AACA,UAAIE,eAAJ,EAAqB;AACjB,YAAIsB,YAAY,GAAG,IAAIC,eAAJ,EAAnB;;AACA,aAAK,IAAIrH,GAAT,IAAgB4F,MAAhB,EAAwB;AACpBwB,sBAAY,CAACE,MAAb,CAAoBtH,GAApB,EAAyB4F,MAAM,CAAC5F,GAAD,CAA/B;AACH;;AAED8G,WAAG,GAAG;AACFG,gBAAM,EAAEvB,IADN;AAEFC,aAAG,EAAEe,OAFH;AAGFhD,cAAI,EAAE0D;AAHJ,SAAN;AAKH,OArED,CAuEA;;;AACA,UAAIrB,QAAJ,EAAc;AACV,YAAIwB,MAAM,GAAG,IAAIC,QAAJ,EAAb;;AACA,aAAK,IAAIxH,IAAT,IAAgB4F,MAAhB,EAAwB;AACpB2B,gBAAM,CAACD,MAAP,CAActH,IAAd,EAAmB4F,MAAM,CAAC5F,IAAD,CAAzB;AACH;;AAED8G,WAAG,GAAG;AACFG,gBAAM,EAAEvB,IADN;AAEFC,aAAG,EAAEe,OAFH;AAGFhD,cAAI,EAAE6D;AAHJ,SAAN;AAKH;;AAEDT,SAAG,CAACvD,OAAJ,GAAc;AACZ,2BAAmB+C;AADP,OAAd;;AAIA,UAAIT,WAAJ,EAAiB;AACbiB,WAAG,CAACvD,OAAJ,GAAc;AACV,0BAAgBsC;AADN,SAAd;AAGH;;AAED,UAAIK,WAAJ,EAAiB;AACbY,WAAG,CAACvD,OAAJ,GAAc7F,MAAM,CAACC,MAAP,CAAcmJ,GAAG,CAACvD,OAAJ,GAAcuD,GAAG,CAACvD,OAAlB,GAA4B,EAA1C,EAA8C2C,WAA9C,CAAd;AACH;;AAED,UAAIC,gBAAJ,EAAsB;AAClBW,WAAG,CAACX,gBAAJ,GAAuBA,gBAAvB;AACH;;AAED,UAAIC,MAAJ,EAAY;AACRU,WAAG,CAACvD,OAAJ,GAAc7F,MAAM,CAACC,MAAP,CAAcmJ,GAAG,CAACvD,OAAJ,GAAcuD,GAAG,CAACvD,OAAlB,GAA4B,EAA1C,EAA8C;AAAE,sBAAY;AAAd,SAA9C,CAAd;AACH;;AAEDuD,SAAG,CAACvD,OAAJ,GAAc7F,MAAM,CAACC,MAAP,CAAcmJ,GAAG,CAACvD,OAAJ,GAAcuD,GAAG,CAACvD,OAAlB,GAA4B,EAA1C,EAA8C;AACxD,sBAAcW,oBAAa;AAD6B,OAA9C,CAAd;AAIAuD,8BAAK,CAAC,2BACCX,GADF;AAEDY,eAAO,EAAE;AAFR,SAAL,CAGGC,IAHH,CAGQ,UAAUC,GAAV,EAAe;AACnB,YAAIC,SAAS,GAAG,KAAhB,CADmB,CACG;;AACtB,YAAI5B,KAAK,IAAI6B,OAAO,CAAC7B,KAAD,CAApB,EAA6B;AACzB,cAAIA,KAAK,CAAC/J,MAAN,KAAiB,CAArB,EAAwB;AACpB2L,qBAAS,GAAG,IAAZ;AACH,WAFD,MAEO;AAAA;AAAA;AAAA;;AAAA;AACH,mCAAgB5B,KAAhB,8HAAuB;AAAA,oBAAd8B,GAAc;;AACnB,oBAAIH,GAAG,CAAClE,IAAJ,IAAYkE,GAAG,CAAClE,IAAJ,CAASsE,IAArB,IAA6BJ,GAAG,CAAClE,IAAJ,CAASsE,IAAT,KAAkBD,GAAnD,EAAwD;AACpDF,2BAAS,GAAG,IAAZ;AACA;AACH;AACJ;AANE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAON;AACJ;;AAED,YAAID,GAAG,CAAClE,IAAJ,IAAYkE,GAAG,CAAClE,IAAJ,CAASsE,IAArB,IAA6BJ,GAAG,CAAClE,IAAJ,CAASsE,IAAT,KAAkB,CAA/C,IAAoD,CAACH,SAAzD,EAAoE;AAChE,cAAMI,OAAO,GAAGL,GAAG,CAAClE,IAAJ,CAASsE,IAAzB;AACA,cAAME,MAAM,GAAGN,GAAG,CAAClE,IAAJ,CAASyE,GAAT,GAAeP,GAAG,CAAClE,IAAJ,CAASyE,GAAxB,GAA8B,mBAA7C,CAFgE,CAGhE;;AACA,cAAI,OAAO3L,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,gBAAIyL,OAAO,KAAK,CAAC,CAAb,IAAkBA,OAAO,KAAK,CAAC,CAAnC,EAAsC;AAClC,oBAAMG,KAAK,CAAC/F,IAAI,CAACC,SAAL,CAAe;AACvB+F,uBAAO,EAAE,SADc;AAEvBC,wBAAQ,EAAE,GAFa;AAGvB3C,mBAAG,EAAEA,GAHkB;AAIvBsC,uBAAO,EAAEA,OAJc;AAKvBC,sBAAM,EAAEA;AALe,eAAf,CAAD,CAAX;AAOH;AACJ,WAVD,MAUO;AACH,gBAAID,OAAO,KAAK,CAAC,CAAjB,EAAoB;AAAE;AAClBrF,sCAAiB,GADD,CAEhB;AACH;;AACD,gBAAIqF,OAAO,KAAK,CAAC,CAAb,IAAkBtC,GAAG,CAAC3C,OAAJ,CAAY,SAAZ,MAA2B,CAAC,CAAlD,EAAqD;AACjDuF,8BAAS,CAAC;AACNF,uBAAO,EAAE,gBADH;AAENC,wBAAQ,EAAE,GAFJ;AAGN3C,mBAAG,EAAEA,GAHC;AAINC,sBAAM,EAAE5B,aAAM,CAAC4B,MAAD,CAAN,GAAiBvD,IAAI,CAACC,SAAL,CAAesD,MAAf,CAAjB,GAA0CA,MAJ5C;AAKNqC,uBAAO,EAAEA,OALH;AAMNC,sBAAM,EAAEA,MANF;AAONM,yBAAS,EAAE;AAPL,eAAD,CAAT;AASH;AACJ;AACJ;;AAEDzD,qBAAa,GAhDM,CAkDnB;;AACAS,eAAO,CAAC/B,aAAa,CAACmE,GAAG,CAAClE,IAAL,EAAWL,GAAX,CAAd,CAAP;AACH,OAvDD,WAuDS,UAAUoF,GAAV,EAAe;AACpB,YAAMC,MAAM,GAAG,OAAOD,GAAG,CAACJ,OAAX,KAAuB,QAAvB,GAAkCI,GAAG,CAACJ,OAAJ,CAAY7I,OAAZ,CAAoB,UAApB,EAAgC,EAAhC,CAAlC,GAAwE,EAAvF;AACA,YAAMmJ,QAAQ,GAAGF,GAAG,CAACpL,MAAJ,GAAaoL,GAAG,CAACpL,MAAJ,CAAWsI,GAAxB,GAA8BA,GAA/C;AACA,YAAMiD,SAAS,GAAGH,GAAG,CAACI,QAAJ,GAAeJ,GAAG,CAACI,QAAJ,CAAaC,MAA5B,GAAqC,GAAvD;AACA,YAAIC,MAAM,GAAG;AAAEL,gBAAM,EAAEA;AAAV,SAAb;;AACA,YAAI1E,aAAM,CAAC0E,MAAD,CAAN,IAAkBrG,IAAI,CAAC4B,KAAL,CAAWyE,MAAX,EAAmBL,OAAnB,KAA+B,SAArD,EAAgE;AAC5DU,gBAAM,GAAG1G,IAAI,CAAC4B,KAAL,CAAWyE,MAAX,CAAT;AACH,SAFD,MAEO;AACHK,gBAAM,GAAG;AACLV,mBAAO,EAAE,SADP;AAEFC,oBAAQ,EAAEM,SAFR;AAGFjD,eAAG,EAAEgD;AAHH,aAICI,MAJD,CAAN;AAMH;;AAED,YAAI,OAAOvM,MAAP,KAAkB,WAAtB,EAAmC;AAC/BwM,iBAAO,CAACC,GAAR,CAAYF,MAAZ;AACAtD,gBAAM,CAAC2C,KAAK,CAAC/F,IAAI,CAACC,SAAL,CAAeyG,MAAf,CAAD,CAAN,CAAN;AACH,SAHD,MAGO;AACHhE,uBAAa;AAEbgE,gBAAM,CAACV,OAAP,GAAiB,gBAAjB;AACAU,gBAAM,CAACnD,MAAP,GAAgB5B,aAAM,CAAC4B,MAAD,CAAN,GAAiBvD,IAAI,CAACC,SAAL,CAAesD,MAAf,CAAjB,GAA0CA,MAA1D;AACA,cAAI6C,GAAG,CAACS,KAAR,EAAeH,MAAM,CAACG,KAAP,GAAeT,GAAG,CAACS,KAAnB;AACfvD,aAAG,CAAC3C,OAAJ,CAAY,SAAZ,MAA2B,CAAC,CAA5B,IAAiCuF,gBAAS,CAAC,2BAAKQ,MAAN;AAAcP,qBAAS,EAAE;AAAzB,aAA1C;AAEA,cAAMW,MAAM,2BAAoBR,QAApB,sBAAwCC,SAAxC,mBAA0DF,MAA1D,CAAZ;AACAM,iBAAO,CAACI,KAAR,CAAcD,MAAd;AACA1D,gBAAM,CAAC2C,KAAK,CAACe,MAAD,CAAN,CAAN;AACH;AACJ,OAtFD;AAuFH,KAtMD,CAsME,OAAOV,GAAP,EAAY;AACV,UAAMM,MAAM,GAAG;AACXV,eAAO,EAAE,mBADE;AAEXC,gBAAQ,EAAE,GAFC;AAGX3C,WAAG,EAAEA,GAHM;AAIX+C,cAAM,EAAED,GAAG,CAACJ;AAJD,OAAf;;AAMA,UAAI,OAAO7L,MAAP,KAAkB,WAAtB,EAAmC;AAC/BwM,eAAO,CAACC,GAAR,CAAYF,MAAZ;AACAtD,cAAM,CAAC2C,KAAK,CAAC/F,IAAI,CAACC,SAAL,CAAeyG,MAAf,CAAD,CAAN,CAAN;AACH,OAHD,MAGO;AACHhE,qBAAa;AAEbgE,cAAM,CAACV,OAAP,GAAiB,wBAAjB;AACAU,cAAM,CAACnD,MAAP,GAAgB5B,aAAM,CAAC4B,MAAD,CAAN,GAAiBvD,IAAI,CAACC,SAAL,CAAesD,MAAf,CAAjB,GAA0CA,MAA1D;AACA,YAAI6C,GAAG,CAACS,KAAR,EAAeH,MAAM,CAACG,KAAP,GAAeT,GAAG,CAACS,KAAnB;AACfvD,WAAG,CAAC3C,OAAJ,CAAY,SAAZ,MAA2B,CAAC,CAA5B,IAAiCuF,gBAAS,CAAC,2BAAKQ,MAAN;AAAcP,mBAAS,EAAE;AAAzB,WAA1C;AAEA,YAAMW,MAAM,mCAA4BxD,GAA5B,mBAAwC8C,GAAG,CAACJ,OAA5C,CAAZ;AACAW,eAAO,CAACI,KAAR,CAAcD,MAAd;AACA1D,cAAM,CAAC2C,KAAK,CAACe,MAAD,CAAN,CAAN;AACH;AACJ;AACJ,GA3PkC,CAAV;AAAA,CAAlB;AA6PP;;;;;;;AAMA,IAAIE,MAAM,GAAG,EAAb;AACA,IAAIC,UAAU,GAAG,IAAI5H,IAAJ,GAAW6C,OAAX,EAAjB,C,CAAsC;;AAC/B,IAAMgE,gBAAS,GAAG,SAAZA,SAAY,CAAC3C,MAAD,EAAY;AACjC,MAAI,OAAOpJ,MAAP,KAAkB,WAAtB,EAAmC;;AAEnC,MAAI;AACA,QAAM+M,UAAU,GAAG,IAAI7H,IAAJ,GAAW6C,OAAX,EAAnB;;AACA,QAAMiF,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClB,UAAMC,MAAM,GAAG,EAAf;;AACA,UAAIjN,MAAM,CAACkN,YAAP,IAAuB9D,MAAM,CAAC4C,SAAlC,EAA6C;AACzC,YAAMmB,QAAQ,GAAG,EAAjB;AACAjM,cAAM,CAACkM,IAAP,CAAYpN,MAAM,CAACkN,YAAnB,EAAiCG,GAAjC,CAAqC,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AACvD,cAAI9J,GAAG,CAACgD,OAAJ,CAAY,SAAZ,MAA2B,CAAC,CAA5B,IAAiChD,GAAG,CAACgD,OAAJ,CAAY,UAAZ,MAA4B,CAAC,CAA9D,IAAmEhD,GAAG,CAACgD,OAAJ,CAAY,WAAZ,MAA6B,CAAC,CAArG,EAAwG;AAAE;AACtG2G,oBAAQ,CAAC3J,GAAD,CAAR,GAAgB0J,YAAY,CAACK,OAAb,CAAqB/J,GAArB,CAAhB;AACH;AACJ,SAJD;AAKAyJ,cAAM,CAACC,YAAP,GAAsBrH,IAAI,CAACC,SAAL,CAAeqH,QAAf,CAAtB;AACH;;AAED,UAAInN,MAAM,CAACwN,cAAP,IAAyBpE,MAAM,CAAC4C,SAApC,EAA+C;AAC3C,YAAMmB,SAAQ,GAAG,EAAjB;AACAjM,cAAM,CAACkM,IAAP,CAAYpN,MAAM,CAACwN,cAAnB,EAAmCH,GAAnC,CAAuC,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AACzD,cAAI9J,GAAG,CAACgD,OAAJ,CAAY,SAAZ,MAA2B,CAAC,CAA5B,IAAiChD,GAAG,CAACgD,OAAJ,CAAY,UAAZ,MAA4B,CAAC,CAA9D,IAAmEhD,GAAG,CAACgD,OAAJ,CAAY,WAAZ,MAA6B,CAAC,CAArG,EAAwG;AAAE;AACtG2G,qBAAQ,CAAC3J,GAAD,CAAR,GAAgBgK,cAAc,CAACD,OAAf,CAAuB/J,GAAvB,CAAhB;AACH;AACJ,SAJD;AAKAyJ,cAAM,CAACO,cAAP,GAAwB3H,IAAI,CAACC,SAAL,CAAeqH,SAAf,CAAxB;AACH;;AAED,UAAMM,SAAS,GAAG,2BAAKrE,MAAR,EAAmB6D,MAAnB,CAAf;;AACA,UAAKQ,SAAS,CAACtE,GAAV,IAAiBsE,SAAS,CAACtE,GAAV,CAAc3C,OAAd,CAAsB,SAAtB,MAAqC,CAAC,CAAxD,IAA8D,CAACiH,SAAS,CAACtE,GAA7E,EAAkF;AAC9EN,wBAAS,CAAC;AACNK,cAAI,EAAE,MADA;AAENC,aAAG,EAAE,SAFC;AAGNK,mBAAS,EAAE,IAHL;AAINtJ,cAAI,YAAKF,MAAM,CAACC,QAAP,CAAgByN,QAArB,eAAkC1N,MAAM,CAACC,QAAP,CAAgBC,IAAlD,CAJE;AAKNkJ,gBAAM,EAAEqE;AALF,SAAD,CAAT,UAMS,UAAUxB,GAAV,EAAe;AACpBO,iBAAO,CAACC,GAAR,CAAYR,GAAZ;AACH,SARD;AASH;AACJ,KAlCD;;AAoCA,QAAIc,UAAU,GAAGD,UAAb,IAA2B,IAA3B,IAAmCD,MAAM,CAACnN,MAAP,KAAkB,CAAzD,EAA4D;AACxDmN,YAAM,GAAG,EAAT;AACAA,YAAM,CAACc,IAAP,CAAYvE,MAAZ;AACA0D,gBAAU,GAAGC,UAAb;AACAC,aAAO;AACV,KALD,MAKO;AACH,UAAMY,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,mCAAgBf,MAAhB,6BAAwB;AAAnB,cAAItB,GAAG,cAAP;;AACD,cAAIsC,kBAAW,CAACtC,GAAD,EAAMnC,MAAN,CAAf,EAA8B;AAC1B,mBAAO,IAAP;AACH;AACJ;;AACD,eAAO,KAAP;AACH,OAPD;;AAQA,UAAIyD,MAAM,CAACnN,MAAP,KAAkB,CAAlB,IAAuBkO,SAAS,EAApC,EAAwC;AACxCf,YAAM,CAACc,IAAP,CAAYvE,MAAZ;AACA4D,aAAO;AACV;AACJ,GAxDD,CAwDE,OAAOf,GAAP,EAAY;AACVO,WAAO,CAACC,GAAR,CAAYR,GAAZ;AACH;AACJ,CA9DM;AAgEP;;;;;;;;;;;;;;;;;;;;;;;;;AAwBO,IAAM6B,gBAAS,GAAG,SAAZA,SAAY,CAAChF,IAAD;AAAA,SAAU,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACtE,QAAI8E,iBAAiB,GAAG,EAAxB;;AACA,QAAI;AAAA,UACQ7N,IADR,GACiF4I,IADjF,CACQ5I,IADR;AAAA,UACciJ,GADd,GACiFL,IADjF,CACcK,GADd;AAAA,UACmBC,MADnB,GACiFN,IADjF,CACmBM,MADnB;AAAA,UAC2B4E,UAD3B,GACiFlF,IADjF,CAC2BkF,UAD3B;AAAA,UACuCC,KADvC,GACiFnF,IADjF,CACuCmF,KADvC;AAAA,UAC8CC,OAD9C,GACiFpF,IADjF,CAC8CoF,OAD9C;AAAA,UACuDrC,OADvD,GACiF/C,IADjF,CACuD+C,OADvD;AAAA,UACgEsC,KADhE,GACiFrF,IADjF,CACgEqF,KADhE;AAAA,UACuEvB,KADvE,GACiF9D,IADjF,CACuE8D,KADvE;AAGA,UAAMwB,MAAM,aAAOH,KAAK,IAAI5N,YAAA,KAAyB,YAAnC,GAAmD,KAAnD,GAA2D,IAAjE,gBAA2E,CAACH,IAAI,KAAKmB,iBAAO,CAACmF,OAAR,CAAgB,MAAhB,IAA0B,CAAC,CAA3B,GAA+BnF,iBAAO,CAAClB,KAAR,CAAc,KAAd,EAAqB,CAArB,CAA/B,GAAyDkB,iBAA9D,CAAL,KAAgF8H,GAAG,IAAI,EAAvF,CAA3E,CAAZ;AAEA,UAAIkF,EAAJ;AACA,UAAIC,aAAa,GAAG,KAApB,CANA,CAM0B;;AAC1B,UAAItO,MAAM,CAACuO,SAAP,IAAoBvO,MAAM,CAACwO,YAA/B,EAA6C;AACzC;AACA,YAAMC,UAAU,GAAG;AACfvD,iBAAO,EAAE,KADM;AAEfwD,oBAAU,EAAE,IAFG;AAGfC,0BAAgB,EAAE,IAHH;AAIfC,eAAK,EAAE,iBAAY;AACfC,wBAAY,CAAC,KAAKH,UAAN,CAAZ;AACAG,wBAAY,CAAC,KAAKF,gBAAN,CAAZ;AACA,mBAAO,IAAP;AACH,WARc;AASfG,eAAK,EAAE,iBAAY;AACf,gBAAMC,IAAI,GAAG,IAAb;AACA,iBAAKL,UAAL,GAAkBM,UAAU,CAAC,YAAY;AACrCX,gBAAE,CAACY,IAAH,CAAQ,MAAR,EADqC,CAErC;;AACAF,kBAAI,CAACJ,gBAAL,GAAwBK,UAAU,CAAC,YAAY;AAC3C;AACA;AACAX,kBAAE,CAACF,KAAH;AACH,eAJiC,EAI/BY,IAAI,CAAC7D,OAJ0B,CAAlC;AAKH,aAR2B,EAQzB,KAAKA,OARoB,CAA5B;AASH,WApBc,CAuBnB;;AAvBmB,SAAnB;;AAwBA,YAAMgE,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,cAAIZ,aAAJ,EAAmB;AACnBA,uBAAa,GAAG,IAAhB;AACAU,oBAAU,CAAC,YAAY;AACnBG,2BAAe;AACfb,yBAAa,GAAG,KAAhB;AACH,WAHS,EAGP,IAHO,CAAV;AAIH,SAPD;;AASA,YAAMa,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC1B,cAAMC,gBAAgB,GAAGpP,MAAM,CAACuO,SAAP,IAAoBvO,MAAM,CAACwO,YAApD,CAD0B,CAE1B;;AACAH,YAAE,GAAG,IAAIe,gBAAJ,CAAqBhB,MAArB,CAAL;AACA,cAAIJ,UAAJ,EAAgBK,EAAE,CAACL,UAAH,GAAgBA,UAAhB;AAEhB;;;;;;;;;;;AAUAK,YAAE,CAACxC,OAAH,GAAa,UAACwD,QAAD,EAAc;AACvB,gBAAMC,aAAa,GAAGC,IAAI,EAA1B;AACAxB,6BAAiB,CAACuB,aAAD,CAAjB,GAAmC,IAAIE,KAAJ,CAAU;AAAEC,mBAAK,EAAE;AAAT,aAAV,EAA2B;AAC1DC,iBAAG,EAAE,aAAUC,MAAV,EAAkBC,OAAlB,EAA2BC,KAA3B,EAAkCC,QAAlC,EAA4C;AAC7CH,sBAAM,CAACC,OAAD,CAAN,GAAkBC,KAAlB;AAEAR,wBAAQ,CAACQ,KAAD,CAAR;AACA,uBAAOC,QAAP;AACH;AANyD,aAA3B,CAAnC;AAQH,WAVD;;AAYAzB,YAAE,CAAC0B,MAAH,GAAY,UAACN,KAAD,EAAW;AACnBhB,sBAAU,CAACG,KAAX,GAAmBE,KAAnB;AACAT,cAAE,CAACY,IAAH,CAAQpJ,IAAI,CAACC,SAAL,CAAe;AACnBkK,oBAAM,EAAE;AADW,aAAf,CAAR;AAGA,gBAAI5G,MAAJ,EAAYiF,EAAE,CAACY,IAAH,CAAQpJ,IAAI,CAACC,SAAL,CAAesD,MAAf,CAAR;AACZ,gBAAI8E,OAAJ,EAAaA,OAAO,CAACuB,KAAD,CAAP;AAEbzG,mBAAO,CAACqF,EAAD,CAAP;AACH,WATD;;AAWAA,YAAE,CAAC4B,SAAH,GAAe,UAACR,KAAD,EAAW;AACtBhB,sBAAU,CAACG,KAAX,GAAmBE,KAAnB;AACA,gBAAIW,KAAK,CAACvI,IAAN,KAAe,MAAnB,EAA2B;AAC3B,gBAAI2E,OAAJ,EAAaA,OAAO,CAAC4D,KAAD,CAAP;;AACb,iBAAK,IAAMjM,GAAX,IAAkBuK,iBAAlB,EAAqC;AACjCA,+BAAiB,CAACvK,GAAD,CAAjB,CAAuBiM,KAAvB,GAA+BA,KAA/B;AACH;AACJ,WAPD;;AAQApB,YAAE,CAAC6B,OAAH,GAAa,UAACT,KAAD,EAAW;AACpBP,qBAAS;AACT,gBAAIf,KAAJ,EAAWA,KAAK,CAACsB,KAAD,CAAL;AACd,WAHD;;AAIApB,YAAE,CAAC8B,OAAH,GAAa,UAAClE,GAAD,EAAS;AAClBiD,qBAAS;AACT,gBAAItC,KAAJ,EAAWA,KAAK,CAACX,GAAD,CAAL;AACd,WAHD,CAnD0B,CAwD1B;;;AACAjM,gBAAM,CAACoQ,cAAP,GAAwB,YAAM;AAC1B/B,cAAE,CAACF,KAAH;AACH,WAFD;AAGH,SA5DD;;AA8DAgB,uBAAe;AAClB,OAlGD,MAkGO;AACH,YAAMkB,IAAI,GAAG,mBAAb;AACA7D,eAAO,CAACI,KAAR,CAAcyD,IAAd;AACApH,cAAM,CAAC,IAAI2C,KAAJ,CAAUyE,IAAV,CAAD,CAAN;AACH;AACJ,KA9GD,CA8GE,OAAOpE,GAAP,EAAY;AACVO,aAAO,CAACI,KAAR,CAAcX,GAAd;AACAhD,YAAM,CAACgD,GAAD,CAAN;AACH;AACJ,GApHkC,CAAV;AAAA,CAAlB;AAsHP;;;;;;AAKO,IAAMqE,aAAa,GAAG,SAAhBA,aAAgB,CAACnH,GAAD,EAAMoH,KAAN,EAAgB;AACzC/H,UAAQ,CAAC4B,IAAT,CAAcC,kBAAd,CAAiC,WAAjC,sBAA0DlB,GAA1D,yBAA0E,CAACoH,KAAD,GAAS,QAAT,GAAoB,EAA9F;AACA/H,UAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmC+H,KAAnC;AAEA,MAAMC,QAAQ,GAAGjI,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAjB;AACAgI,UAAQ,CAAC9H,UAAT,CAAoBC,WAApB,CAAgC6H,QAAhC;AACH,CANM;AAQP;;;;;;;AAMO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC7J,GAAD,EAAS;AAChC,SAAOA,GAAG,GAAIA,GAAG,CAACE,OAAJ,CAAY,YAAZ,KAA6B,EAAjC,GAAuC/G,MAAM,CAAC2Q,SAAP,CAAiBC,SAAlE;AACH,CAFM;AAIP;;;;;;;AAMO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAChK,GAAD,EAAS;AACzB,MAAM+J,SAAS,GAAGF,WAAW,CAAC7J,GAAD,CAAX,CAAiB2D,WAAjB,EAAlB;AAEA,MAAMsG,MAAM,GAAG,CAAC,SAAD,EAAY,QAAZ,EAAsB,MAAtB,EAA8B,eAA9B,CAAf;AACA,MAAIC,IAAI,GAAG,IAAX;;AACA,OAAK,IAAItR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqR,MAAM,CAACpR,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpC,QAAImR,SAAS,CAACpK,OAAV,CAAkBsK,MAAM,CAACrR,CAAD,CAAxB,IAA+B,CAAC,CAApC,EAAuC;AACnCsR,UAAI,GAAG,KAAP;AACA;AACH;AACJ;;AACD,SAAOA,IAAP;AACH,CAZM;AAcP;;;;;;;AAMO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACnK,GAAD,EAAS;AAC1B,MAAM+J,SAAS,GAAGF,WAAW,CAAC7J,GAAD,CAAX,CAAiB2D,WAAjB,EAAlB;AACA,SAAQoG,SAAS,CAACpK,OAAV,CAAkB,QAAlB,IAA8B,CAAC,CAA/B,IAAoCoK,SAAS,CAACpK,OAAV,CAAkB,MAAlB,IAA4B,CAAC,CAAlE,IAAwE,KAA/E;AACH,CAHM;AAKP;;;;;;AAKO,IAAMyK,SAAS,GAAG,SAAZA,SAAY;AAAA,SAAM,WAAWC,IAAX,CAAgBP,SAAS,CAACC,SAA1B,KAAyCO,MAAM,CAACC,MAAP,KAAkB,GAAlB,IAAyBD,MAAM,CAACE,KAAP,KAAiB,GAAzF;AAAA,CAAlB;AAEP;;;;;;;AAMO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACzK,GAAD,EAAS;AAC9B,MAAM+J,SAAS,GAAGF,WAAW,CAAC7J,GAAD,CAAX,CAAiB2D,WAAjB,EAAlB;AACA,SAAOoG,SAAS,CAACpK,OAAV,CAAkB,SAAlB,IAA+B,CAAC,CAAhC,IAAqC,KAA5C;AACH,CAHM;AAKP;;;;;;;AAMO,IAAM+K,QAAQ,GAAG,SAAXA,QAAW,CAAC1K,GAAD,EAAS;AAC7B,MAAM+J,SAAS,GAAGF,WAAW,CAAC7J,GAAD,CAAX,CAAiB2D,WAAjB,EAAlB;AACA,SAAOoG,SAAS,CAACpK,OAAV,CAAkB,gBAAlB,IAAsC,CAAC,CAAvC,IAA4C,KAAnD;AACH,CAHM;AAKP;;;;;;;AAMO,IAAMgL,OAAO,GAAG,SAAVA,OAAU,CAAC3K,GAAD,EAAS;AAC5B,MAAM+J,SAAS,GAAGF,WAAW,CAAC7J,GAAD,CAAX,CAAiB2D,WAAjB,EAAlB;AACA,SAAOoG,SAAS,CAACpK,OAAV,CAAkB,SAAlB,IAA+B,CAAC,CAAhC,IAAqC,KAA5C;AACH,CAHM;AAKP;;;;;;;AAMO,IAAMiL,KAAK,GAAG,SAARA,KAAQ,CAACzP,QAAD,EAAc;AAC/B,MAAM0P,GAAG,GAAG,wCAAZ;AACA,SAAOA,GAAG,CAACR,IAAJ,CAASlP,QAAT,KAAsB,KAA7B;AACH,CAHM;AAKP;;;;;;;AAMO,IAAM2P,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;AAC9B,MAAMC,KAAK,GAAG,wEAAd;AACA,SAAOA,KAAK,CAACX,IAAN,CAAWU,KAAX,KAAqB,KAA5B;AACH,CAHM;AAKP;;;;;;;AAMO,IAAME,OAAO,GAAG,SAAVA,OAAU,CAACC,WAAD,EAAiB;AACpC;AACA,MAAMF,KAAK,GAAG,UAAd;AACA,SAAOA,KAAK,CAACX,IAAN,CAAWa,WAAX,KAA2B,KAAlC;AACH,CAJM;AAMP;;;;;;;AAMO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,MAAD,EAAY;AAC7B,MAAMP,GAAG,GAAG,kBAAZ;AACA,SAAOA,GAAG,CAACR,IAAJ,CAASe,MAAT,CAAP;AACH,CAHM;AAKP;;;;;;;AAMO,IAAM7K,eAAQ,GAAG,SAAXA,QAAW,CAAC8K,GAAD,EAAS;AAC7B,SAAQA,GAAG,IAAI,iBAAOA,GAAP,MAAe,QAAtB,IAAkC,CAACnP,KAAK,CAACuI,OAAN,CAAc4G,GAAd,CAA3C;AACH,CAFM;AAIP;;;;;;;AAMO,IAAM1K,aAAM,GAAG,SAATA,MAAS,CAAC0K,GAAD,EAAS;AAC3B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,QAAI;AACA,UAAMC,SAAS,GAAGtM,IAAI,CAAC4B,KAAL,CAAWyK,GAAX,CAAlB;AACA,aAAO,iBAAOC,SAAP,MAAqB,QAArB,IAAiCA,SAAxC;AACH,KAHD,CAGE,OAAOC,CAAP,EAAU;AACR,aAAO,KAAP;AACH;AACJ,GAPD,MAOO;AACH,WAAOlR,MAAM,CAACuC,SAAP,CAAiBN,QAAjB,CAA0BkP,IAA1B,CAA+BH,GAA/B,MAAwC,iBAA/C;AACH;AACJ,CAXM;AAaP;;;;;;;AAMO,IAAM5G,OAAO,GAAG,SAAVA,OAAU,CAACgH,GAAD,EAAS;AAC5B,MAAI,OAAOvP,KAAK,CAACuI,OAAb,KAAyB,UAA7B,EAAyC;AACrC,WAAOvI,KAAK,CAACuI,OAAN,CAAcgH,GAAd,CAAP;AACH,GAFD,MAEO;AACH,WAAOpR,MAAM,CAACuC,SAAP,CAAiBN,QAAjB,CAA0BkP,IAA1B,CAA+BC,GAA/B,MAAwC,gBAA/C;AACH;AACJ,CANM;AAQP;;;;;;;AAMO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAAY;AACrC,SAAOtR,MAAM,CAACuC,SAAP,CAAiBN,QAAjB,CAA0BkP,IAA1B,CAA+BG,MAA/B,MAA2C,sBAAlD;AACH,CAFM;AAIP;;;;;;;;;;AASO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOC,GAAP,EAAe;AACrC,MAAM5D,IAAI,GAAG,IAAI7J,IAAJ,CAASwN,IAAT,CAAb;AACA,MAAME,CAAC,GAAG;AACN,UAAM7D,IAAI,CAAC8D,QAAL,KAAkB,CADlB;AACqB;AAC3B,UAAM9D,IAAI,CAAC+D,OAAL,EAFA;AAEgB;AACtB,UAAM/D,IAAI,CAACgE,QAAL,EAHA;AAGiB;AACvB,UAAMhE,IAAI,CAACiE,UAAL,EAJA;AAImB;AACzB,UAAMjE,IAAI,CAACkE,UAAL,EALA;AAKmB;AACzB,UAAM3N,IAAI,CAACC,KAAL,CAAW,CAACwJ,IAAI,CAAC8D,QAAL,KAAkB,CAAnB,IAAwB,CAAnC,CANA;AAMuC;AAC7C,SAAK9D,IAAI,CAACmE,eAAL,EAPC,CAOsB;;AAPtB,GAAV;;AASA,MAAI,OAAOhC,IAAP,CAAYyB,GAAZ,CAAJ,EAAsB;AAClBA,OAAG,GAAGA,GAAG,CAAC3P,OAAJ,CAAYmQ,MAAM,CAACC,EAAnB,EAAuB,CAACrE,IAAI,CAACsE,WAAL,KAAqB,EAAtB,EAA0BC,MAA1B,CAAiC,IAAIH,MAAM,CAACC,EAAP,CAAU1T,MAA/C,CAAvB,CAAN;AACH;;AACD,OAAK,IAAI6T,CAAT,IAAcX,CAAd,EAAiB;AACb,QAAI,IAAIO,MAAJ,CAAW,MAAMI,CAAN,GAAU,GAArB,EAA0BrC,IAA1B,CAA+ByB,GAA/B,CAAJ,EAAyC;AACrCA,SAAG,GAAGA,GAAG,CAAC3P,OAAJ,CAAYmQ,MAAM,CAACC,EAAnB,EAAwBD,MAAM,CAACC,EAAP,CAAU1T,MAAV,KAAqB,CAAtB,GAA4BkT,CAAC,CAACW,CAAD,CAA7B,GAAqC,CAAC,OAAOX,CAAC,CAACW,CAAD,CAAT,EAAcD,MAAd,CAAqB,CAAC,KAAKV,CAAC,CAACW,CAAD,CAAP,EAAY7T,MAAjC,CAA5D,CAAN;AACH;AACJ;;AACD,SAAOiT,GAAP;AACH,CApBM;AAsBP;;;;;;;AAMO,IAAMa,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,WAAD,EAAcC,WAAd,EAA2BC,IAA3B,EAAoC;AACjE,MAAIC,QAAQ,GAAG,OAAf;AACA,MAAIC,OAAO,GAAG,cAAd;AACA,MAAIC,QAAQ,GAAG,kBAAf;;AACA,MAAIH,IAAJ,EAAU;AACN,QAAIA,IAAI,CAACI,IAAT,EAAeH,QAAQ,GAAGD,IAAI,CAACI,IAAhB;AACf,QAAIJ,IAAI,CAACK,GAAT,EAAcH,OAAO,GAAGF,IAAI,CAACK,GAAf;AACd,QAAIL,IAAI,CAACM,IAAT,EAAeH,QAAQ,GAAGH,IAAI,CAACM,IAAhB;AAClB;;AACDP,aAAW,GAAG,CAACA,WAAD,GAAe,IAAIxO,IAAJ,GAAW6C,OAAX,EAAf,GAAsC2L,WAApD;AACA,MAAMQ,KAAK,GAAGC,QAAQ,CAAET,WAAW,GAAGD,WAAhB,CAAR,GAAwC,IAAtD;;AACA,MAAIS,KAAK,GAAG,EAAZ,EAAgB;AACZ,WAAO,IAAP;AACH,GAFD,MAEO,IAAIA,KAAK,IAAI,EAAT,IAAeA,KAAK,GAAG,IAA3B,EAAiC;AACpC,WAAO5O,IAAI,CAACC,KAAL,CAAW2O,KAAK,GAAG,EAAnB,IAAyB,KAAhC;AACH,GAFM,MAEA,IAAIA,KAAK,IAAI,IAAT,IAAiBA,KAAK,GAAG,KAA7B,EAAoC;AACvC,WAAO5O,IAAI,CAACC,KAAL,CAAW2O,KAAK,GAAG,IAAnB,IAA2B,KAAlC;AACH,GAFM,MAEA;AACH,QAAME,UAAU,GAAGC,UAAU,CAACZ,WAAD,EAAcC,WAAd,CAAV,GAAwCY,OAAO,CAACb,WAAD,EAAcC,WAAd,CAAP,GAAoCE,QAApC,GAA+CC,OAAvF,GAAkGC,QAArH;AACA,WAAOrB,UAAU,CAACgB,WAAD,EAAcW,UAAd,CAAjB;AACH;AACJ,CArBM;AAuBP;;;;;;AAKO,IAAMG,SAAS,GAAG,SAAZA,SAAY,CAACC,WAAD,EAAcC,UAAd,EAA0Bd,IAA1B,EAAmC;AACxD,MAAIC,QAAQ,GAAG,OAAf;AACA,MAAIC,OAAO,GAAG,cAAd;AACA,MAAIC,QAAQ,GAAG,kBAAf;;AACA,MAAIH,IAAJ,EAAU;AACN,QAAIA,IAAI,CAACI,IAAT,EAAeH,QAAQ,GAAGD,IAAI,CAACI,IAAhB;AACf,QAAIJ,IAAI,CAACK,GAAT,EAAcH,OAAO,GAAGF,IAAI,CAACK,GAAf;AACd,QAAIL,IAAI,CAACM,IAAT,EAAeH,QAAQ,GAAGH,IAAI,CAACM,IAAhB;AAClB;;AACD,MAAMG,UAAU,GAAGC,UAAU,CAACG,WAAD,EAAcC,UAAd,CAAV,GAAuCH,OAAO,CAACE,WAAD,EAAcC,UAAd,CAAP,GAAmCb,QAAnC,GAA8CC,OAArF,GAAgGC,QAAnH;AACA,SAAOrB,UAAU,CAAC+B,WAAD,EAAcJ,UAAd,CAAjB;AACH,CAXM;AAaP;;;;;;;AAMO,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAC5B,IAAD,EAAO+B,UAAP,EAAsB;AACzC,SAAO,IAAIvP,IAAJ,CAASwN,IAAT,EAAegC,YAAf,QAAmCD,UAAU,GAAG,IAAIvP,IAAJ,CAASuP,UAAT,EAAqBC,YAArB,EAAH,GAAyC,IAAIxP,IAAJ,GAAWwP,YAAX,EAAtF,CAAP;AACH,CAFM;AAIP;;;;;;;AAMO,IAAML,UAAU,GAAG,SAAbA,UAAa,CAAC3B,IAAD,EAAO+B,UAAP,EAAsB;AAC5C,SAAO,IAAIvP,IAAJ,CAASwN,IAAT,EAAeW,WAAf,QAAkCoB,UAAU,GAAG,IAAIvP,IAAJ,GAAWmO,WAAX,EAAH,GAA8B,IAAInO,IAAJ,GAAWmO,WAAX,EAA1E,CAAP;AACH,CAFM;AAIP;;;;;;;AAMO,IAAMsB,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AACtC,MAAItC,GAAG,GAAGsC,OAAO,CAACzU,KAAR,CAAc,GAAd,CAAV;AACA,MAAI0U,IAAI,GAAGvC,GAAG,CAAC,CAAD,CAAH,CAAOwC,KAAP,CAAa,SAAb,EAAwB,CAAxB,CAAX;AACA,MAAIC,IAAI,GAAGC,IAAI,CAAC1C,GAAG,CAAC,CAAD,CAAJ,CAAf;AACA,MAAI2C,CAAC,GAAGF,IAAI,CAACrV,MAAb;AACA,MAAIwV,KAAK,GAAG,IAAIC,UAAJ,CAAeF,CAAf,CAAZ;;AACA,SAAOA,CAAC,EAAR,EAAY;AACRC,SAAK,CAACD,CAAD,CAAL,GAAWF,IAAI,CAAC9P,UAAL,CAAgBgQ,CAAhB,CAAX;AACH;;AACD,SAAO,IAAIG,IAAJ,CAAS,CAACF,KAAD,CAAT,EAAkB;AAAEhM,QAAI,EAAE2L;AAAR,GAAlB,CAAP;AACH,CAVM;AAYP;;;;;;AAKO,IAAMQ,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAQC,GAAR,EAAaC,MAAb,EAAwB;AAC1CD,KAAG,GAAGA,GAAG,GAAG,CAAH,GAAO,CAAC,CAAjB;AACA,SAAO,UAAUE,CAAV,EAAaC,CAAb,EAAgB;AACnBD,KAAC,GAAGA,CAAC,CAACH,KAAD,CAAL;AACAI,KAAC,GAAGA,CAAC,CAACJ,KAAD,CAAL;;AACA,QAAI,OAAQE,MAAR,KAAoB,WAAxB,EAAqC;AACjCC,OAAC,GAAGD,MAAM,CAACC,CAAD,CAAV;AACAC,OAAC,GAAGF,MAAM,CAACE,CAAD,CAAV;AACH;;AACD,QAAID,CAAC,GAAGC,CAAR,EAAW;AACP,aAAOH,GAAG,GAAG,CAAC,CAAd;AACH;;AACD,QAAIE,CAAC,GAAGC,CAAR,EAAW;AACP,aAAOH,GAAG,GAAG,CAAb;AACH;;AACD,WAAO,CAAP;AACH,GAdD;AAeH,CAjBM;AAmBP;;;;;;AAKO,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAACC,MAAD,EAAY;AAAE;AACnC,MAAI,CAACA,MAAL,EAAa,OAAOA,MAAP;AACb,MAAMX,CAAC,GAAG3P,IAAI,CAACuQ,GAAL,CAASD,MAAT,CAAV;AACA,MAAIlE,GAAG,GAAG,OAAV;AACA,MAAIoE,GAAG,GAAG,CAACb,CAAC,IAAI,CAAN,EAAS9R,QAAT,EAAV;AACA,MAAI4S,IAAI,GAAGrE,GAAG,CAACsE,IAAJ,CAASF,GAAT,CAAX,CALiC,CAMjC;;AACA,MAAIG,OAAO,GAAGF,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAZ,GAAkBA,IAAI,CAAC,CAAD,CAAtB,GAA4B,EAA1C,CAPiC,CAQjC;;AACA,MAAIG,iBAAiB,GAAGH,IAAI,IAAIA,IAAI,CAACzI,KAAb,GAAqByI,IAAI,CAACzI,KAA1B,GAAkCwI,GAAG,CAACpW,MAA9D,CATiC,CAUjC;;AACA,MAAIyW,UAAU,GAAGL,GAAG,CAACM,KAAJ,CAAU,CAAV,EAAaF,iBAAb,CAAjB;AACA,MAAIG,MAAM,GAAG,EAAb,CAZiC,CAajC;;AACA,SAAOF,UAAU,CAACzW,MAAX,GAAoB,CAA3B,EAA8B;AAC1B2W,UAAM,GAAG,MAAMF,UAAU,CAACC,KAAX,CAAiB,CAAC,CAAlB,CAAN,GAA6BC,MAAtC;AACAF,cAAU,GAAGA,UAAU,CAACC,KAAX,CAAiB,CAAjB,EAAoBD,UAAU,CAACzW,MAAX,GAAoB,CAAxC,CAAb;AACH,GAjBgC,CAkBjC;;;AACA,MAAIyW,UAAJ,EAAgB;AACZE,UAAM,GAAGF,UAAU,GAAGE,MAAtB;AACH,GArBgC,CAsBjC;;;AACAA,QAAM,GAAGA,MAAM,GAAGJ,OAAlB;AACA,SAAOL,MAAM,KAAK,CAAX,GAAgBA,MAAM,GAAG,CAAT,GAAaS,MAAb,cAA0BA,MAA1B,CAAhB,GAAsD,CAA7D;AACH,CAzBM;AA2BP;;;;;;;AAMO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAWC,MAAX,EAAsB;AAC7C,MAAI,CAACD,QAAL,EAAe,OAAO,CAAP;AAEf,MAAIE,KAAK,GAAGnR,IAAI,CAACuQ,GAAL,CAASpQ,MAAM,CAAC8Q,QAAD,CAAf,CAAZ;AACA,MAAIrV,MAAM,CAACwV,EAAP,CAAUD,KAAV,EAAiBE,GAAjB,CAAJ,EAA2B,OAAO,CAAP,CAJkB,CAM7C;;AACA,MAAIF,KAAK,GAAG,UAAZ,EAAwB;AACpB,WAAOF,QAAQ,GAAG,CAAX,iCAAP;AACH,GAFD,MAEO,IAAIE,KAAK,IAAI,UAAT,IAAuBA,KAAK,GAAG,QAAnC,EAA6C;AAChD,QAAIA,KAAK,GAAG,QAAR,IAAoBA,KAAK,IAAI,UAAjC,EAA6C;AACzCA,WAAK,GAAGA,KAAK,CAACG,OAAN,CAAc,CAAd,CAAR;AACH,KAFD,MAEO,IAAIH,KAAK,GAAG,GAAR,IAAeA,KAAK,IAAI,QAA5B,EAAsC;AACzCA,WAAK,GAAGA,KAAK,CAACI,WAAN,CAAkB,CAAlB,CAAR;AACH,KAFM,MAEA,IAAIJ,KAAK,IAAI,GAAT,IAAgBA,KAAK,GAAG,GAA5B,EAAiC;AACpCA,WAAK,GAAGA,KAAK,CAACG,OAAN,CAAc,CAAd,CAAR;AACH,KAFM,MAEA,IAAIH,KAAK,IAAI,GAAT,IAAgBA,KAAK,GAAG,QAA5B,EAAsC;AACzCA,WAAK,GAAGA,KAAK,CAACG,OAAN,CAAc,CAAd,CAAR;AACH;;AAEDH,SAAK,GAAGF,QAAQ,GAAG,CAAX,GAAeE,KAAf,GAAuB,CAACA,KAAhC;AACA,WAAOD,MAAM,KAAK,QAAX,GAAsBC,KAAtB,GAA8Bd,SAAS,CAACc,KAAD,CAA9C;AACH,GAbM,MAaA,IAAIA,KAAK,IAAI,QAAb,EAAuB;AAC1B,QAAMK,UAAU,GAAG,UAAGL,KAAH,EAAW/W,MAAX,GAAoB,CAAvC;AACA,qBAAU+W,KAAK,GAAGnR,IAAI,CAACyR,GAAL,CAAS,EAAT,EAAaD,UAAb,EAAyBF,OAAzB,CAAiC,CAAjC,CAAlB,cAAyDL,QAAQ,GAAG,CAAX,GAAeO,UAAf,GAA4B,CAACA,UAAtF;AACH;AACJ,CA1BM;AA4BP;;;;;;;AAMO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAWT,MAAX,EAAsB;AAC7C,MAAI,CAACS,QAAL,EAAe,OAAO,CAAP;AAEf,MAAMC,CAAC,GAAG,MAAV,CAH6C,CAG5B;;AACjB,MAAMC,CAAC,GAAG,SAAV,CAJ6C,CAIzB;;AACpB,MAAIC,KAAK,GAAG9R,IAAI,CAACuQ,GAAL,CAASpQ,MAAM,CAACwR,QAAD,CAAf,CAAZ;AACA,MAAI/V,MAAM,CAACwV,EAAP,CAAUU,KAAV,EAAiBT,GAAjB,CAAJ,EAA2B,OAAO,CAAP;AAE3B,MAAMU,MAAM,GAAG,UAAGD,KAAH,EAAWjX,KAAX,CAAiB,GAAjB,CAAf;AACA,MAAM8V,OAAO,GAAGoB,MAAM,CAAC3X,MAAP,GAAgB,CAAhB,GAAoByU,QAAQ,CAACkD,MAAM,CAAC,CAAD,CAAN,CAAUC,SAAV,CAAoB,CAApB,EAAuB,CAAvB,CAAD,CAA5B,GAA0D,CAA1E;;AACA,MAAIF,KAAK,GAAG,IAAZ,EAAkB;AACd,WAAOH,QAAQ,GAAG,CAAX,qBAAP;AACH,GAFD,MAEO;AACH,QAAIG,KAAK,IAAI,IAAT,IAAiBA,KAAK,GAAG,MAA7B,EAAqC;AACjCA,WAAK,GAAGZ,MAAM,KAAK,QAAX,GAAsBY,KAAK,CAACR,OAAN,CAAc,CAAd,CAAtB,GAAyCjB,SAAS,CAACyB,KAAK,CAACR,OAAN,CAAc,CAAd,CAAD,CAA1D;AACH,KAFD,MAEO,IAAIQ,KAAK,IAAIF,CAAT,IAAcE,KAAK,GAAGD,CAA1B,EAA6B;AAChC,UAAMI,GAAG,GAAG,CAACH,KAAK,GAAGF,CAAR,GAAY,EAAb,EAAiBN,OAAjB,CAAyBX,OAAO,GAAG,CAAV,GAAc,CAAd,GAAkB,CAA3C,CAAZ;AACAmB,WAAK,GAAGZ,MAAM,KAAK,QAAX,aAAyBe,GAAzB,wBAAqC5B,SAAS,CAAC4B,GAAD,CAA9C,WAAR;AACH,KAHM,MAGA,IAAIH,KAAK,IAAID,CAAb,EAAgB;AACnB,UAAMI,IAAG,GAAG,CAACH,KAAK,GAAGD,CAAT,EAAYP,OAAZ,CAAoBX,OAAO,GAAG,CAAV,GAAc,CAAd,GAAkB,CAAtC,CAAZ;;AACAmB,WAAK,GAAGZ,MAAM,KAAK,QAAX,aAAyBe,IAAzB,wBAAqC5B,SAAS,CAAC4B,IAAD,CAA9C,WAAR;AACH;;AACD,WAAON,QAAQ,GAAG,CAAX,GAAeG,KAAf,cAA2BA,KAA3B,CAAP;AACH;AACJ,CAxBM;AA0BP;;;;;;;AAMO,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD,EAAgB;AACzC,MAAI,CAACA,UAAL,EAAiB;AACjB,MAAIC,OAAO,GAAGpS,IAAI,CAACuQ,GAAL,CAASpQ,MAAM,CAACgS,UAAD,CAAf,CAAd;AACA,MAAIvW,MAAM,CAACwV,EAAP,CAAUgB,OAAV,EAAmBf,GAAnB,CAAJ,EAA6B;AAE7B,MAAMY,GAAG,GAAGG,OAAO,GAAG,GAAtB;;AACA,MAAIH,GAAG,GAAG,IAAV,EAAgB;AACZG,WAAO,SAAP;AACH,GAFD,MAEO,IAAIH,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAG,IAAzB,EAA+B;AAClCG,WAAO,GAAGC,UAAU,CAACJ,GAAG,CAACX,OAAJ,CAAY,CAAZ,CAAD,CAApB;AACH,GAFM,MAEA,IAAIW,GAAG,IAAI,IAAX,EAAiB;AACpBG,WAAO,GAAGC,UAAU,CAACJ,GAAG,CAACX,OAAJ,CAAY,CAAZ,CAAD,CAApB;AACH;;AAED,SAAOa,UAAU,GAAG,CAAb,aAAoBC,OAApB,oBAAqCA,OAArC,MAAP;AACH,CAfM;AAiBP;;;;;;;AAMO,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACC,WAAD,EAAiB;AAC3C,MAAI,CAACA,WAAL,EAAkB,OAAO,CAAP;AAClB,MAAIC,QAAQ,GAAGxS,IAAI,CAACuQ,GAAL,CAASpQ,MAAM,CAACoS,WAAD,CAAf,CAAf;AACA,MAAI3W,MAAM,CAACwV,EAAP,CAAUoB,QAAV,EAAoBnB,GAApB,CAAJ,EAA8B,OAAO,CAAP;;AAE9B,MAAImB,QAAQ,GAAG,QAAf,EAAyB;AACrB,QAAIA,QAAQ,GAAG,GAAf,EAAoB;AAChBA,cAAQ,GAAGA,QAAQ,CAACjB,WAAT,CAAqB,CAArB,CAAX;AACH,KAFD,MAEO,IAAIiB,QAAQ,IAAI,GAAZ,IAAmBA,QAAQ,GAAG,GAAlC,EAAuC;AAC1CA,cAAQ,GAAGA,QAAQ,CAAClB,OAAT,CAAiB,CAAjB,CAAX;AACH,KAFM,MAEA,IAAIkB,QAAQ,IAAI,GAAZ,IAAmBA,QAAQ,GAAG,QAAlC,EAA4C;AAC/CA,cAAQ,GAAGA,QAAQ,CAAClB,OAAT,CAAiB,CAAjB,CAAX;AACH;;AACD,WAAOiB,WAAW,GAAG,CAAd,GAAkBC,QAAlB,GAA6B,CAACA,QAArC;AACH,GATD,MASO;AACH,QAAMhB,UAAU,GAAG,UAAGgB,QAAH,EAAcpY,MAAd,GAAuB,CAA1C;AACA,qBAAUoY,QAAQ,GAAGxS,IAAI,CAACyR,GAAL,CAAS,EAAT,EAAaD,UAAb,EAAyBF,OAAzB,CAAiC,CAAjC,CAArB,cAA4DiB,WAAW,GAAG,CAAd,GAAkBf,UAAlB,GAA+B,CAACA,UAA5F;AACH;AACJ,CAlBM;AAoBP;;;;;;;AAMO,IAAMiB,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAUC,QAAV,EAAuB;AAC9C,MAAI,CAACA,QAAL,EAAe,OAAOA,QAAP;AACf,SAAOA,QAAQ,KAAK,CAAb,GAAiB,CAAjB,GAAqBD,OAAO,GAAGC,QAAtC;AACH,CAHM;AAKP;;;;;;;AAMO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACjG,MAAD,EAAY;AAC5B,SAAOA,MAAM,CAACjP,OAAP,CAAe,gBAAf,EAAiC,EAAjC,CAAP;AACH,CAFM;AAIP;;;;;;;AAMO,IAAMmV,UAAU,GAAG,SAAbA,UAAa,CAAC3U,GAAD,EAAS;AAC/B,MAAIkO,GAAG,GAAG,IAAIyB,MAAJ,CAAW,UAAU3P,GAAV,GAAgB,eAA3B,CAAV;AACA,MAAI6S,MAAM,GAAGrW,MAAM,CAACC,QAAP,CAAgBmY,MAAhB,CAAuB9E,MAAvB,CAA8B,CAA9B,EAAiCwB,KAAjC,CAAuCpD,GAAvC,CAAb;AACA,SAAO2E,MAAM,GAAGgC,kBAAkB,CAAChC,MAAM,CAAC,CAAD,CAAP,CAArB,GAAmC,IAAhD;AACH,CAJM;AAMP;;;;;;;AAMO,IAAMiC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AACnC,MAAMC,SAAS,GAAG,EAAlB;;AACA,OAAK,IAAIhV,GAAT,IAAgB+U,KAAhB,EAAuB;AACnB,QAAI/U,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,UAA7B,IAA2CA,GAAG,KAAK,OAAnD,IAA8DA,GAAG,KAAK,eAAtE,IAAyFA,GAAG,KAAK,OAAjG,IAA4GA,GAAG,KAAK,UAAxH,EAAoI;AAChIgV,eAAS,CAAChV,GAAD,CAAT,GAAiB+U,KAAK,CAAC/U,GAAD,CAAtB;AACH;AACJ;;AAED,SAAOgV,SAAP;AACH,CATM;AAWP;;;;;;;AAMO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,WAAD,EAAiB;AACxC;AACA,SAAOlR,aAAM,CAACkR,WAAD,CAAN,GAAuBpN,OAAO,CAACzF,IAAI,CAAC4B,KAAL,CAAWiR,WAAX,CAAD,CAAP,GAAmC7S,IAAI,CAAC4B,KAAL,CAAWiR,WAAX,CAAnC,GAA6D,EAApF,GAA0F,EAAjG;AACH,CAHM;AAKP;;;;;;;AAMO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,UAAD,EAAapV,GAAb,EAAkBqV,UAAlB,EAAiC;AAC3D,MAAMC,OAAO,GAAGD,UAAU,IAAI,EAA9B,CAD2D,CAE3D;;AACA,SAAOrR,aAAM,CAACoR,UAAD,CAAN,GAAsB/S,IAAI,CAAC4B,KAAL,CAAWmR,UAAX,EAAuBpV,GAAvB,KAA+BsV,OAArD,GAAgEA,OAAvE;AACH,CAJM;AAMP;;;;;;AAKO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC9B,MAAI/Y,MAAM,CAACgZ,WAAX,EAAwB;AACpB,WAAO;AACHC,UAAI,EAAEjZ,MAAM,CAACgZ,WADV;AAEHE,SAAG,EAAElZ,MAAM,CAACmZ;AAFT,KAAP;AAIH,GALD,MAKO;AACH,QAAMC,EAAE,GAAG5Q,QAAQ,CAAC6Q,gBAAT,IAA6B7Q,QAAQ,CAAC8Q,eAAjD;AACA,WAAO;AACHL,UAAI,EAAEG,EAAE,CAACG,UADN;AAEHL,SAAG,EAAEE,EAAE,CAACI;AAFL,KAAP;AAIH;AACJ,CAbM;AAeP;;;;;;AAKO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC9B,MAAIzZ,MAAM,CAAC0Z,WAAX,EAAwB;AACpB,WAAO;AACHrI,WAAK,EAAErR,MAAM,CAAC2Z,UADX;AAEHvI,YAAM,EAAEpR,MAAM,CAAC0Z;AAFZ,KAAP;AAIH,GALD,MAKO;AACH,QAAIlR,QAAQ,CAACoR,UAAT,KAAwB,CAA5B,EAA+B;AAC3B,aAAO;AACHvI,aAAK,EAAE7I,QAAQ,CAAC8Q,eAAT,CAAyBO,WAD7B;AAEHzI,cAAM,EAAE5I,QAAQ,CAAC8Q,eAAT,CAAyBQ;AAF9B,OAAP;AAIH,KALD,MAKO;AACH,aAAO;AACHzI,aAAK,EAAE7I,QAAQ,CAAC4B,IAAT,CAAcyP,WADlB;AAEHzI,cAAM,EAAE5I,QAAQ,CAAC4B,IAAT,CAAc0P;AAFnB,OAAP;AAIH;AACJ;AACJ,CAnBM;AAqBP;;;;;;AAKO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAS;AAClC,SAAO;AACHd,OAAG,EAAEc,GAAG,CAACC,qBAAJ,GAA4Bf,GAA5B,GAAkCH,YAAY,GAAGG,GADnD;AAEHD,QAAI,EAAEe,GAAG,CAACC,qBAAJ,GAA4BhB,IAA5B,GAAmCF,YAAY,GAAGE,IAFrD;AAGHiB,UAAM,EAAEF,GAAG,CAACC,qBAAJ,GAA4BC,MAA5B,GAAqCnB,YAAY,GAAGG,GAHzD;AAIHiB,SAAK,EAAEH,GAAG,CAACC,qBAAJ,GAA4BE,KAA5B,GAAoCpB,YAAY,GAAGE,IAJvD;AAKH7H,UAAM,EAAE4I,GAAG,CAACC,qBAAJ,GAA4B7I,MALjC;AAMHC,SAAK,EAAE2I,GAAG,CAACC,qBAAJ,GAA4B5I;AANhC,GAAP;AAQH,CATM;AAWP;;;;;;AAKO,IAAM+I,WAAW,GAAG,SAAdA,WAAc,CAAC3K,KAAD,EAAW;AAClC,MAAM2C,CAAC,GAAG3C,KAAK,IAAIzP,MAAM,CAACyP,KAA1B;AACA,MAAM4K,OAAO,GAAG7R,QAAQ,CAAC8Q,eAAT,CAAyBC,UAAzB,IAAuC/Q,QAAQ,CAAC4B,IAAT,CAAcmP,UAArE;AACA,MAAMe,OAAO,GAAG9R,QAAQ,CAAC8Q,eAAT,CAAyBE,SAAzB,IAAsChR,QAAQ,CAAC4B,IAAT,CAAcoP,SAApE;AACA,SAAO;AACHe,KAAC,EAAEnI,CAAC,CAACoI,KAAF,IAAWpI,CAAC,CAACqI,OAAF,GAAYJ,OADvB;AAEHlD,KAAC,EAAE/E,CAAC,CAACsI,KAAF,IAAWtI,CAAC,CAACuI,OAAF,GAAYL;AAFvB,GAAP;AAIH,CARM;AAUP;;;;;;;AAMO,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACvL,QAAD,EAAc;AACtC,MAAIwL,eAAe,GAAG9B,YAAY,GAAGG,GAArC;;AAEA,MAAM4B,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,QAAMC,cAAc,GAAGhC,YAAY,GAAGG,GAAtC;AACA,QAAM8B,KAAK,GAAGD,cAAc,GAAGF,eAA/B;AACA,QAAIG,KAAK,KAAK,CAAd,EAAiB,OAAO,KAAP;AACjB3L,YAAQ,CAACgD,IAAT,CAAc,KAAd,EAAoB2I,KAAK,GAAG,CAAR,GAAY,MAAZ,GAAqB,IAAzC;AACAH,mBAAe,GAAGE,cAAlB;AACH,GAND;;AAOA/a,QAAM,CAACib,gBAAP,CAAwB,QAAxB,EAAkCH,UAAlC,EAA8C,KAA9C;AAEA,SAAOA,UAAP;AACH,CAbM;AAeP;;;;;;AAKO,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAAC9R,MAAD,EAAY;AAAA,MACzBxG,IADyB,GACIwG,MADJ,CACzBxG,IADyB;AAAA,MACnBuY,EADmB,GACI/R,MADJ,CACnB+R,EADmB;AAAA,MACfC,IADe,GACIhS,MADJ,CACfgS,IADe;AAAA,MACT/L,QADS,GACIjG,MADJ,CACTiG,QADS;AAGjC,MAAI,OAAOzM,IAAP,KAAgB,WAApB,EAAiC,MAAMgJ,KAAK,CAAC,kBAAD,CAAX;AACjC,MAAI,OAAOuP,EAAP,KAAc,WAAlB,EAA+B,MAAMvP,KAAK,CAAC,gBAAD,CAAX;AAC/B,MAAI,CAACyD,QAAL,EAAe,MAAMzD,KAAK,CAAC,sBAAD,CAAX;AAEf,MAAMyP,QAAQ,GAAG1D,UAAU,CAAC/U,IAAD,CAA3B;AACA,MAAM0Y,MAAM,GAAG3D,UAAU,CAACwD,EAAD,CAAzB;AACA,MAAMI,SAAS,GAAG5D,UAAU,CAACyD,IAAD,CAA5B;AACA,MAAII,UAAU,GAAGH,QAAjB;AAEArb,QAAM,CAACyb,qBAAP,GAA+Bzb,MAAM,CAACyb,qBAAP,IAAgCzb,MAAM,CAAC0b,wBAAvC,IAAmE1b,MAAM,CAAC2b,2BAA1E,IAAyG3b,MAAM,CAAC4b,uBAA/I;;AAEA,WAASC,cAAT,GAA2B;AACvB;AACA,QAAI/M,KAAK,GAAG,IAAZ,CAFuB,CAEN;;AACjB,QAAIgN,aAAa,GAAG,IAApB,CAHuB,CAGE;;AACzB,QAAId,KAAK,GAAG,CAAZ,CAJuB,CAIT;;AACd,WAAO,SAASnU,GAAT,CAAciB,SAAd,EAAyB;AAAA;;AAC5B,UAAIsT,IAAI,KAAK,CAAT,IAAc,CAACA,IAAnB,EAAyB;AAAE;AACvB,YAAMW,eAAe,GAAGzW,IAAI,CAACuQ,GAAL,CAAS2F,UAAU,GAAGF,MAAtB,CAAxB;AACA,YAAMU,MAAM,GAAID,eAAe,GAAG,CAAlB,IAAuBP,UAAU,GAAG,CAAb,GAAiB,CAAzC,GAA+CO,eAAe,GAAGP,UAAU,GAAG,CAA/B,GAAmCO,eAAnC,GAAqDP,UAAU,GAAG,CAAjH,GAAsH,CAArI;;AAEA,YAAMS,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB5M,kBAAQ,CAACgD,IAAT,CAAc,MAAd,EAAoBmJ,UAApB;AACA,cAAIA,UAAU,KAAKF,MAAf,IAAyBE,UAAU,GAAG,CAA1C,EAA6C,OAAO,KAAP;AAC7CC,+BAAqB,CAAC5U,GAAD,CAArB;AACH,SAJD;;AAKA,YAAIwU,QAAQ,GAAGC,MAAf,EAAuB;AACnBE,oBAAU,GAAGA,UAAU,GAAGQ,MAA1B;;AACA,cAAIR,UAAU,IAAIF,MAAlB,EAA0B;AACtBW,yBAAa;AAChB;AACJ;;AACD,YAAIZ,QAAQ,GAAGC,MAAf,EAAuB;AACnBE,oBAAU,GAAGA,UAAU,GAAGQ,MAA1B;;AACA,cAAIR,UAAU,IAAIF,MAAlB,EAA0B;AACtBW,yBAAa;AAChB;AACJ;AACJ,OArBD,MAqBO;AACH;AACA,YAAInN,KAAK,KAAK,IAAd,EAAoB;AAChBA,eAAK,GAAGhH,SAAR;AACAgU,uBAAa,GAAGhU,SAAhB;AACH;;AACDkT,aAAK,GAAGlT,SAAS,GAAGgU,aAApB,CANG,CAOH;AAEA;AACA;AACA;AACA;AACA;;AACA,YAAMI,aAAa,GAAG5W,IAAI,CAACuQ,GAAL,CAASwF,QAAQ,GAAGC,MAApB,CAAtB;AACA,YAAMa,KAAK,GAAGZ,SAAS,KAAK,CAAd,GAAkBW,aAAa,GAAGX,SAAhB,GAA4B,IAA9C,GAAqD,CAAnE;AACA,YAAMa,GAAG,GAAGpB,KAAK,KAAK,CAAV,GAAc,OAAOA,KAArB,GAA6B,CAAzC;AACA,YAAMqB,iBAAiB,GAAID,GAAG,KAAK,CAAR,IAAaD,KAAK,KAAK,CAAxB,GAA6BA,KAAK,GAAGC,GAArC,GAA2C,CAArE,CAjBG,CAmBH;;AACA,YAAME,QAAQ,GAAGhX,IAAI,CAACuQ,GAAL,CAAS2F,UAAU,GAAGF,MAAtB,IAAgCe,iBAAhC,GAAoDA,iBAApD,GAAwE/W,IAAI,CAACuQ,GAAL,CAAS2F,UAAU,GAAGF,MAAtB,CAAzF,CApBG,CAsBH;;AACA,YAAIC,SAAS,GAAGP,KAAhB,EAAuB;AACnBQ,oBAAU,GAAGF,MAAb;AACAjM,kBAAQ,CAACgD,IAAT,CAAc,IAAd,EAAoBmJ,UAApB;AACA;AACH,SA3BE,CA6BH;;;AACA,YAAMS,cAAa,GAAG,SAAhBA,cAAgB,GAAM;AACxB5M,kBAAQ,CAACgD,IAAT,CAAc,MAAd,EAAoBmJ,UAApB;AACA,cAAIA,UAAU,KAAKF,MAAnB,EAA2B,OAAO,KAAP;AAC3BQ,uBAAa,GAAGhU,SAAhB;AACA2T,+BAAqB,CAAC5U,GAAD,CAArB;AACH,SALD,CA9BG,CAqCH;;;AACA,YAAIwU,QAAQ,GAAGC,MAAf,EAAuB;AACnBE,oBAAU,GAAGA,UAAU,GAAGc,QAA1B;;AACA,cAAId,UAAU,IAAIF,MAAlB,EAA0B;AACtBW,0BAAa;AAChB;AACJ,SA3CE,CA6CH;;;AACA,YAAIZ,QAAQ,GAAGC,MAAf,EAAuB;AACnBE,oBAAU,GAAGA,UAAU,GAAGc,QAA1B;;AACA,cAAId,UAAU,IAAIF,MAAlB,EAA0B;AACtBW,0BAAa;AAChB;AACJ;AACJ;AACJ,KA3ED;AA4EH;;AAEDR,uBAAqB,CAACI,cAAc,EAAf,CAArB;AACH,CAlGM;AAoGP;;;;;;;;;;AASO,IAAMU,WAAW,GAAG,SAAdA,WAAc,GAAa;AACpC,MAAIC,IAAJ;AACA,MAAIpB,IAAJ;AACA,MAAIqB,gBAAgB,GAAG;AAAE;AACrBC,OAAG,EAAE;AADc,GAAvB;;AAGA,MAAI,8DAAmB,QAAnB,IAA+B,8DAAmB,QAAtD,EAAgE;AAC5DtB,QAAI,mDAAJ;AACH,GAFD,MAEO;AACHoB,QAAI,mDAAJ;AACApB,QAAI,mDAAJ;AACA,0DAAaqB,gBAAgB,GAAGvb,MAAM,CAACC,MAAP,CAAcsb,gBAAd,mDAAnB;AAChB;;AACDvB,WAAS,CAAC;AACNtY,QAAI,EAAE4F,QAAQ,CAAC8Q,eAAT,CAAyBE,SAAzB,IAAsChR,QAAQ,CAAC4B,IAAT,CAAcoP,SADpD;AAEN2B,MAAE,EAAEqB,IAAI,GAAIC,gBAAgB,CAACC,GAAjB,GAAuB3C,aAAa,CAACyC,IAAD,CAAb,CAAoBtD,GAApB,GAA0BuD,gBAAgB,CAACC,GAAlE,GAAwE3C,aAAa,CAACyC,IAAD,CAAb,CAAoBtD,GAAhG,GAAuG,CAFzG;AAGNkC,QAAI,EAAEA,IAHA;AAIN/L,YAAQ,EAAE,kBAAUmM,UAAV,EAAsB;AAC5BhT,cAAQ,CAAC8Q,eAAT,CAAyBE,SAAzB,GAAqCgC,UAArC;AACAhT,cAAQ,CAAC4B,IAAT,CAAcoP,SAAd,GAA0BgC,UAA1B;AACH;AAPK,GAAD,CAAT;AASH,CAtBM;AAwBP;;;;;;AAKO,IAAM3N,kBAAW,GAAG,SAAdA,WAAc,CAAU0M,CAAV,EAAapD,CAAb,EAAgB;AACvC,MAAI1X,CAAJ;AACA,MAAIkd,CAAJ;AACA,MAAIC,SAAJ;AACA,MAAIC,UAAJ;;AAEA,WAASC,eAAT,CAA0BvC,CAA1B,EAA6BpD,CAA7B,EAAgC;AAC5B,QAAI4F,CAAJ,CAD4B,CAG5B;AACA;;AACA,QAAIC,KAAK,CAACzC,CAAD,CAAL,IAAYyC,KAAK,CAAC7F,CAAD,CAAjB,IAAwB,OAAOoD,CAAP,KAAa,QAArC,IAAiD,OAAOpD,CAAP,KAAa,QAAlE,EAA4E,OAAO,IAAP,CALhD,CAO5B;AACA;AACA;;AACA,QAAIoD,CAAC,KAAKpD,CAAV,EAAa,OAAO,IAAP,CAVe,CAY5B;AACA;AACA;;AACA,QAAK,OAAOoD,CAAP,KAAa,UAAb,IAA2B,OAAOpD,CAAP,KAAa,UAAzC,IACCoD,CAAC,YAAYrV,IAAb,IAAqBiS,CAAC,YAAYjS,IADnC,IAECqV,CAAC,YAAYpH,MAAb,IAAuBgE,CAAC,YAAYhE,MAFrC,IAGCoH,CAAC,YAAY0C,MAAb,IAAuB9F,CAAC,YAAY8F,MAHrC,IAIC1C,CAAC,YAAY9U,MAAb,IAAuB0R,CAAC,YAAY1R,MAJzC,EAIkD;AAC9C,aAAO8U,CAAC,CAACpX,QAAF,OAAiBgU,CAAC,CAAChU,QAAF,EAAxB;AACH,KArB2B,CAuB5B;;;AACA,QAAI,EAAEoX,CAAC,YAAYrZ,MAAb,IAAuBiW,CAAC,YAAYjW,MAAtC,CAAJ,EAAmD,OAAO,KAAP;AAEnD,QAAIqZ,CAAC,CAAC2C,aAAF,CAAgB/F,CAAhB,KAAsBA,CAAC,CAAC+F,aAAF,CAAgB3C,CAAhB,CAA1B,EAA8C,OAAO,KAAP;AAE9C,QAAIA,CAAC,CAAC4C,WAAF,KAAkBhG,CAAC,CAACgG,WAAxB,EAAqC,OAAO,KAAP;AAErC,QAAI5C,CAAC,CAAC9W,SAAF,KAAgB0T,CAAC,CAAC1T,SAAtB,EAAiC,OAAO,KAAP,CA9BL,CAgC5B;;AACA,QAAImZ,SAAS,CAACpW,OAAV,CAAkB+T,CAAlB,IAAuB,CAAC,CAAxB,IAA6BsC,UAAU,CAACrW,OAAX,CAAmB2Q,CAAnB,IAAwB,CAAC,CAA1D,EAA6D,OAAO,KAAP,CAjCjC,CAmC5B;AACA;;AACA,SAAK4F,CAAL,IAAU5F,CAAV,EAAa;AACT,UAAIA,CAAC,CAACiG,cAAF,CAAiBL,CAAjB,MAAwBxC,CAAC,CAAC6C,cAAF,CAAiBL,CAAjB,CAA5B,EAAiD;AAC7C,eAAO,KAAP;AACH,OAFD,MAEO,IAAI,iBAAO5F,CAAC,CAAC4F,CAAD,CAAR,uBAAuBxC,CAAC,CAACwC,CAAD,CAAxB,CAAJ,EAAiC;AACpC,eAAO,KAAP;AACH;AACJ;;AAED,SAAKA,CAAL,IAAUxC,CAAV,EAAa;AACT,UAAIpD,CAAC,CAACiG,cAAF,CAAiBL,CAAjB,MAAwBxC,CAAC,CAAC6C,cAAF,CAAiBL,CAAjB,CAA5B,EAAiD;AAC7C,eAAO,KAAP;AACH,OAFD,MAEO,IAAI,iBAAO5F,CAAC,CAAC4F,CAAD,CAAR,uBAAuBxC,CAAC,CAACwC,CAAD,CAAxB,CAAJ,EAAiC;AACpC,eAAO,KAAP;AACH;;AACD,+BAAgBxC,CAAC,CAACwC,CAAD,CAAjB;AACI,aAAK,QAAL;AACA,aAAK,UAAL;AACIH,mBAAS,CAACjP,IAAV,CAAe4M,CAAf;AACAsC,oBAAU,CAAClP,IAAX,CAAgBwJ,CAAhB;AACA,cAAI,CAAC2F,eAAe,CAACvC,CAAC,CAACwC,CAAD,CAAF,EAAO5F,CAAC,CAAC4F,CAAD,CAAR,CAApB,EAAkC,OAAO,KAAP;AAClCH,mBAAS,CAACS,GAAV;AACAR,oBAAU,CAACQ,GAAX;AACA;;AACJ;AACI,cAAI9C,CAAC,CAACwC,CAAD,CAAD,KAAS5F,CAAC,CAAC4F,CAAD,CAAd,EAAmB,OAAO,KAAP;AACnB;AAXR;AAaH;;AACD,WAAO,IAAP;AACH;;AAED,MAAIO,SAAS,CAAC5d,MAAV,GAAmB,CAAvB,EAA0B;AACtB,WAAO,IAAP,CADsB,CAEtB;AACA;AACH;;AACD,OAAKD,CAAC,GAAG,CAAJ,EAAOkd,CAAC,GAAGW,SAAS,CAAC5d,MAA1B,EAAkCD,CAAC,GAAGkd,CAAtC,EAAyCld,CAAC,EAA1C,EAA8C;AAC1Cmd,aAAS,GAAG,EAAZ,CAD0C,CAC3B;;AACfC,cAAU,GAAG,EAAb;AACA,QAAI,CAACC,eAAe,CAACQ,SAAS,CAAC,CAAD,CAAV,EAAeA,SAAS,CAAC7d,CAAD,CAAxB,CAApB,EAAkD,OAAO,KAAP;AACrD;;AACD,SAAO,IAAP;AACH,CArFM;AAuFP;;;;;;;AAMO,IAAM8d,gBAAS,GAAG,SAAZA,SAAY,GAAgB;AACrC,MAAMnW,QAAQ,GAAG,SAAXA,QAAW,CAAA8K,GAAG;AAAA,WAAIA,GAAG,IAAI,iBAAOA,GAAP,MAAe,QAA1B;AAAA,GAApB;;AADqC,oCAAZsL,OAAY;AAAZA,WAAY;AAAA;;AAGrC,SAAOA,OAAO,CAACC,MAAR,CAAe,UAACC,IAAD,EAAOxL,GAAP,EAAe;AACjChR,UAAM,CAACkM,IAAP,CAAY8E,GAAZ,EAAiByL,OAAjB,CAAyB,UAAAna,GAAG,EAAI;AAC5B,UAAMoa,IAAI,GAAGF,IAAI,CAACla,GAAD,CAAjB;AACA,UAAMqa,IAAI,GAAG3L,GAAG,CAAC1O,GAAD,CAAhB;;AAEA,UAAIT,KAAK,CAACuI,OAAN,CAAcsS,IAAd,KAAuB7a,KAAK,CAACuI,OAAN,CAAcuS,IAAd,CAA3B,EAAgD;AAC5CH,YAAI,CAACla,GAAD,CAAJ,GAAYoa,IAAI,CAACE,MAAL,OAAAF,IAAI,8BAAWC,IAAX,EAAhB;AACH,OAFD,MAEO,IAAIzW,QAAQ,CAACwW,IAAD,CAAR,IAAkBxW,QAAQ,CAACyW,IAAD,CAA9B,EAAsC;AACzCH,YAAI,CAACla,GAAD,CAAJ,GAAY+Z,SAAS,CAACK,IAAD,EAAOC,IAAP,CAArB;AACH,OAFM,MAEA;AACHH,YAAI,CAACla,GAAD,CAAJ,GAAYqa,IAAZ;AACH;AACJ,KAXD;AAaA,WAAOH,IAAP;AACH,GAfM,EAeJ,EAfI,CAAP;AAgBH,CAnBM;AAqBP;;;;;;AAKO,IAAMK,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AACpC,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,OAAO,GAAGF,IAAI,CAACE,OAAnB;;AACA,MAAI,CAACF,IAAI,CAACC,KAAV,EAAiB;AACb,QAAIE,UAAU,GAAGH,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,MAA8B,CAAC,CAA/B,GAAmC,CAAnC,GAAuCwX,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,IAA4B,CAApF;AACA,QAAI4X,QAAQ,GAAGJ,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,MAA8B,CAAC,CAA/B,GAAmC,CAAnC,GAAuCwX,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,CAAtD;AACAyX,SAAK,GAAGD,IAAI,CAACE,OAAL,CAAa5G,SAAb,CAAuB6G,UAAvB,EAAmCC,QAAnC,CAAR;AACAF,WAAO,GAAGF,IAAI,CAACE,OAAL,CAAa5G,SAAb,CAAuB8G,QAAQ,GAAG,CAAlC,CAAV;AACH,GALD,MAKO;AACHH,SAAK,GAAGD,IAAI,CAACC,KAAb;AACAC,WAAO,GAAGF,IAAI,CAACE,OAAf;AACH;;AAED,SAAO;AACHD,SAAK,EAALA,KADG;AAEHC,WAAO,EAAPA;AAFG,GAAP;AAIH,CAjBM;AAmBP;;;;;;AAKO,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAAC/L,GAAD,EAAS;AAChC,SAAO;AACHgM,OAAG,EAAEhZ,IAAI,CAACgZ,GAAL,CAASC,KAAT,CAAe,IAAf,EAAqBjM,GAArB,CADF;AAEHkM,OAAG,EAAElZ,IAAI,CAACkZ,GAAL,CAASD,KAAT,CAAe,IAAf,EAAqBjM,GAArB;AAFF,GAAP;AAIH,CALM;AAOP;;;;;;AAKO,IAAMmM,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC3I,GAAD,EAAS;AACrC,MAAM4I,MAAM,GAAGjZ,MAAM,CAACqQ,GAAD,CAArB;AACA,MAAM6I,CAAC,GAAGD,MAAM,CAACE,aAAP,GAAuB9J,KAAvB,CAA6B,0BAA7B,CAAV;AACA,SAAO4J,MAAM,CAAC9H,OAAP,CAAetR,IAAI,CAACgZ,GAAL,CAAS,CAAT,EAAY,CAACK,CAAC,CAAC,CAAD,CAAD,IAAQ,EAAT,EAAajf,MAAb,GAAsBif,CAAC,CAAC,CAAD,CAAnC,CAAf,CAAP;AACH,CAJM;AAMP;;;;;;AAKO,IAAME,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAOpf,MAAP,EAAkB;AAC1C,MAAIof,IAAI,CAAC9b,OAAL,CAAa,eAAb,EAA8B,IAA9B,EAAoCtD,MAApC,IAA8CA,MAAlD,EAA0D;AACtD,WAAOof,IAAP;AACH,GAFD,MAEO;AACH,QAAIC,OAAO,GAAG,CAAd;AACA,QAAIC,UAAU,GAAG,EAAjB;;AACA,SAAK,IAAIvf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqf,IAAI,CAACpf,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,UAAI,eAAeyR,IAAf,CAAoB4N,IAAI,CAACrf,CAAD,CAAxB,CAAJ,EAAkC;AAC9Bsf,eAAO,IAAI,CAAX;AACH,OAFD,MAEO;AACHA,eAAO,IAAI,CAAX;AACH;;AACD,UAAIA,OAAO,GAAGrf,MAAd,EAAsB;AAClB;AACH,OAFD,MAEO;AACHsf,kBAAU,IAAIF,IAAI,CAACrf,CAAD,CAAlB;AACH;AACJ;;AACD,WAAOuf,UAAU,GAAG,KAApB;AACH;AACJ,CApBM;AAsBP;;;;;;AAKO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACH,IAAD;AAAA,SAAUA,IAAI,CAAC9b,OAAL,CAAa,eAAb,EAA8B,IAA9B,EAAoCtD,MAA9C;AAAA,CAAnB;AAEP;;;;;;AAKO,IAAMwf,eAAe,GAAG,SAAlBA,eAAkB,CAAC1b,GAAD,EAAS;AACpC,MAAI,CAACA,GAAL,EAAU;AACV,MAAM2b,SAAS,GAAG,CAAC;AACf3T,QAAI,EAAE,GADS;AAEftI,UAAM,EAAE;AAFO,GAAD,EAGf;AACCsI,QAAI,EAAE,GADP;AAECtI,UAAM,EAAE;AAFT,GAHe,EAMf;AACCsI,QAAI,EAAE,GADP;AAECtI,UAAM,EAAE;AAFT,GANe,EASf;AACCsI,QAAI,EAAE,GADP;AAECtI,UAAM,EAAE;AAFT,GATe,EAYf;AACCsI,QAAI,EAAE,GADP;AAECtI,UAAM,EAAE;AAFT,GAZe,CAAlB;AAgBA,SAAOM,GAAG,CAACR,OAAJ,CAAY,UAAZ,EAAwB,UAACoc,CAAD,EAAI9R,KAAJ,EAAWxK,GAAX,EAAmB;AAC9C,mCAAgBqc,SAAhB,kCAA2B;AAAtB,UAAM5L,CAAC,kBAAP;AACD,UAAIA,CAAC,CAAC/H,IAAF,KAAW4T,CAAf,EAAkB,OAAO7L,CAAC,CAACrQ,MAAT;AACrB;AACJ,GAJM,CAAP;AAKH,CAvBM;AAyBP;;;;;AAIO,IAAMqM,IAAI,GAAG,SAAPA,IAAO,GAAM;AACtB,SAAO,uCAAuCvM,OAAvC,CAA+C,OAA/C,EAAwD,UAAUqc,CAAV,EAAa;AACxE,QAAMC,CAAC,GAAGha,IAAI,CAAC6C,MAAL,KAAgB,EAAhB,GAAqB,CAA/B;AACA,QAAMoX,CAAC,GAAGF,CAAC,KAAK,GAAN,GAAYC,CAAZ,GAAiBA,CAAC,GAAG,GAAJ,GAAU,GAArC;AACA,WAAOC,CAAC,CAACpc,QAAF,CAAW,EAAX,CAAP;AACH,GAJM,CAAP;AAKH,CANM;AAQP;;;;;;;;;;;;;AAYO,IAAMqc,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAMC,KAAN,EAAgB;AACnC,MAAMC,KAAK,GAAG,iEAAiExf,KAAjE,CAAuE,EAAvE,CAAd;AACA,MAAIoP,IAAI,GAAG,EAAX;AACA,MAAI9P,CAAJ;AACAigB,OAAK,GAAGA,KAAK,IAAIC,KAAK,CAACjgB,MAAvB;;AAEA,MAAI+f,GAAJ,EAAS;AACL;AACA,SAAKhgB,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGggB,GAAhB,EAAqBhgB,CAAC,EAAtB;AAA0B8P,UAAI,CAAC9P,CAAD,CAAJ,GAAUkgB,KAAK,CAAC,IAAIra,IAAI,CAAC6C,MAAL,KAAgBuX,KAArB,CAAf;AAA1B;AACH,GAHD,MAGO;AACH;AACA,QAAIJ,CAAJ,CAFG,CAIH;;AACA/P,QAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,EAAD,CAAJ,GAAWA,IAAI,CAAC,EAAD,CAAJ,GAAWA,IAAI,CAAC,EAAD,CAAJ,GAAW,GAA3C;AACAA,QAAI,CAAC,EAAD,CAAJ,GAAW,GAAX,CANG,CAQH;AACA;;AACA,SAAK9P,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,EAAhB,EAAoBA,CAAC,EAArB,EAAyB;AACrB,UAAI,CAAC8P,IAAI,CAAC9P,CAAD,CAAT,EAAc;AACV6f,SAAC,GAAG,IAAIha,IAAI,CAAC6C,MAAL,KAAgB,EAAxB;AACAoH,YAAI,CAAC9P,CAAD,CAAJ,GAAUkgB,KAAK,CAAElgB,CAAC,KAAK,EAAP,GAAc6f,CAAC,GAAG,GAAL,GAAY,GAAzB,GAA+BA,CAAhC,CAAf;AACH;AACJ;AACJ;;AACD,SAAO/P,IAAI,CAACqQ,IAAL,CAAU,EAAV,CAAP;AACH,CA3BM;AA6BP;;;;;;;;AAOO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAY;AACnC,MAAI,OAAO7f,MAAP,KAAkB,WAAtB,EAAmC;;AACnC,MAAIsd,SAAS,CAAC5d,MAAV,KAAqB,CAAzB,EAA4B;AACxBM,UAAM,CAACC,QAAP,CAAgB6f,IAAhB,GAAuBxC,SAAS,CAAC,CAAD,CAAhC;AACH,GAFD,MAEO;AACH,QAAIA,SAAS,CAAC,CAAD,CAAT,KAAiB,KAAjB,IAA0BzM,IAAI,EAAlC,EAAsC7Q,MAAM,CAACC,QAAP,CAAgB6f,IAAhB,GAAuBxC,SAAS,CAAC,CAAD,CAAhC;AACtC,QAAIA,SAAS,CAAC,CAAD,CAAT,KAAiB,IAAjB,IAAyB,CAACzM,IAAI,EAAlC,EAAsC7Q,MAAM,CAACC,QAAP,CAAgB6f,IAAhB,GAAuBxC,SAAS,CAAC,CAAD,CAAhC;AACzC;AACJ,CARM;AAUP;;;;;;AAKO,IAAMyC,GAAG,GAAG,SAANA,GAAM,CAACC,WAAD,EAAiB;AAChC,SAAQA,WAAW,GAAG,EAAf,GAAqB,KAA5B;AACH,CAFM;AAIP;;;;;;;;;AAQO,IAAMC,MAAM,GAAG;AAClBvQ,KAAG,EAAE,aAAUlM,GAAV,EAAe+H,GAAf,EAAoBzC,IAApB,EAA0B;AAC3B,QAAI4J,IAAI,GAAG,IAAIxN,IAAJ,EAAX,CAD2B,CACL;;AACtB,QAAIgb,WAAW,GAAGpX,IAAI,CAACqX,OAAvB,CAF2B,CAEI;;AAC/BzN,QAAI,CAAC0N,OAAL,CAAa1N,IAAI,CAAC3K,OAAL,KAAiBmY,WAAW,GAAG,EAAd,GAAmB,IAAnB,GAA0B,IAAxD,EAH2B,CAGmC;;AAC9D1X,YAAQ,CAACyX,MAAT,GAAkBzc,GAAG,GAAG,GAAN,GAAY+H,GAAZ,GAAkB,WAAlB,GAAgCmH,IAAI,CAAC2N,WAAL,EAAhC,GAAqD,UAArD,GAAkEvX,IAAI,CAACzC,MAAzF,CAJ2B,CAIqE;AACnG,GANiB;AAOlB4D,KAAG,EAAE,aAAUzG,GAAV,EAAe;AAChB;AACA,QAAI8c,OAAO,GAAG9X,QAAQ,CAACyX,MAAT,CAAgBjd,OAAhB,CAAwB,MAAxB,EAAgC,EAAhC,CAAd,CAFgB,CAEkC;;AAClD,QAAIud,SAAS,GAAGD,OAAO,CAACngB,KAAR,CAAc,GAAd,CAAhB,CAHgB,CAGmB;;AACnC,QAAIkQ,IAAJ,CAJgB,CAIP;;AACT,SAAK,IAAI5Q,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8gB,SAAS,CAAC7gB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAAE;AACzC,UAAI6S,GAAG,GAAGiO,SAAS,CAAC9gB,CAAD,CAAT,CAAaU,KAAb,CAAmB,GAAnB,CAAV,CADuC,CACL;;AAClC,UAAIqD,GAAG,KAAK8O,GAAG,CAAC,CAAD,CAAf,EAAoB;AAAE;AAClBjC,YAAI,GAAGiC,GAAG,CAAC,CAAD,CAAV,CADgB,CACF;;AACd;AACH;AACJ;;AACD,WAAOjC,IAAP;AACH,GApBiB;AAqBlBmQ,KAAG,EAAE,aAAUhd,GAAV,EAAe;AAChB,QAAIkP,IAAI,GAAG,IAAIxN,IAAJ,EAAX,CADgB,CACM;;AACtBwN,QAAI,CAAC0N,OAAL,CAAa1N,IAAI,CAAC3K,OAAL,KAAiB,KAA9B,EAFgB,CAEqB;;AACrCS,YAAQ,CAACyX,MAAT,GAAkBzc,GAAG,GAAG,eAAN,GAAwBkP,IAAI,CAAC2N,WAAL,EAA1C,CAHgB,CAG6C;AAChE;AAGL;;;;AA5BsB,CAAf;AA+BP,IAAMI,OAAO,GAAGpgB,YAAhB;AACA,IAAMqgB,MAAM,GAAGD,OAAO,KAAK,aAA3B;AACA,IAAME,OAAO,GAAGF,OAAO,KAAK,MAA5B;AACO,IAAMG,MAAM,GAAG;AAClBC,IAAE,EAAE,YAAC1e,IAAD;AAAA,gDAAwCA,IAAI,IAAI,EAAhD;AAAA,GADc;AAElB2e,SAAO,EAAE,iBAAC3e,IAAD;AAAA,8CAAsCA,IAAI,IAAI,EAA9C;AAAA,GAFS;AAGlB4e,OAAK,EAAE,eAAC5e,IAAD;AAAA,4CAAoCA,IAAI,IAAI,EAA5C;AAAA,GAHW;AAIlB6e,SAAO,EAAE,iBAAC7e,IAAD;AAAA,4CAAoCA,IAAI,IAAI,EAA5C;AAAA,GAJS;AAKlB8e,KAAG,EAAE,aAAC9e,IAAD;AAAA,0CAAkCA,IAAI,IAAI,EAA1C;AAAA,GALa;AAMlB+e,SAAO,EAAE,iBAAC/e,IAAD;AAAA,2CAAmCA,IAAI,IAAI,EAA3C;AAAA,GANS;AAOlBgf,UAAQ,EAAE,kBAAChf,IAAD;AAAA,8CAAsCA,IAAI,IAAI,EAA9C;AAAA,GAPQ;AAQlBif,OAAK,EAAE,eAACjf,IAAD;AAAA,8CAAsCA,IAAI,IAAI,EAA9C;AAAA,GARW;AASlBkf,IAAE,EAAE,YAAClf,IAAD;AAAA,iDAAyCA,IAAI,IAAI,EAAjD;AAAA,GATc;AAUlBmf,MAAI,EAAE,cAACnf,IAAD;AAAA,6CAAqCA,IAAI,IAAI,EAA7C;AAAA,GAVY;AAWlBof,IAAE,EAAE,YAACpf,IAAD,EAAO0E,GAAP,EAAe;AACf;AACA,QAAM2a,OAAO,4BAAb;AACA,WAAOA,OAAP;AACH,GAfiB;AAgBlBC,IAAE,EAAE,YAACtf,IAAD;AAAA,qBAAaue,MAAM,GAAG5f,oBAAE,CAAC,IAAD,CAAL,GAAe6f,OAAO,GAAG,uBAAH,GAA6B,uBAAtE,SAAiGxe,IAAI,IAAI,EAAzG;AAAA,GAhBc;AAiBlBwc,GAAC,EAAE,WAACxc,IAAD,EAAO0E,GAAP,EAAe;AACd,QAAI2a,OAAO,GAAG,wBAAd,CADc,CAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,qBAAUd,MAAM,GAAG5f,oBAAE,CAAC,IAAD,CAAL,GAAe6f,OAAO,GAAG,sBAAH,GAA4Ba,OAAlE,SAA6Erf,IAAI,IAAI,EAArF;AACH,GAjCiB;AAkClBuf,MAAI,EAAE,cAACvf,IAAD,EAAO0E,GAAP,EAAe;AACjB;AACA,QAAI2a,OAAO,GAAG,0BAAd,CAFiB,CAGjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,qBAAUd,MAAM,GAAG5f,oBAAE,CAAC,IAAD,CAAL,GAAe6f,OAAO,GAAG,wBAAH,GAA8Ba,OAApE,SAA+Erf,IAAI,IAAI,EAAvF;AACH,GAnDiB;AAoDlBwf,MAAI,EAAE,cAACxf,IAAD,EAAO0E,GAAP,EAAe;AACjB;AACA,QAAI2a,OAAO,GAAG,2BAAd,CAFiB,CAGjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,qBAAUd,MAAM,GAAG5f,oBAAE,CAAC,IAAD,CAAL,GAAe6f,OAAO,GAAG,yBAAH,GAA+Ba,OAArE,SAAgFrf,IAAI,IAAI,EAAxF;AACH,GArEiB;AAsElByf,OAAK,EAAE,eAACzf,IAAD;AAAA,qBAAaue,MAAM,GAAG5f,oBAAE,CAAC,IAAD,CAAL,GAAe6f,OAAO,GAAG,0BAAH,GAAgC,0BAAzE,SAAuGxe,IAAI,IAAI,EAA/G;AAAA;AAGX;;;;AAzEsB,CAAf;AA4EA,IAAM0f,MAAM,GAAG;AAClB5D,OAAK,EAAE,uBADW;AAElB6D,UAAQ,EAAE,mHAFQ;AAGlBC,aAAW,EAAE;AAGjB;;;;AANsB,CAAf;AASA,IAAMtb,WAAW,GAAG;AACvBub,UAAQ,EAAE,eADa;AAEvBC,YAAU,EAAE,iBAFW;AAGvBC,SAAO,EAAE,cAHc;AAIvBC,UAAQ,EAAE,eAJa;AAKvBC,UAAQ,EAAE,eALa;AAMvBC,OAAK,EAAE,YANgB;AAOvBT,OAAK,EAAE,YAPgB;AAQvBU,OAAK,EAAE,YARgB;AASvBC,gBAAc,EAAE,qBATO;AAUvBC,SAAO,EAAE,cAVc;AAWvBC,YAAU,EAAE,iBAXW;AAYvBC,YAAU,EAAE,iBAZW;AAavBC,SAAO,EAAE,cAbc;AAcvBC,UAAQ,EAAE,eAda;AAevBC,UAAQ,EAAE,wBAfa;AAgBvB/Y,UAAQ,EAAE;AAGd;;;;;;;AAnB2B,CAApB;AAyBA,IAAMgZ,QAAQ,GAAG,SAAXA,QAAW,CAAC5E,OAAD,EAAU6E,OAAV,EAAmBC,KAAnB,EAA6B;AACjD,MAAIC,OAAO,GAAGD,KAAK,IAAI,SAAvB;AACA,MAAMvN,CAAC,GAAGyI,OAAO,CAAC1T,WAAR,EAAV;;AACA,MAAIc,OAAO,CAACyX,OAAD,CAAX,EAAsB;AAClB,QAAIG,UAAU,GAAGhF,OAAjB;AACA6E,WAAO,CAAC1V,GAAR,CAAY,UAAC2Q,IAAD,EAAU;AAClB,UAAImF,KAAK,GAAG,IAAIhQ,MAAJ,CAAW6K,IAAX,EAAiB,IAAjB,CAAZ;;AACA,UAAImF,KAAK,CAACjS,IAAN,CAAWgS,UAAX,CAAJ,EAA4B;AACxBA,kBAAU,GAAGA,UAAU,CAAClgB,OAAX,CAAmBmgB,KAAnB,EAA0B,wBAAwBF,OAAxB,GAAkC,aAA5D,CAAb;AACH;AACJ,KALD;AAMA,WAAOC,UAAP;AACH,GATD,MASO;AACH,QAAMxN,CAAC,GAAGqN,OAAO,CAACvY,WAAR,EAAV;AACA,QAAM4Y,OAAO,GAAG3N,CAAC,CAACjP,OAAF,CAAUkP,CAAV,CAAhB;AACA,QAAM2J,CAAC,GAAG+D,OAAO,GAAG,CAAC,CAAX,GAAelF,OAAO,CAAC5K,MAAR,CAAe8P,OAAf,EAAwBL,OAAO,CAACrjB,MAAhC,CAAf,GAAyD,EAAnE;AACA,QAAI2jB,IAAI,iCAA0BJ,OAA1B,eAAsC5D,CAAtC,YAAR;AACA,QAAI8D,KAAK,GAAG,IAAIhQ,MAAJ,CAAW4P,OAAX,EAAoB,IAApB,CAAZ;AACA,WAAO7E,OAAO,CAAClb,OAAR,CAAgBmgB,KAAhB,EAAuBE,IAAvB,CAAP;AACH;AACJ,CApBM;AAsBP;;;;;AAIO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAC1N,MAAD,EAAY;AAC/B,MAAI9S,GAAG,GAAG,EAAV;;AACA,MAAI8S,MAAM,KAAK,EAAf,EAAmB;AACf,QAAIE,GAAG,GAAGrQ,MAAM,CAACmQ,MAAD,CAAhB;;AACA,QAAIE,GAAG,IAAI,UAAX,EAAuB;AACnBhT,SAAG,GAAG,OAAO,CAACgT,GAAG,GAAG,UAAP,EAAmBc,OAAnB,CAA2B,CAA3B,CAAP,GAAuC,GAA7C;AACH,KAFD,MAEO,IAAId,GAAG,IAAI,OAAX,EAAoB;AACvBhT,SAAG,GAAG,OAAO,CAACgT,GAAG,GAAG,OAAP,EAAgBc,OAAhB,CAAwB,CAAxB,CAAP,GAAoC,GAA1C;AACH,KAFM,MAEA,IAAId,GAAG,IAAI,IAAX,EAAiB;AACpBhT,SAAG,GAAG,OAAO,CAACgT,GAAG,GAAG,OAAP,EAAgBc,OAAhB,CAAwB,CAAxB,CAAP,GAAoC,GAA1C;AACH,KAFM,MAEA,IAAId,GAAG,GAAG,CAAV,EAAa;AAChBhT,SAAG,GAAG,KAAN;AACH,KAFM,MAEA;AACHA,SAAG,GAAG,OAAQgT,GAAD,CAAMc,OAAN,CAAc,CAAd,CAAb;AACH;AACJ,GAbD,MAaO;AACH9T,OAAG,GAAG,EAAN;AACH;;AAED,SAAOA,GAAP;AACH,CApBM;AAsBP;;;;;AAIO,IAAMygB,QAAQ,GAAG,SAAXA,QAAW,CAACzN,GAAD,EAAS;AAC7B,MAAIF,MAAM,GAAG,CAACE,GAAG,IAAI,CAAR,EAAW3S,QAAX,EAAb;AACA,MAAIkT,MAAM,GAAG,EAAb;;AACA,SAAOT,MAAM,CAAClW,MAAP,GAAgB,CAAvB,EAA0B;AACtB2W,UAAM,GAAG,MAAMT,MAAM,CAACQ,KAAP,CAAa,CAAC,CAAd,CAAN,GAAyBC,MAAlC;AACAT,UAAM,GAAGA,MAAM,CAACQ,KAAP,CAAa,CAAb,EAAgBR,MAAM,CAAClW,MAAP,GAAgB,CAAhC,CAAT;AACH;;AACD,MAAIkW,MAAJ,EAAY;AACRS,UAAM,GAAGT,MAAM,GAAGS,MAAlB;AACH;;AACD,SAAOA,MAAP;AACH,CAXM;AAaP;;;;;AAIO,IAAMmN,SAAS,GAAG,SAAZA,SAAY,CAAC1gB,GAAD,EAAS;AAC9B,MAAI2gB,EAAE,GAAG,+CAAT;AACA3gB,KAAG,GAAGA,GAAG,CAACE,OAAJ,CAAYygB,EAAZ,EAAgB,UAAUC,OAAV,EAAmB;AACrC,WAAO,cAAcA,OAAd,GAAwB,oBAAxB,GAA+CA,OAA/C,GAAyD,MAAhE;AACH,GAFK,CAAN;AAGA,SAAO5gB,GAAP;AACH,CANM;AAQP;;AACO,IAAM6gB,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AACtC,MAAMC,aAAa,GAAGD,OAAO,CAACzjB,KAAR,CAAc,GAAd,CAAtB;AACA,SAAO0jB,aAAa,CAACA,aAAa,CAACnkB,MAAd,GAAuB,CAAxB,CAApB;AACH,CAHM;AAKP;;;;;AAIO,IAAMokB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACzU,QAAD,EAAc;AAC7C;AAEA,MAAIA,QAAQ,IAAI,OAAOA,QAAP,KAAoB,UAApC,EAAgD;AAC5C7C,WAAO,CAACC,GAAR,CAAY,mDAAZ;AACA,WAAO,KAAP;AACH,GAN4C,CAO7C;AACA;;;AACA,MAAI,CAACe,cAAc,CAACuW,iBAApB,EAAuC;AACnC;AACA,QAAIC,KAAK,GAAGxb,QAAQ,CAACyb,aAAT,CAAuB,OAAvB,CAAZ;AACAD,SAAK,CAACE,QAAN,GAAiB,IAAjB;AACAF,SAAK,CAACG,GAAN,GAAY,gsHAAZ;AACAH,SAAK,CAACI,IAAN;AACAJ,SAAK,CAACK,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;AACAN,SAAK,CAACO,OAAN,GAAgB,KAAhB;AACAP,SAAK,CAACQ,IAAN,GARmC,CASnC;;AACAR,SAAK,CAACS,MAAN,GAAe,YAAY;AACvB,WAAKF,OAAL,GAAe,IAAf;AACH,KAFD,CAVmC,CAanC;;;AACAP,SAAK,CAACU,SAAN,GAAkB,YAAY;AAC1B,UAAItZ,GAAG,GAAG,IAAV;;AACA,UAAI4Y,KAAK,CAACO,OAAV,EAAmB;AACf/W,sBAAc,CAACuW,iBAAf,GAAmC,MAAnC;AACA3Y,WAAG,GAAG,IAAN;AACH,OAHD,MAGO;AACHoC,sBAAc,CAACuW,iBAAf,GAAmC,OAAnC;AACA3Y,WAAG,GAAG,KAAN;AACH;;AACD,UAAIiE,QAAJ,EAAcA,QAAQ,CAACjE,GAAD,CAAR;AACjB,KAVD;AAWH,GAzBD,MAyBO;AACH;AACA;AACA,QAAIA,GAAG,GAAG,IAAV;;AACA,QAAIoC,cAAc,CAACuW,iBAAf,KAAqC,MAAzC,EAAiD;AAC7C3Y,SAAG,GAAG,IAAN;AACH,KAFD,MAEO;AACHA,SAAG,GAAG,KAAN;AACH;;AACD,QAAIiE,QAAJ,EAAcA,QAAQ,CAACjE,GAAD,CAAR;AACjB;AACJ,CA7CM;AA+CP;;;;;;AAMO,IAAMuZ,eAAe,GAAG,SAAlBA,eAAkB,CAAC7F,IAAD,EAAU;AACrC,MAAI8F,UAAU,GAAGpc,QAAQ,CAACyb,aAAT,CAAuB,UAAvB,CAAjB;AACAW,YAAU,CAACC,YAAX,CAAwB,UAAxB,EAAoC,UAApC,EAFqC,CAEW;;AAChDD,YAAU,CAAC/U,KAAX,GAAmBiP,IAAnB;AACAtW,UAAQ,CAAC4B,IAAT,CAAc0a,WAAd,CAA0BF,UAA1B;AACAA,YAAU,CAACG,MAAX;AACA,MAAM3Z,GAAG,GAAG5C,QAAQ,CAACwc,WAAT,CAAqB,MAArB,CAAZ;AACAxc,UAAQ,CAAC4B,IAAT,CAAcxB,WAAd,CAA0Bgc,UAA1B;AACApY,SAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOrB,GAAP;AACH,CAVM,C,CAYP;;AACO,IAAM6Z,SAAS,GAAG,SAAZA,SAAY,CAACniB,GAAD,EAAS;AAC9B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B,OAAO,CAAP;AAC7B,MAAIoiB,UAAU,GAAG,CAAjB;AACA,MAAIzF,GAAG,GAAG3c,GAAG,CAACpD,MAAd;AACA,MAAIylB,QAAQ,GAAG,CAAC,CAAhB;;AACA,OAAK,IAAI1lB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGggB,GAApB,EAAyBhgB,CAAC,EAA1B,EAA8B;AAC1B0lB,YAAQ,GAAGriB,GAAG,CAACmC,UAAJ,CAAexF,CAAf,CAAX;;AACA,QAAI0lB,QAAQ,IAAI,CAAZ,IAAiBA,QAAQ,IAAI,GAAjC,EAAsC;AAClCD,gBAAU,IAAI,CAAd;AACH,KAFD,MAEO;AACHA,gBAAU,IAAI,CAAd;AACH;AACJ;;AACD,SAAOA,UAAP;AACH,CAdM;AAgBP;;;;AAGO,IAAME,WAAW,GAAG,CAAC,cAAD,EAAiB,aAAjB,EAAgC,YAAhC,CAApB,C,CACP;;AACO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACxe,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GAC1BolB,WAAW,CAAC5e,OAAZ,CAAqBK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAArC,IAAyE,CAAC,CADhD,GAE1Bqe,WAAW,CAAC5e,OAAZ,CAAoBxG,MAAM,CAACC,QAAP,CAAgBsG,QAApC,IAAgD,CAAC,CAFhC;AAAA,CAAhB;AAIP;;;;AAGO,IAAM+e,aAAa,GAAG,CAAC,cAAD,EAAiB,gBAAjB,EAAmC,iBAAnC,CAAtB,C,CACP;;AACO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC1e,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GAC9BslB,aAAa,CAAC9e,OAAd,CAAuBK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAAvC,IAA2E,CAAC,CAD9C,GAE9Bue,aAAa,CAAC9e,OAAd,CAAsBxG,MAAM,CAACC,QAAP,CAAgBsG,QAAtC,IAAkD,CAAC,CAF9B;AAAA,CAApB;AAIP;;;;AAGO,IAAMif,SAAS,GAAG,CAAC,kBAAD,CAAlB,C,CACP;;AACO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC5e,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GAC9BwlB,SAAS,CAAChf,OAAV,CAAmBK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAAnC,IAAuE,CAAC,CAD1C,GAE9Bye,SAAS,CAAChf,OAAV,CAAkBxG,MAAM,CAACC,QAAP,CAAgBsG,QAAlC,IAA8C,CAAC,CAF1B;AAAA,CAApB;AAIP;;;;AAGO,IAAMmf,aAAa,GAAG,CAAC,cAAD,EAAiB,gBAAjB,EAAmC,iBAAnC,EAAsD,YAAtD,CAAtB,C,CACP;;AACO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC9e,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GAC9B0lB,aAAa,CAAClf,OAAd,CAAuBK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAAvC,IAA2E,CAAC,CAD9C,GAE9B2e,aAAa,CAAClf,OAAd,CAAsBxG,MAAM,CAACC,QAAP,CAAgBsG,QAAtC,IAAkD,CAAC,CAF9B;AAAA,CAApB;AAIP;;;;AAGO,IAAMqf,eAAe,GAAG,CAAC,gBAAD,EAAmB,kBAAnB,EAAuC,mBAAvC,CAAxB,C,CACP;;AACO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAChf,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GAChC4lB,eAAe,CAACpf,OAAhB,CAAyBK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAAzC,IAA6E,CAAC,CAD9C,GAEhC6e,eAAe,CAACpf,OAAhB,CAAwBxG,MAAM,CAACC,QAAP,CAAgBsG,QAAxC,IAAoD,CAAC,CAF9B;AAAA,CAAtB;AAIP;;;;AAGO,IAAMuf,aAAa,GAAG,CAAC,gBAAD,EAAmB,kBAAnB,EAAuC,mBAAvC,CAAtB,C,CACP;;AACO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAClf,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GAC9B8lB,aAAa,CAACtf,OAAd,CAAuBK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAAvC,IAA2E,CAAC,CAD9C,GAE9B+e,aAAa,CAACtf,OAAd,CAAsBxG,MAAM,CAACC,QAAP,CAAgBsG,QAAtC,IAAkD,CAAC,CAF9B;AAAA,CAApB;AAIP;;;;AAGO,IAAMyf,gBAAgB,GAAG,CAAC,oBAAD,EAAuB,sBAAvB,EAA+C,uBAA/C,CAAzB,C,CACP;;AACO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACpf,GAAD;AAAA,SAASA,GAAG,IAAI,OAAO7G,MAAP,KAAkB,WAAzB,GACjCgmB,gBAAgB,CAACxf,OAAjB,CAA0BK,GAAG,CAACN,QAAJ,IAAgBM,GAAG,CAACE,OAAJ,CAAY,kBAAZ,CAA1C,IAA8E,CAAC,CAD9C,GAEjCif,gBAAgB,CAACxf,OAAjB,CAAyBxG,MAAM,CAACC,QAAP,CAAgBsG,QAAzC,IAAqD,CAAC,CAF9B;AAAA,CAAvB;AAIQ;AACXH,mBAAiB,EAAjBA,wBADW;AAEXsB,eAAa,EAAbA,oBAFW;AAGXmB,WAAS,EAATA,gBAHW;AAIXiF,WAAS,EAATA,gBAJW;AAKXwC,eAAa,EAAbA,aALW;AAMXI,aAAW,EAAXA,WANW;AAOXG,MAAI,EAAJA,IAPW;AAQXG,OAAK,EAALA,KARW;AASXC,WAAS,EAATA,SATW;AAUXK,WAAS,EAATA,SAVW;AAWXC,UAAQ,EAARA,QAXW;AAYXC,SAAO,EAAPA,OAZW;AAaXM,SAAO,EAAPA,OAbW;AAcXL,OAAK,EAALA,KAdW;AAeXE,SAAO,EAAPA,OAfW;AAgBXK,OAAK,EAALA,KAhBW;AAiBXxK,QAAM,EAANA,aAjBW;AAkBX+K,eAAa,EAAbA,aAlBW;AAmBXjH,SAAO,EAAPA,OAnBW;AAoBXlE,UAAQ,EAARA,eApBW;AAqBXkN,SAAO,EAAPA,OArBW;AAsBXD,YAAU,EAAVA,UAtBW;AAuBXsB,WAAS,EAATA,SAvBW;AAwBXiC,gBAAc,EAAdA,cAxBW;AAyBXtB,aAAW,EAAXA,WAzBW;AA0BXU,aAAW,EAAXA,WA1BW;AA2BXQ,eAAa,EAAbA,aA3BW;AA4BX/E,YAAU,EAAVA,UA5BW;AA6BXe,mBAAiB,EAAjBA,iBA7BW;AA8BXuE,aAAW,EAAXA,WA9BW;AA+BXG,MAAI,EAAJA,IA/BW;AAgCXuG,kBAAgB,EAAhBA,gBAhCW;AAiCXS,iBAAe,EAAfA,eAjCW;AAkCXvK,eAAa,EAAbA,aAlCW;AAmCXU,QAAM,EAANA,MAnCW;AAoCX8C,YAAU,EAAVA,UApCW;AAqCXG,cAAY,EAAZA,YArCW;AAsCXG,aAAW,EAAXA,WAtCW;AAuCXE,gBAAc,EAAdA,cAvCW;AAwCXI,cAAY,EAAZA,YAxCW;AAyCXU,cAAY,EAAZA,YAzCW;AA0CXM,eAAa,EAAbA,aA1CW;AA2CXK,aAAW,EAAXA,WA3CW;AA4CXQ,cAAY,EAAZA,YA5CW;AA6CXM,WAAS,EAATA,SA7CW;AA8CXqB,aAAW,EAAXA,WA9CW;AA+CX1O,aAAW,EAAXA,kBA/CW;AAgDX0P,WAAS,EAATA,gBAhDW;AAiDXsE,QAAM,EAANA,MAjDW;AAkDXjB,QAAM,EAANA,MAlDW;AAmDXna,aAAW,EAAXA,WAnDW;AAoDXoY,cAAY,EAAZA,YApDW;AAqDXI,YAAU,EAAVA,UArDW;AAsDXZ,aAAW,EAAXA,WAtDW;AAuDXN,gBAAc,EAAdA,cAvDW;AAwDXxJ,WAAS,EAATA,SAxDW;AAyDXsL,aAAW,EAAXA,WAzDW;AA0DXE,KAAG,EAAHA,GA1DW;AA2DXxQ,MAAI,EAAJA,IA3DW;AA4DXiQ,SAAO,EAAPA,OA5DW;AA6DXzT,WAAS,EAATA,gBA7DW;AA8DXkU,QAAM,EAANA,MA9DW;AA+DX6C,UAAQ,EAARA,QA/DW;AAgEXQ,SAAO,EAAPA,OAhEW;AAiEXC,UAAQ,EAARA,QAjEW;AAkEXO,qBAAmB,EAAnBA,mBAlEW;AAmEXN,WAAS,EAATA,SAnEW;AAoEXG,eAAa,EAAbA,aApEW;AAqEXgB,iBAAe,EAAfA,eArEW;AAsEXM,WAAS,EAATA,SAtEW;AAuEXI,SAAO,EAAPA,OAvEW;AAwEXE,aAAW,EAAXA,WAxEW;AAyEXI,aAAW,EAAXA,WAzEW;AA0EXI,aAAW,EAAXA,WA1EW;AA2EXF,eAAa,EAAbA,aA3EW;AA4EXI,gBAAc,EAAdA,cA5EW;AA6EXR,aAAW,EAAXA;AA7EW,CAAf,E;;AC1hEA;AACA;AAEA;;AAEA,IAAMS,OAAO,GAAG9mB,mBAAO,CAAC,EAAD,CAAvB;;IACQ+mB,Y,GAAqCD,O,CAArCC,Y;IAAcC,M,GAAuBF,O,CAAvBE,M;IAAQC,U,GAAeH,O,CAAfG,U;;AAC9BjnB,mBAAO,CAAC,EAAD,CAAP,C,CAEA;;;AACA,IAAMknB,YAAY,GAAGnkB,uBAAI,CAAC6G,OAAL,CAAa,IAAb,EAAmB,MAAnB,CAArB;AACAud,qBAAE,CAACC,UAAH,CAAcF,YAAd,KAA+BC,qBAAE,CAACE,SAAH,CAAaH,YAAb,CAA/B,C,CAEA;;AACA,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACxU,GAAD;AAAA,SAAS,IAAKgU,OAAO,CAACG,UAAR,CAAmBM,eAAxB,CAAyCzlB,MAAM,CAACC,MAAP,CAAc;AAClFylB,eAAW,EAAE,eADqE;AAElF;AACAC,WAAO,EAAE,KAHyE;AAIlFC,YAAQ,EAAE;AAJwE,GAAd,EAKrE5U,GALqE,CAAzC,CAAT;AAAA,CAAtB,C,CAOA;;;AACA,IAAM6U,mBAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAU;AAC3B,MAAI;AAAA,QACMlf,SADN,GACoCkf,IADpC,CACMlf,SADN;AAAA,QACiBmf,KADjB,GACoCD,IADpC,CACiBC,KADjB;AAAA,QACwBpb,OADxB,GACoCmb,IADpC,CACwBnb,OADxB;AAEA,QAAIqG,GAAG,GAAG;AACN+U,WAAK,EAAEA,KADD;AAENnf,eAAS,EAAEA,SAFL;AAGN+D,aAAO,EAAEA;AAHH,KAAV;;AAMA,QAAImb,IAAI,CAACE,IAAT,EAAe;AAAE;AACb,UAAMA,IAAI,GAAGF,IAAI,CAACE,IAAlB;AACA,UAAMrgB,GAAG,GAAGqgB,IAAI,CAACrgB,GAAjB;AACAqL,SAAG,CAAC/I,GAAJ,aAAatC,GAAG,CAAC4D,MAAjB,cAA2B5D,GAAG,CAACE,OAAJ,CAAY7G,IAAZ,GAAmB2G,GAAG,CAACsgB,WAAlD;AACAtgB,SAAG,CAACugB,KAAJ,IAAavhB,IAAI,CAACC,SAAL,CAAee,GAAG,CAACugB,KAAnB,MAA8B,IAA3C,KAAoDlV,GAAG,CAACkV,KAAJ,GAAYvhB,IAAI,CAACC,SAAL,CAAee,GAAG,CAACugB,KAAnB,CAAhE;AACAvgB,SAAG,CAACuD,IAAJ,IAAYvE,IAAI,CAACC,SAAL,CAAee,GAAG,CAACuD,IAAnB,MAA6B,IAAzC,KAAkD8H,GAAG,CAAC9H,IAAJ,GAAWvE,IAAI,CAACC,SAAL,CAAee,GAAG,CAACuD,IAAnB,CAA7D;AAEA8c,UAAI,CAACta,KAAL,IAAc1L,MAAM,CAACkM,IAAP,CAAY8Z,IAAI,CAACta,KAAjB,EAAwBS,GAAxB,CAA4B,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AAAE;AAC9D,YAAM/B,GAAG,GAAG2b,IAAI,CAACta,KAAL,CAAWpJ,GAAX,CAAZ;AACA0O,WAAG,eAAQ1O,GAAR,EAAH,GAAoB4D,eAAQ,CAACmE,GAAD,CAAR,GAAiB1F,IAAI,CAACC,SAAL,CAAeyF,GAAf,MAAwB,IAAxB,GAA+B1F,IAAI,CAACC,SAAL,CAAeyF,GAAf,CAA/B,GAAqD,EAAtE,GAA4EA,GAAhG;AACH,OAHa,CAAd;AAIA2b,UAAI,CAACxa,KAAL,KAAewF,GAAG,CAACxF,KAAJ,GAAYwa,IAAI,CAACxa,KAAL,CAAW1J,OAAX,CAAmB,SAAnB,EAA8B,EAA9B,CAA3B;AAEAkP,SAAG,CAACoO,OAAJ,aAAiBzZ,GAAG,CAACE,OAAJ,CAAYkZ,MAA7B;AACA/N,SAAG,CAACtB,SAAJ,GAAgB/J,GAAG,CAACE,OAAJ,CAAY,YAAZ,CAAhB;AAEAmgB,UAAI,CAAC9b,GAAL,IAAYlK,MAAM,CAACkM,IAAP,CAAY8Z,IAAI,CAAC9b,GAAjB,EAAsBiC,GAAtB,CAA0B,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AAAE;AAC1D,YAAM/B,GAAG,GAAG2b,IAAI,CAAC9b,GAAL,CAAS5H,GAAT,CAAZ;AACA0O,WAAG,eAAQ1O,GAAR,EAAH,GAAoB4D,eAAQ,CAACmE,GAAD,CAAR,GAAiB1F,IAAI,CAACC,SAAL,CAAeyF,GAAf,MAAwB,IAAxB,GAA+B1F,IAAI,CAACC,SAAL,CAAeyF,GAAf,CAA/B,GAAqD,EAAtE,GAA4EA,GAAhG;AACH,OAHW,CAAZ;AAIA2b,UAAI,CAACG,YAAL,KAAsBnV,GAAG,CAACmV,YAAJ,GAAmBH,IAAI,CAACG,YAA9C;AAEAnV,SAAG,CAACgV,IAAJ,GAAWrhB,IAAI,CAACC,SAAL,CAAeohB,IAAf,CAAX;AACH,KAvBD,MAuBO;AACHhmB,YAAM,CAACkM,IAAP,CAAY4Z,IAAZ,EAAkB3Z,GAAlB,CAAsB,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AACxC,YAAI9J,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,WAA3B,IAA0CA,GAAG,KAAK,SAAtD,EAAiE;AAC7D,cAAIA,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,gBAA/B,EAAiD;AAC7C0O,eAAG,CAAC1O,GAAD,CAAH,GAAWwjB,IAAI,CAACxjB,GAAD,CAAJ,CAAUR,OAAV,CAAkB,SAAlB,EAA6B,EAA7B,CAAX;AACH,WAFD,MAEO;AACH,gBAAMuI,GAAG,GAAGyb,IAAI,CAACxjB,GAAD,CAAhB;AACA0O,eAAG,CAAC1O,GAAD,CAAH,GAAW4D,eAAQ,CAACmE,GAAD,CAAR,GAAiB1F,IAAI,CAACC,SAAL,CAAeyF,GAAf,MAAwB,IAAxB,GAA+B1F,IAAI,CAACC,SAAL,CAAeyF,GAAf,CAA/B,GAAqD,EAAtE,GAA4EA,GAAvF;AACH;AACJ;AACJ,OATD;AAUH;;AAED,WAAO1F,IAAI,CAACC,SAAL,CAAeoM,GAAf,CAAP;AACH,GA7CD,CA6CE,OAAOjG,GAAP,EAAY;AACV,WAAOpG,IAAI,CAACC,SAAL,CAAe;AAClBmhB,WAAK,EAAE,OADW;AAElBpb,aAAO,EAAE;AAFS,KAAf,CAAP;AAIH;AACJ,CApDD;;AAsDA,IAAMyb,yBAAkB,GAAG,SAArBA,kBAAqB,CAACL,KAAD;AAAA,SAAWP,aAAa,CAAC;AAChDO,SAAK,EAAEA,KADyC;AAEhDb,UAAM,EAAEA,MAAM,CAACmB,OAAP,CACJnB,MAAM,CAACte,SAAP,CAAiB;AAAEse,YAAM,EAAE;AAAV,KAAjB,CADI,EAEJA,MAAM,CAACoB,MAAP,CAAcT,mBAAd,CAFI,CAFwC;AAMhDU,YAAQ,EAAEtlB,uBAAI,CAAC6G,OAAL,CAAasd,YAAb,YAA8BW,KAA9B;AANsC,GAAD,CAAxB;AAAA,CAA3B;;AASA,IAAMS,MAAM,GAAGvB,YAAY,CAAC;AACxBwB,QAAM,EAAE;AACJ/a,SAAK,EAAE,CADH;AAEJgb,QAAI,EAAE,CAFF;AAGJZ,QAAI,EAAE,CAHF;AAIJa,QAAI,EAAE,CAJF;AAKJC,WAAO,EAAE,CALL;AAMJC,SAAK,EAAE,CANH;AAOJC,SAAK,EAAE;AAPH,GADgB;AAUxBC,kBAAgB,EAAE,IAVM;AAWxBC,MAAI,EAAE,IAXkB;AAYxBC,SAAO,EAAE,OAZe;AAYN;AAClBrB,UAAQ,EAAE;AAbc,CAAD,CAA3B;AAeAY,MAAM,CAACU,SAAP,CAAiB;AACbnB,OAAK,EAAE;AADM,CAAjB;AAGAS,MAAM,CAACU,SAAP,CAAiB;AACbnB,OAAK,EAAE;AADM,CAAjB;AAGAS,MAAM,CAACU,SAAP,CAAiB;AACbnB,OAAK,EAAE,OADM;AAEbZ,YAAU,EAAE,CACRK,aAAa,CAAC;AAAE;AACZN,UAAM,EAAEA,MAAM,CAACmB,OAAP,CACJnB,MAAM,CAACte,SAAP,CAAiB;AAAEse,YAAM,EAAE;AAAV,KAAjB,CADI,EAEJA,MAAM,CAACoB,MAAP,CAAcT,mBAAd,CAFI,CADE;AAKVU,YAAQ,EAAEtlB,uBAAI,CAAC6G,OAAL,CAAasd,YAAb,EAA2B,iBAA3B;AALA,GAAD,CADL,EAQR;AACA;AACAgB,2BAAkB,CAAC,MAAD,CAVV,EAWR,IAAIjB,UAAU,CAACgC,OAAf,CAAuB;AACnBjC,UAAM,EAAEA,MAAM,CAACmB,OAAP,CACJnB,MAAM,CAACkC,QAAP,EADI,EAEJlC,MAAM,CAACte,SAAP,CAAiB;AAAEse,YAAM,EAAE;AAAV,KAAjB,CAFI,EAGJA,MAAM,CAACoB,MAAP,CAAc,UAAAR,IAAI,EAAI;AAAA,UACVlf,SADU,GACoBkf,IADpB,CACVlf,SADU;AAAA,UACCmf,KADD,GACoBD,IADpB,CACCC,KADD;AAAA,UACQpb,OADR,GACoBmb,IADpB,CACQnb,OADR;AAElB,uBAAU/D,SAAV,eAAwBmf,KAAxB,gBAAmCpb,OAAnC;AACH,KAHD,CAHI;AADW,GAAvB,CAXQ;AAFC,CAAjB;AA0BA;;;;;;;;;;;AAWA;;;;;;;;;;;;;;;;AAgBA;;;;;;;;;;;;;;;AAeA;;;;;;;;AAQA;;;;;;AAMA;;;;;;;;;;;AAWA;;;;;;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+Be6b,qDAAf,E;;;;;;;;;AC3OA;AACA;AACA;AAEe,oDAACa,GAAD,EAAS;AACpB,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACvc,GAAD,EAAMpF,GAAN,EAAWuE,GAAX,EAAmB;AAC/BA,OAAG,CAACqd,SAAJ,CAAc,GAAd,EAAmB;AACf,sBAAgB;AADD,KAAnB;AAGArd,OAAG,CAACsd,GAAJ,CACI,uEAAuEzc,GAD3E;AAGH,GAPD;;AAQA,MAAM0c,UAAU,GAAG,SAAbA,UAAa,CAACC,QAAD,EAAW/hB,GAAX,EAAgBuE,GAAhB,EAAwB;AACvC,QAAIvE,GAAG,CAAC4D,MAAJ,CAAWD,WAAX,OAA6B,MAA7B,IAAuC3D,GAAG,CAACuD,IAA/C,EAAqD;AACjD,UAAI,CAACvD,GAAG,CAACuD,IAAL,IAAa,CAAClJ,MAAM,CAACkM,IAAP,CAAYvG,GAAG,CAACuD,IAAhB,EAAsB1K,MAAxC,EAAgD;AAEhD,UAAM2J,WAAW,GAAGuf,QAAQ,CAACC,SAAT,CAAmB,cAAnB,CAApB;;AACA,UAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD,EAAc;AAC5BH,gBAAQ,CAACI,SAAT,CAAmB,gBAAnB,EAAqCrmB,MAAM,CAACsmB,UAAP,CAAkBF,QAAlB,CAArC;AACAH,gBAAQ,CAACM,KAAT,CAAeH,QAAf;AACH,OAHD;;AAKA,UAAI1f,WAAW,KAAK,kBAApB,EAAwC;AACpCyf,iBAAS,CAACjjB,IAAI,CAACC,SAAL,CAAee,GAAG,CAACuD,IAAnB,CAAD,CAAT;AACH;;AAED,UAAIf,WAAW,KAAK,mCAApB,EAAyD;AACrDyf,iBAAS,CAACK,8BAAW,CAACrjB,SAAZ,CAAsBe,GAAG,CAACuD,IAA1B,CAAD,CAAT;AACH;AACJ;AACJ,GAlBD;;AAoBA,MAAMgf,UAAU,GAAG,SAAbA,UAAa,CAACC,QAAD,EAAWxiB,GAAX,EAAgBuE,GAAhB,EAAwB,CAe1C,CAfkB,CACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGJ;AAjBA;;AAkBAmd,KAAG,CAACe,GAAJ,CAAQ,CACJ,eADI,CAAR,EAEGC,gEAAqB,CAAC;AACrB5Z,UAAM,EAAE/O,mBADa;AAErB4oB,gBAAY,EAAE,IAFO;AAGrBnb,MAAE,EAAE,IAHiB;AAIrBJ,SAAK,EAAE,IAJc;AAKrBlH,WAAO,EAAE;AACL0iB,aAAO,EAAE7oB,mBAASA;AADb,KALY;AAQrB8oB,uBAAmB,EAAE,EARA;AASrBlB,WAAO,EAAPA,OATqB;AAUrBG,cAAU,EAAVA,UAVqB;AAWrBS,cAAU,EAAVA;AAXqB,GAAD,CAFxB;AAeH,CA9DD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;;eAEuBhqB,mBAAO,CAAC,E;IAAvBgC,U,YAAAA,U;AAER;;;;;;;AAKA,IAAMuoB,cAAc,GAAG,SAAjBA,cAAiB,CAAChiB,QAAD;AAAA,2DAEMA,QAFN;AAAA,CAAvB;AAKA;;;;;;;;;;;;AAYA;AACA;;;AACA,IAAMiiB,UAAU,sUAAhB,C,CAWA;;AACA,IAAMC,WAAW,sUAAjB,C,CAWA;;AACA,IAAMC,SAAS,sUAAf;AAWA;;;;AAGA,IAAMC,qBAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD,EAAe;AACnC,MAAIC,QAAQ,GAAG,EAAf;;AACA,MAAID,SAAS,CAACE,UAAd,EAA0B;AACtB,QAAI,CAAC5e,OAAO,CAAC0e,SAAS,CAACE,UAAX,CAAR,IAAkCF,SAAS,CAACE,UAAV,CAAqBxqB,MAArB,KAAgC,CAAtE,EAAyE,MAAM,IAAIkM,KAAJ,CAAU,0CAAV,CAAN;AADnD;AAAA;AAAA;;AAAA;AAEtB,2BAAgBoe,SAAS,CAACE,UAA1B,8HAAsC;AAAA,YAA7B3e,GAA6B;AAClC,YAAMuU,IAAI,GAAIvU,GAAG,CAAC/E,OAAJ,CAAY,UAAZ,IAA0B,CAAC,CAA3B,IAAgC+E,GAAG,CAAC/E,OAAJ,CAAY,SAAZ,IAAyB,CAAC,CAA3D,GAAgE+E,GAAhE,GAAsEnK,UAAU,GAAGmK,GAAhG;AACA0e,gBAAQ,2BAAmBnK,IAAnB,gBAA6B,IAAI5a,IAAJ,GAAW2N,QAAX,EAA7B,6CAAR;AACH;AALqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMzB;;AAED,MAAIsX,SAAS,GAAG,EAAhB;;AACA,MAAIH,SAAS,CAACI,UAAd,EAA0B;AACtB,QAAI,CAAC9e,OAAO,CAAC0e,SAAS,CAACI,UAAX,CAAR,IAAkCJ,SAAS,CAACI,UAAV,CAAqB1qB,MAArB,KAAgC,CAAtE,EAAyE,MAAM,IAAIkM,KAAJ,CAAU,0CAAV,CAAN;AADnD;AAAA;AAAA;;AAAA;AAEtB,4BAAgBoe,SAAS,CAACI,UAA1B,mIAAsC;AAAA,YAA7B7e,IAA6B;AAClC,YAAM4Y,GAAG,GAAI5Y,IAAG,CAAC/E,OAAJ,CAAY,UAAZ,IAA0B,CAAC,CAA3B,IAAgC+E,IAAG,CAAC/E,OAAJ,CAAY,SAAZ,IAAyB,CAAC,CAA3D,GAAgE+E,IAAhE,GAAsEnK,UAAU,GAAGmK,IAA/F;AACA4e,iBAAS,qDAA2ChG,GAA3C,gBAAoD,IAAIjf,IAAJ,GAAW2N,QAAX,EAApD,6BAAT;AACH;AALqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMzB;;AAED,SAAO;AAAEoX,YAAQ,EAARA,QAAF;AAAYE,aAAS,EAATA;AAAZ,GAAP;AACH,CApBD;;AAsBA,IAAME,gBAAU,GAAG,SAAbA,UAAa,CAACL,SAAD,EAAYriB,QAAZ,EAAyB;AACxC,MAAI,CAACqiB,SAAS,CAAC5M,cAAV,CAAyB,YAAzB,CAAD,IAA2C4M,SAAS,CAACK,UAAV,KAAyB,QAApE,IAAgFL,SAAS,CAACK,UAAV,KAAyB,SAAzG,IAAsHL,SAAS,CAACK,UAAV,KAAyB,KAA/I,IAAwJL,SAAS,CAACK,UAAV,KAAyB,EAArL,EAAyL,OAAO,EAAP;;AACzL,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClB,QAAI3iB,QAAQ,KAAK,IAAjB,EAAuB;AACvB,QAAIA,QAAQ,KAAK,KAAjB,EAAwB,OAAO,QAAP;AAC3B,GAHD;;AAIA,mYASU2iB,OAAO,EATjB,uCASgDN,SAAS,CAACK,UAT1D;AAWH,CAjBD;AAmBA;;;;;;;AAKA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AACtB,MAAI,CAACA,IAAL,EAAW,OAAO,EAAP;AACX,u2FA2DkCppB,UA3DlC;AAiFH,CAnFD;;;;AChHA;AACA;;qBAEuBhC,mBAAO,CAAC,E;IAAvBgC,iB,kBAAAA,U;;IACA6c,K,GAAiC4D,M,CAAjC5D,K;IAAO8D,W,GAA0BF,M,CAA1BE,W;IAAaD,Q,GAAaD,M,CAAbC,Q;AAEb,2DAAqI;AAAA,MAAlI2I,SAAkI,QAAlIA,SAAkI;AAAA,MAAvHT,SAAuH,QAAvHA,SAAuH;AAAA,MAA5GU,MAA4G,QAA5GA,MAA4G;AAAA,MAApGC,OAAoG,QAApGA,OAAoG;AAAA,MAA3FC,KAA2F,QAA3FA,KAA2F;AAAA,MAApFjjB,QAAoF,QAApFA,QAAoF;AAAA,MAA1E6iB,IAA0E,QAA1EA,IAA0E;AAAA,MAApEK,WAAoE,QAApEA,WAAoE;AAAA,MAAvDC,UAAuD,QAAvDA,UAAuD;AAAA,MAA3CC,WAA2C,QAA3CA,WAA2C;AAAA,MAA9BC,WAA8B,QAA9BA,WAA8B;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AAChJ,MAAMC,cAAc,GAAG,CAAC,cAAD,EAAiB,YAAjB,EAA+B,YAA/B,CAAvB;AACA,MAAMC,SAAS,GAAGnB,SAAS,CAAC/L,KAAV,GAAkB+L,SAAS,CAAC/L,KAA5B,GAAoCA,KAAtD;AACA,MAAMmN,mBAAmB,GAAGpB,SAAS,CAACjI,WAAV,GAAwBiI,SAAS,CAACjI,WAAV,CAAsB/e,OAAtB,CAA8B,KAA9B,EAAqC,EAArC,CAAxB,GAAmE+e,WAA/F;AACA,MAAMsJ,eAAe,GAAGD,mBAAmB,CAACpoB,OAApB,CAA4B,WAA5B,EAAyC,EAAzC,CAAxB;AACA,MAAMsoB,YAAY,GAAGtB,SAAS,CAAClI,QAAV,GAAqBkI,SAAS,CAAClI,QAA/B,GAA0CA,QAA/D;AACA,MAAMyJ,QAAQ,GAAGL,cAAc,CAAC1kB,OAAf,CAAuBskB,UAAvB,IAAqC,CAAC,CAAtC,aAA6C1pB,iBAA7C,gDAA6FA,iBAA7F,iBAAjB;AACA,MAAMoqB,SAAS,GAAGxB,SAAS,CAACwB,SAAV,GAAsBxB,SAAS,CAACwB,SAAhC,aAA+CpqB,iBAA/C,iCAAlB;AACA,MAAMqqB,UAAU,GAAGzB,SAAS,CAACyB,UAAV,GAAuBzB,SAAS,CAACyB,UAAjC,GAA8CN,SAAjE;;AARgJ,yBAShHpB,qBAAe,CAACC,SAAD,CATiG;AAAA,MASxIG,SATwI,oBASxIA,SATwI;AAAA,MAS7HF,QAT6H,oBAS7HA,QAT6H,EAUhJ;;;AACA,MAAMyB,WAAW,GAAGX,WAAW,GAAGnB,UAAH,GAAgBoB,WAAW,GAAGlB,SAAH,GAAemB,UAAU,GAAGpB,WAAH,GAAiBD,UAApG,CAXgJ,CAYhJ;;AACA,MAAM+B,aAAa,GAAGtB,gBAAU,CAACL,SAAD,EAAY,IAAZ,CAAhC,CAbgJ,CAchJ;;AACA,MAAM4B,UAAU,GAAGrB,OAAO,CAACC,IAAD,CAA1B;AACA,MAAMqB,YAAY,GAAGhB,WAAW,oCAA6BhlB,IAAI,CAACC,SAAL,CAAe+kB,WAAf,CAA7B,IAA6D,EAA7F;AACA,MAAMiB,QAAQ,GAAG,2DAA2D,IAAI5mB,IAAJ,GAAW6C,OAAX,EAA5E;AACA,MAAMgkB,WAAW,GAAG/B,SAAS,CAAC+B,WAAV,GAAwB/B,SAAS,CAAC+B,WAAV,GAAwB,KAAxB,GAAgC,IAAI7mB,IAAJ,GAAW6C,OAAX,EAAxD,GAA+E+jB,QAAnG;AACA,MAAME,WAAW,GAAGhC,SAAS,CAAC+B,WAAV,IAAyB/B,SAAS,CAAC+B,WAAV,KAA0B,EAAnD,GAAwD,qBAAxD,GAAgF,SAApG,CAnBgJ,CAoBhJ;AACA;;AACA,SAAO;AACHE,UAAM,iGAEed,SAFf,wYAOuCG,YAPvC,2EAQ0CD,eAR1C,kYAa2CG,SAb3C,gJAe4CC,UAf5C,+IAiB2CJ,eAjB3C,8NAoB2CF,SApB3C,6EAqB2CW,QArB3C,mFAsBiDT,eAtBjD,8CAuBeF,SAvBf,0DAwBuBa,WAxBvB,2OA2BuBb,SA3BvB,+EA4BuBE,eA5BvB,qFA6BuBU,WA7BvB,wJA+BuCZ,SA/BvC,+EAgC8CE,eAhC9C,yEAiCwCG,SAjCxC,oLAoCQ7B,cAAc,CAAC,OAAD,CApCtB,mCAqCQgC,aArCR,mCAsCQC,UAtCR,0FAwCqBxqB,iBAxCrB,oJA0CwCmqB,QA1CxC,4DA2CQtB,QA3CR,mCA4CQS,MA5CR,2VADH;AAmDHwB,UAAM,oGAEsCrmB,IAAI,CAACC,SAAL,CAAe2kB,SAAf,CAFtC,iEAGsC5kB,IAAI,CAACC,SAAL,CAAekkB,SAAf,CAHtC,8DAIkCriB,QAJlC,yCAKYkkB,YALZ,sLAQQ1B,SARR,mCASQQ,OATR,mCAUQe,WAVR;AAnDH,GAAP;AAiEH,CAvFD,E;;ACNA;AACA;;uBAEuBtsB,mBAAO,CAAC,E;IAAvBgC,mB,oBAAAA,U;;IACA6c,c,GAAiC4D,M,CAAjC5D,K;IAAO8D,oB,GAA0BF,M,CAA1BE,W;IAAaD,iB,GAAaD,M,CAAbC,Q;AAEb,6DAAqI;AAAA,MAAlI2I,SAAkI,QAAlIA,SAAkI;AAAA,MAAvHT,SAAuH,QAAvHA,SAAuH;AAAA,MAA5GU,MAA4G,QAA5GA,MAA4G;AAAA,MAApGC,OAAoG,QAApGA,OAAoG;AAAA,MAA3FC,KAA2F,QAA3FA,KAA2F;AAAA,MAApFjjB,QAAoF,QAApFA,QAAoF;AAAA,MAA1E6iB,IAA0E,QAA1EA,IAA0E;AAAA,MAApEK,WAAoE,QAApEA,WAAoE;AAAA,MAAvDC,UAAuD,QAAvDA,UAAuD;AAAA,MAA3CC,WAA2C,QAA3CA,WAA2C;AAAA,MAA9BC,WAA8B,QAA9BA,WAA8B;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AAChJ,MAAMC,cAAc,GAAG,CAAC,cAAD,EAAiB,YAAjB,CAAvB;AACA,MAAMC,SAAS,GAAGnB,SAAS,CAAC/L,KAAV,GAAkB+L,SAAS,CAAC/L,KAA5B,GAAoCA,cAAtD;AACA,MAAMmN,mBAAmB,GAAGpB,SAAS,CAACjI,WAAV,GAAwBiI,SAAS,CAACjI,WAAV,CAAsB/e,OAAtB,CAA8B,KAA9B,EAAqC,EAArC,CAAxB,GAAmE+e,oBAA/F;AACA,MAAMsJ,eAAe,GAAGD,mBAAmB,CAACpoB,OAApB,CAA4B,WAA5B,EAAyC,EAAzC,CAAxB;AACA,MAAMsoB,YAAY,GAAGtB,SAAS,CAAClI,QAAV,GAAqBkI,SAAS,CAAClI,QAA/B,GAA0CA,iBAA/D;AACA,MAAMyJ,QAAQ,GAAGL,cAAc,CAAC1kB,OAAf,CAAuBskB,UAAvB,IAAqC,CAAC,CAAtC,aAA6C1pB,mBAA7C,gDAA6FA,mBAA7F,iBAAjB;AACA,MAAMoqB,SAAS,GAAGxB,SAAS,CAACwB,SAAV,GAAsBxB,SAAS,CAACwB,SAAhC,aAA+CpqB,mBAA/C,iCAAlB;AACA,MAAMqqB,UAAU,GAAGzB,SAAS,CAACyB,UAAV,GAAuBzB,SAAS,CAACyB,UAAjC,GAA8CN,SAAjE;;AARgJ,yBAShHpB,qBAAe,CAACC,SAAD,CATiG;AAAA,MASxIG,SATwI,oBASxIA,SATwI;AAAA,MAS7HF,QAT6H,oBAS7HA,QAT6H;;AAUhJ,MAAM6B,QAAQ,GAAG,2DAA2D,IAAI5mB,IAAJ,GAAW6C,OAAX,EAA5E;AACA,MAAMgkB,WAAW,GAAG/B,SAAS,CAAC+B,WAAV,GAAwB/B,SAAS,CAAC+B,WAAV,GAAwB,KAAxB,GAAgC,IAAI7mB,IAAJ,GAAW6C,OAAX,EAAxD,GAA+E+jB,QAAnG;AACA,MAAME,WAAW,GAAGhC,SAAS,CAAC+B,WAAV,IAAyB/B,SAAS,CAAC+B,WAAV,KAA0B,EAAnD,GAAwD,qBAAxD,GAAgF,SAApG,CAZgJ,CAahJ;;AACA,MAAMJ,aAAa,GAAGtB,gBAAU,CAACL,SAAD,EAAY,KAAZ,CAAhC,CAdgJ,CAehJ;;AACA,MAAM4B,UAAU,GAAGrB,OAAO,CAACC,IAAD,CAA1B;AACA,MAAMkB,WAAW,GAAGX,WAAW,GAAGnB,UAAH,GAAgBoB,WAAW,GAAGlB,SAAH,GAAemB,UAAU,GAAGpB,WAAH,GAAiBD,UAApG,CAjBgJ,CAkBhJ;;AACA,MAAMiC,YAAY,GAAGhB,WAAW,oCAA6BhlB,IAAI,CAACC,SAAL,CAAe+kB,WAAf,CAA7B,IAA6D,EAA7F,CAnBgJ,CAoBhJ;;AACA,SAAO;AACHoB,UAAM,kMAIuCX,YAJvC,2EAK0CD,eAL1C,uNAQuCF,SARvC,+EAS8CE,eAT9C,yEAUwCG,SAVxC,6oBAuB2CA,SAvB3C,gJAyB4CC,UAzB5C,+IA2B2CJ,eA3B3C,8NA8B2CF,SA9B3C,sMAgCiDE,eAhCjD,8CAiCeF,SAjCf,2DAkCuBa,WAlCvB,4OAqCuBb,SArCvB,+EAsCuBE,eAtCvB,qFAuCuBU,WAvCvB,+DAwCQpC,cAAc,CAAC,MAAD,CAxCtB,mCAyCQgC,aAzCR,mCA0CQC,UA1CR,iDA2CqBxqB,mBA3CrB,0CA2C+D,IAAI8D,IAAJ,GAAWinB,MAAX,EA3C/D,kFA4CwCZ,QA5CxC,4DA6CQtB,QA7CR,mCA8CQS,MA9CR,iXADH;AAqDHwB,UAAM,oGAEsCrmB,IAAI,CAACC,SAAL,CAAe2kB,SAAf,CAFtC,kEAGuC5kB,IAAI,CAACC,SAAL,CAAekkB,SAAf,CAHvC,8DAIkCriB,QAJlC,yCAKYkkB,YALZ,4MASQ1B,SATR,mCAUQQ,OAVR,mCAWQe,WAXR;AArDH,GAAP;AAoEH,CAzFD,E;;;;;;;;;ACNA;AACO,IAAMU,cAAc,GAAG,kBAAvB,C,CAEP;;AACO,IAAMC,gBAAgB,GAAG,oBAAzB,C,CAEP;;AACO,IAAMC,cAAc,GAAG,kBAAvB,C,CAEP;;AACO,IAAMC,iBAAiB,GAAG,qBAA1B,C,CAEP;;AACO,IAAMC,cAAc,GAAG,kBAAvB;AAEA,IAAMC,YAAY,GAAG,gBAArB;AAEA,IAAMC,WAAW,GAAG,eAApB;AAEA,IAAMC,eAAe,GAAG,oBAAxB,C;;;ACnBP;AAUA,IAAMlC,cAAS,GAAG;AACdmC,gBAAc,EAAE;AACZC,SAAK,EAAE;AACHC,QAAE,EAAE,EADD;AAEHC,eAAS,EAAE,EAFR;AAGHhL,iBAAW,EAAE,EAHV;AAIHiL,iBAAW,EAAE,EAJV;AAKHC,aAAO,EAAE,EALN;AAMHC,gBAAU,EAAE,EANT;AAOHC,gBAAU,EAAE,CAPT;AAQHC,UAAI,EAAE,EARH;AASHC,sBAAgB,EAAE;AATf,KADK;AAYZC,oBAAgB,EAAE;AACdC,cAAQ,EAAE,CADI;AAEdC,iBAAW,EAAE,CAFC;AAGdC,iBAAW,EAAE,CAHC;AAIdC,eAAS,EAAE,CAJG;AAKdC,eAAS,EAAE;AALG;AAZN,GADF;AAqBdC,iBAAe,EAAE;AACbD,aAAS,EAAE;AADE,GArBH;AAwBdE,mBAAiB,EAAE;AACfF,aAAS,EAAE;AADI,GAxBL;AA2BdG,WAAS,EAAE,EA3BG;AA4BdC,aAAW,EAAE;AACTC,WAAO,EAAE;AACL/P,WAAK,EAAE,EADF;AAELgQ,eAAS,EAAE,EAFN;AAGLC,YAAM,EAAE,EAHH;AAILza,iBAAW,EAAE,EAJR;AAKL0a,eAAS,EAAE,EALN;AAMLC,cAAQ,EAAE,EANL;AAOLlQ,aAAO,EAAE,EAPJ;AAQLmQ,YAAM,EAAE;AARH,KADA;AAWTC,QAAI,EAAE;AACFC,cAAQ,EAAE,EADR;AAEFtQ,WAAK,EAAE,EAFL;AAGF6O,QAAE,EAAE;AAHF;AAXG,GA5BC;AA6Cd0B,cAAY,EAAE;AA7CA,CAAlB;AAgDe,8DAA+B;AAAA,MAA9BC,KAA8B,uEAAtBhE,cAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKkjB,cAAL;AACI;;;;;;AAMA,UAAM4B,OAAO,GAAGhe,MAAM,CAAC9I,IAAP,CAAY8mB,OAA5B;AACA,UAAM9K,UAAU,GAAGwL,kBAAkB,CAACV,OAAO,CAAC9P,OAAT,CAArC;AACA,aAAO8P,OAAO,CAAC9P,OAAf;AACA8P,aAAO,CAAC9P,OAAR,GAAkBgF,UAAlB;AACA,wCAAYuL,KAAZ;AAAmBV,mBAAW,EAAE;AAAEC,iBAAO,EAAEA,OAAX;AAAoBM,cAAI,EAAEN,OAAO,CAACM;AAAlC;AAAhC;;AACJ,SAAKjC,gBAAL;AACI,wCAAYoC,KAAZ;AAAmBZ,yBAAiB,EAAE7d,MAAM,CAAC9I;AAA7C;;AACJ,SAAKolB,cAAL;AACI,wCAAYmC,KAAZ;AAAmBb,uBAAe,EAAE5d,MAAM,CAAC9I;AAA3C;;AACJ,SAAKqlB,iBAAL;AACI,wCAAYkC,KAAZ;AAAmB7B,sBAAc,EAAE5c,MAAM,CAAC9I;AAA1C;;AACJ,SAAKslB,cAAL;AACI,UAAMmB,SAAS,GAAG3d,MAAM,CAAC9I,IAAP,CAAYomB,gBAAZ,CAA6BK,SAA/C;;AACA,UAAIA,SAAS,CAACjuB,MAAV,KAAqB,CAAzB,EAA4B;AACxB,YAAMwS,GAAG,GAAGlC,MAAM,CAAC9I,IAAnB;AACAgL,WAAG,CAACob,gBAAJ,CAAqBK,SAArB,GAAiCc,KAAK,CAAC7B,cAAN,CAAqBU,gBAArB,CAAsCK,SAAtC,CAAgD7P,MAAhD,CAAuD9N,MAAM,CAAC9I,IAAP,CAAYomB,gBAAZ,CAA6BK,SAApF,CAAjC;AACA,0CAAYc,KAAZ;AAAmB7B,wBAAc,EAAE1a;AAAnC;AACH,OAJD,MAIO;AACH,eAAOuc,KAAP;AACH;;AACL,SAAKhC,YAAL;AACI,wCAAYgC,KAAZ;AAAmBX,iBAAS,EAAE9d,MAAM,CAAC9I;AAArC;;AACJ,SAAKylB,eAAL;AACI,wCAAY8B,KAAZ;AAAmBD,oBAAY,EAAExe,MAAM,CAAC9I;AAAxC;;AACJ;AACI,aAAOunB,KAAP;AAjCR;AAmCH,CApCD,E;;AC1DA;AACO,IAAME,aAAa,GAAG,iBAAtB,C,CAEP;;AACO,IAAMC,cAAc,GAAG,kBAAvB,C,CAEP;;AACO,IAAMC,gBAAgB,GAAG,oBAAzB,C,CAEP;;AACO,IAAMC,gBAAgB,GAAG,oBAAzB,C,CAEP;;AACO,IAAMC,gBAAgB,GAAG,oBAAzB,C,CAEP;;AACO,IAAMC,SAAS,GAAG,YAAlB,C,CAEP;;AACO,IAAMC,aAAa,GAAG,iBAAtB,C;;;ACnBP;CAaA;;AACA,IAAMxE,gBAAS,GAAG;AACdyE,iBAAe,EAAE;AACbvB,aAAS,EAAE;AADE,GADH;AAIdwB,gBAAc,EAAE;AACZxB,aAAS,EAAE;AADC,GAJF;AAOdyB,mBAAiB,EAAE;AACfzB,aAAS,EAAE;AADI,GAPL;AAUd0B,eAAa,EAAE;AACX1B,aAAS,EAAE;AADA,GAVD;AAad2B,eAAa,EAAE;AACX3B,aAAS,EAAE;AADA,GAbD;AAgBdO,QAAM,EAAE;AACJP,aAAS,EAAE;AADP,GAhBM;AAmBd4B,YAAU,EAAE;AACR5B,aAAS,EAAE;AADH;AAnBE,CAAlB;AAwBe,gEAA+B;AAAA,MAA9Bc,KAA8B,uEAAtBhE,gBAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKwjB,WAAL;AACI,wCAAY+B,KAAZ;AAAmBU,sBAAc,EAAEnf,MAAM,CAAC9I;AAA1C;;AACJ,SAAK0nB,cAAL;AACI,wCAAYH,KAAZ;AAAmBS,uBAAe,EAAElf,MAAM,CAAC9I;AAA3C;;AACJ,SAAK2nB,gBAAL;AACI,wCAAYJ,KAAZ;AAAmBW,yBAAiB,EAAEpf,MAAM,CAAC9I;AAA7C;;AACJ,SAAK4nB,gBAAL;AACI,wCAAYL,KAAZ;AAAmBY,qBAAa,EAAErf,MAAM,CAAC9I;AAAzC;;AACJ,SAAK6nB,gBAAL;AACI,wCAAYN,KAAZ;AAAmBa,qBAAa,EAAEtf,MAAM,CAAC9I;AAAzC;;AACJ,SAAK8nB,SAAL;AACI,wCAAYP,KAAZ;AAAmBP,cAAM,EAAEle,MAAM,CAAC9I;AAAlC;;AACJ,SAAK+nB,aAAL;AACI,wCAAYR,KAAZ;AAAmBc,kBAAU,EAAEvf,MAAM,CAAC9I;AAAtC;;AACJ;AACI,aAAOunB,KAAP;AAhBR;AAkBH,CAnBD,E;;ACtCA;AACO,IAAMe,eAAe,GAAG,mBAAxB,C,CAEP;;AACO,IAAMC,iBAAiB,GAAG,qBAA1B,C,CAEP;;AACO,IAAMC,eAAe,GAAG,mBAAxB,C,CAEP;;AACO,IAAMC,eAAe,GAAG,mBAAxB,C,CAEP;;AACO,IAAMC,eAAe,GAAG,oBAAxB,C;;;ACbP;AAQA,IAAMnF,eAAS,GAAG;AACdoF,cAAY,EAAE,EADA;AAEdC,gBAAc,EAAE;AACZnC,aAAS,EAAE;AADC,GAFF;AAKdoC,cAAY,EAAE,EALA;AAMdC,cAAY,EAAE;AACVrC,aAAS,EAAE;AADD;AANA,CAAlB;AAWe,sDAA+B;AAAA,MAA9Bc,KAA8B,uEAAtBhE,eAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKsmB,eAAL;AACI,wCAAYf,KAAZ;AAAmBoB,oBAAY,EAAE7f,MAAM,CAAC9I;AAAxC;;AACJ,SAAKuoB,iBAAL;AACI,wCAAYhB,KAAZ;AAAmBqB,sBAAc,EAAE9f,MAAM,CAAC9I;AAA1C;;AACJ,SAAKwoB,eAAL;AACI,wCAAYjB,KAAZ;AAAmBuB,oBAAY,EAAEhgB,MAAM,CAAC9I;AAAxC;;AACJ,SAAKyoB,eAAL;AACI,wCAAYlB,KAAZ;AAAmBsB,oBAAY,EAAE/f,MAAM,CAAC9I;AAAxC;;AACJ,SAAK0oB,eAAL;AACI,UAAMK,UAAU,GAAG,2BAAKxB,KAAK,CAACsB,YAAd,EAA+B/f,MAAM,CAAC9I,IAAtC;AAA4CgC,YAAI,EAAE8G,MAAM,CAAC5G,MAAP,CAAckD;AAAhE,QAAhB;;AACA,wCAAYmiB,KAAZ;AAAmBsB,oBAAY,EAAEE;AAAjC;;AACJ;AACI,aAAOxB,KAAP;AAbR;AAeH,CAhBD,E;;ACnBA;AACO,IAAMyB,eAAe,GAAG,mBAAxB,C;;;ACDP;AAIA,IAAMzF,sBAAS,GAAG;AACd0F,WAAS,EAAE;AADG,CAAlB;AAIe,6DAA+B;AAAA,MAA9B1B,KAA8B,uEAAtBhE,sBAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKgnB,eAAL;AACI1jB,aAAO,CAACC,GAAR,CAAYuD,MAAM,CAAC9I,IAAnB;AACA,wCAAYunB,KAAZ;AAAmB0B,iBAAS,EAAEngB,MAAM,CAAC9I;AAArC;;AACJ;AACI,aAAOunB,KAAP;AALR;AAOH,CARD,E;;ACRA;AACO,IAAM2B,aAAa,GAAG,iBAAtB,C,CACP;;AACO,IAAMC,aAAa,GAAG,iBAAtB,C,CACP;;AACO,IAAMC,uBAAuB,GAAG,4BAAhC,C,CACP;;AACO,IAAMJ,sBAAe,GAAG,mBAAxB,C;;;ACPP;AAOA,IAAMzF,gBAAS,GAAG;AACd0F,WAAS,EAAE,EADG;AAEdI,WAAS,EAAE,EAFG;AAGdC,eAAa,EAAE,EAHD;AAIdC,iBAAe,EAAE;AAJH,CAAlB;AAOe,uDAA+B;AAAA,MAA9BhC,KAA8B,uEAAtBhE,gBAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKknB,aAAL;AACI,wCAAY3B,KAAZ;AAAmB0B,iBAAS,EAAEngB,MAAM,CAAC9I;AAArC;;AACJ,SAAKmpB,aAAL;AACI,wCAAY5B,KAAZ;AAAmB8B,iBAAS,EAAEvgB,MAAM,CAAC9I;AAArC;;AACJ,SAAKopB,uBAAL;AACI,wCAAY7B,KAAZ;AAAmB+B,qBAAa,EAAExgB,MAAM,CAAC9I;AAAzC;;AACJ,SAAKgpB,sBAAL;AACI,wCAAYzB,KAAZ;AAAmBgC,uBAAe,EAAEzgB,MAAM,CAAC9I;AAA3C;;AACJ;AACI,aAAOunB,KAAP;AAVR;AAYH,CAbD,E;;ACdA;AACO,IAAMiC,cAAc,GAAG,kBAAvB,C,CAEP;;AACO,IAAMC,kBAAkB,GAAG,uBAA3B,C,CAEP;;AACO,IAAMC,WAAW,GAAG,eAApB,C,CAEP;;AACO,IAAMC,UAAU,GAAG,aAAnB,C,CAEP;;AACO,IAAMC,QAAQ,GAAG,WAAjB,C;;;ACbP;AAQA;;AACA,IAAMC,eAAe,GAAG;AACpBxD,UAAQ,EAAE,CADU;AAEpBC,aAAW,EAAE,CAFO;AAGpBC,aAAW,EAAE,CAHO;AAIpBC,WAAS,EAAE,CAJS;AAKpBsD,aAAW,EAAE,IAAI9rB,IAAJ,EALO;AAMpByoB,WAAS,EAAE;AANS,CAAxB;AAQe,wDAAqC;AAAA,MAApCc,KAAoC,uEAA5BsC,eAA4B;AAAA,MAAX/gB,MAAW;;AAChD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKwnB,cAAL;AACI,aAAO1gB,MAAM,CAAC9I,IAAd;;AACJ,SAAKypB,kBAAL;AACI,UAAMM,WAAW,GAAGjhB,MAAM,CAAC9I,IAAP,CAAYymB,SAAhC;;AACA,UAAIsD,WAAW,CAACvxB,MAAZ,KAAuB,CAA3B,EAA8B;AAC1B,YAAMwxB,cAAc,GAAGzC,KAAK,CAACd,SAAN,CAAgB7P,MAAhB,CAAuB9N,MAAM,CAAC9I,IAAP,CAAYymB,SAAnC,CAAvB;AACA,0CAAY3d,MAAM,CAAC9I,IAAnB;AAAyBymB,mBAAS,EAAEuD;AAApC;AACH,OAHD,MAGO;AACH,eAAOzC,KAAP;AACH;;AACL,SAAKmC,WAAL;AACI,UAAMO,GAAG,GAAGnhB,MAAM,CAAC9I,IAAP,CAAYiqB,GAAxB;AACA,UAAMC,iBAAiB,GAAG3C,KAAK,CAACd,SAAhC;AACAyD,uBAAiB,CAAC/jB,GAAlB,CAAsB,UAAU2Q,IAAV,EAAgB1Q,KAAhB,EAAuB;AACzC,YAAI6jB,GAAG,KAAKnT,IAAI,CAACqT,OAAL,CAAavE,EAAzB,EAA6B;AACzB,cAAMwE,OAAO,GAAGtT,IAAI,CAACsT,OAArB;AACAA,iBAAO,CAAC3jB,IAAR,CAAaqC,MAAM,CAAC9I,IAApB;AACAkqB,2BAAiB,CAAC9jB,KAAD,CAAjB,8BACO8jB,iBAAiB,CAAC9jB,KAAD,CADxB;AAEIgkB,mBAAO,EAAEA;AAFb;AAIH;AACJ,OATD;AAUA,wCAAY7C,KAAZ;AAAmBd,iBAAS,EAAEyD;AAA9B;;AACJ,SAAKP,UAAL;AACI,UAAMU,YAAY,GAAGvhB,MAAM,CAAC9I,IAA5B;AACA,UAAMsqB,cAAc,GAAG/C,KAAK,CAACd,SAA7B;AACA6D,oBAAc,CAACnkB,GAAf,CAAmB,UAAU2Q,IAAV,EAAgB1Q,KAAhB,EAAuB;AACtC,YAAIikB,YAAY,KAAKvT,IAAI,CAACqT,OAAL,CAAavE,EAAlC,EAAsC;AAClC0E,wBAAc,CAACC,MAAf,CAAsBnkB,KAAtB,EAA6B,CAA7B;AACH;AACJ,OAJD;AAKA,wCAAYmhB,KAAZ;AAAmBd,iBAAS,EAAE6D;AAA9B;;AACJ,SAAKV,QAAL;AACI,UAAMY,OAAO,GAAG1hB,MAAM,CAAC9I,IAAP,CAAYwqB,OAA5B;AACA,UAAMC,SAAS,GAAG3hB,MAAM,CAAC9I,IAAP,CAAYyqB,SAA9B;AACA,UAAMC,mBAAmB,GAAGnD,KAAK,CAACd,SAAlC;AACAiE,yBAAmB,CAACvkB,GAApB,CAAwB,UAAU2Q,IAAV,EAAgB1Q,KAAhB,EAAuB;AAC3C,YAAIqkB,SAAS,KAAK3T,IAAI,CAACqT,OAAL,CAAavE,EAA/B,EAAmC;AAC/B,cAAMwE,OAAO,GAAGtT,IAAI,CAACsT,OAArB;AACAA,iBAAO,CAACjkB,GAAR,CAAY,UAAU2Q,IAAV,EAAgB1Q,KAAhB,EAAuB;AAC/B,gBAAIokB,OAAO,KAAK1T,IAAI,CAAC8O,EAArB,EAAyB;AACrBwE,qBAAO,CAACG,MAAR,CAAenkB,KAAf,EAAsB,CAAtB;AACH;AACJ,WAJD;AAKAskB,6BAAmB,CAACtkB,KAAD,CAAnB,8BACOskB,mBAAmB,CAACtkB,KAAD,CAD1B;AAEIgkB,mBAAO,EAAEA;AAFb;AAIH;AACJ,OAbD;AAcA,wCAAY7C,KAAZ;AAAmBd,iBAAS,EAAEiE;AAA9B;;AACJ;AACI,aAAOnD,KAAP;AAtDR;AAwDH,CAzDD,E;;ACjBA;AACO,IAAMoD,YAAY,GAAG,gBAArB,C,CAEP;;AACO,IAAMC,YAAY,GAAG,gBAArB,C,CAEP;;AACO,IAAMC,WAAW,GAAG,eAApB,C;;;ACPP;AACA;AAEA;;AACA,IAAMC,aAAa,GAAG;AAClBzE,UAAQ,EAAE,CADQ;AAElBC,aAAW,EAAE,CAFK;AAGlBC,aAAW,EAAE,CAHK;AAIlBwE,SAAO,EAAE,CAJS;AAKlBjB,aAAW,EAAE,IAAI9rB,IAAJ,EALK;AAMlByoB,WAAS,EAAE;AANO,CAAtB;;AAQA,IAAMuE,eAAS,GAAG,SAAZA,SAAY,GAAmC;AAAA,MAAlCzD,KAAkC,uEAA1BuD,aAA0B;AAAA,MAAXhiB,MAAW;;AACjD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK2oB,YAAL;AACI,aAAO7hB,MAAM,CAAC9I,IAAd;;AACJ,SAAK4qB,YAAL;AACI,UAAMK,QAAQ,GAAGniB,MAAM,CAAC9I,IAAP,CAAYymB,SAA7B;;AAEA,UAAIwE,QAAQ,CAACzyB,MAAT,KAAoB,CAAxB,EAA2B;AACvB,YAAM0yB,YAAY,GAAG3D,KAAK,CAACd,SAAN,CAAgB7P,MAAhB,CAAuB9N,MAAM,CAAC9I,IAAP,CAAYymB,SAAnC,CAArB;AACA,0CAAYc,KAAZ;AAAmBd,mBAAS,EAAEyE;AAA9B;AACH,OAHD,MAGO;AACH,eAAO3D,KAAP;AACH;;AACL,SAAKsD,WAAL;AACI,UAAMM,MAAM,GAAG5D,KAAK,CAACd,SAArB;AACA0E,YAAM,CAAChlB,GAAP,CAAW,UAAU2Q,IAAV,EAAgB1Q,KAAhB,EAAuB;AAC9B,YAAI0Q,IAAI,CAAC8O,EAAL,KAAY9c,MAAM,CAAC5G,MAAP,CAAc0jB,EAA9B,EAAkC;AAC9BuF,gBAAM,CAAC/kB,KAAD,CAAN,8BACO+kB,MAAM,CAAC/kB,KAAD,CADb;AAEIglB,oBAAQ,EAAEtiB,MAAM,CAAC9I,IAAP,CAAYorB,QAF1B;AAGIC,sBAAU,EAAEviB,MAAM,CAAC9I,IAAP,CAAYqrB,UAH5B;AAIIjmB,kBAAM,EAAE0D,MAAM,CAAC5G,MAAP,CAAckD,MAJ1B;AAKIpD,gBAAI,EAAE8G,MAAM,CAAC5G,MAAP,CAAckD;AALxB;AAOH;AACJ,OAVD;AAWA,wCAAYmiB,KAAZ;AAAmBd,iBAAS,EAAE0E;AAA9B;;AACJ;AACI,aAAO5D,KAAP;AA3BR;AA6BH,CA9BD;;AAgCe+D,6FAAe,CAAC;AAC3BN,WAAS,EAATA,eAASA;AADkB,CAAD,CAA9B,E;;AC5CA;AACO,IAAMO,gBAAgB,GAAG,qBAAzB,C,CAEP;;AACO,IAAMC,UAAU,GAAG,cAAnB,C,CAEP;;AACO,IAAMhG,gBAAW,GAAG,eAApB,C,CAEP;;AACO,IAAMiG,WAAW,GAAG,eAApB,C,CAEP;;AACO,IAAM1D,kBAAa,GAAG,iBAAtB,C,CAEP;;AACO,IAAM2D,aAAa,GAAG,iBAAtB,C,CAEP;;AACO,IAAMC,cAAc,GAAG,kBAAvB,C,CAEP;;AACO,IAAMC,kBAAkB,GAAG,uBAA3B,C,CAEP;;AACO,IAAMC,cAAc,GAAG,mBAAvB,C;;;ACzBP;AACA;AAYA;;AACA,IAAMC,YAAY,GAAG;AACjBzF,UAAQ,EAAE,CADO;AAEjBC,aAAW,EAAE,CAFI;AAGjBC,aAAW,EAAE,CAHI;AAIjBC,WAAS,EAAE,CAJM;AAKjBsD,aAAW,EAAE,CALI;AAMjBrD,WAAS,EAAE;AANM,CAArB;;AAQA,IAAMsF,aAAQ,GAAG,SAAXA,QAAW,GAAkC;AAAA,MAAjCxE,KAAiC,uEAAzBuE,YAAyB;AAAA,MAAXhjB,MAAW;;AAC/C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKwjB,gBAAL;AACI,wCAAY+B,KAAZ,EAAsBze,MAAM,CAAC9I,IAA7B;;AACJ,SAAKyrB,WAAL;AACI,UAAMM,SAAQ,GAAGjjB,MAAM,CAAC9I,IAAP,CAAYymB,SAA7B;;AACA,UAAIsF,SAAQ,CAACvzB,MAAT,KAAoB,CAAxB,EAA2B;AACvB,YAAMwzB,WAAW,GAAGzE,KAAK,CAACd,SAAN,CAAgB7P,MAAhB,CAAuB9N,MAAM,CAAC9I,IAAP,CAAYymB,SAAnC,CAApB;AACA,0CAAY3d,MAAM,CAAC9I,IAAnB;AAAyBymB,mBAAS,EAAEuF;AAApC;AACH,OAHD,MAGO;AACH,eAAOzE,KAAP;AACH;;AACL;AACI,aAAOA,KAAP;AAZR;AAcH,CAfD;AAiBA;;;AACA,IAAM0E,kBAAkB,GAAG,EAA3B;;AACA,IAAMC,kBAAa,GAAG,SAAhBA,aAAgB,GAAwC;AAAA,MAAvC3E,KAAuC,uEAA/B0E,kBAA+B;AAAA,MAAXnjB,MAAW;;AAC1D,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKupB,gBAAL;AACI,UAAIW,cAAa,GAAGpjB,MAAM,CAAC9I,IAA3B;;AACAksB,oBAAa,CAACC,OAAd,CAAsB;AAClBvG,UAAE,EAAE,GADc;AAElBwG,iBAAS,EAAE,CAFO;AAGlBC,mBAAW,EAAE,IAHK;AAIlBC,YAAI,EAAE,EAJY;AAKlBC,kBAAU,EAAE,EALM;AAMlBtG,kBAAU,EAAE;AANM,OAAtB;;AAQA,aAAOiG,cAAP;;AACJ;AACI,aAAO3E,KAAP;AAbR;AAeH,CAhBD;AAkBA;;;AACA,IAAMiF,eAAe,GAAG;AACpB/F,WAAS,EAAE;AADS,CAAxB;;AAGA,IAAMgG,gBAAW,GAAG,SAAdA,WAAc,GAAqC;AAAA,MAApClF,KAAoC,uEAA5BiF,eAA4B;AAAA,MAAX1jB,MAAW;;AACrD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKwpB,UAAL;AACI,aAAO1iB,MAAM,CAAC9I,IAAd;;AACJ;AACI,aAAOunB,KAAP;AAJR;AAMH,CAPD;AASA;;;AACA,IAAMmF,kBAAkB,GAAG;AACvBjG,WAAS,EAAE;AADY,CAA3B;;AAGA,IAAMkG,mBAAc,GAAG,SAAjBA,cAAiB,GAAwC;AAAA,MAAvCpF,KAAuC,uEAA/BmF,kBAA+B;AAAA,MAAX5jB,MAAW;;AAC3D,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK6pB,cAAL;AACI,aAAO/iB,MAAM,CAAC9I,IAAd;;AACJ;AACI,aAAOunB,KAAP;AAJR;AAMH,CAPD;AASA;;;AACA,IAAMqF,eAAe,GAAG;AACpBvE,YAAU,EAAE;AACRwE,aAAS,EAAE,CADH;AAERC,eAAW,EAAE,CAFL;AAGRC,mBAAe,EAAE,CAHT;AAIRC,YAAQ,EAAE,EAJF;AAKRC,aAAS,EAAE,CALH;AAMRlS,cAAU,EAAE,EANJ;AAORD,YAAQ,EAAE,EAPF;AAQRE,WAAO,EAAE,EARD;AASRkS,aAAS,EAAE,EATH;AAURC,UAAM,EAAE;AAVA,GADQ;AAapBC,YAAU,EAAE;AACR3G,aAAS,EAAE;AADH;AAbQ,CAAxB;;AAkBA,IAAMO,WAAM,GAAG,SAATA,MAAS,GAAqC;AAAA,MAApCO,KAAoC,uEAA5BqF,eAA4B;AAAA,MAAX9jB,MAAW;;AAChD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK+lB,kBAAL;AACI,wCAAYR,KAAZ;AAAmBc,kBAAU,EAAEvf,MAAM,CAAC9I;AAAtC;;AACJ,SAAK0rB,aAAL;AACI,wCAAYnE,KAAZ;AAAmB6F,kBAAU,EAAEtkB,MAAM,CAAC9I;AAAtC;;AACJ;AACI,aAAOunB,KAAP;AANR;AAQH,CATD;AAWA;;;AACA,IAAM8F,eAAe,GAAG;AACpBhH,UAAQ,EAAE,CADU;AAEpBC,aAAW,EAAE,CAFO;AAGpBC,aAAW,EAAE,CAHO;AAIpBC,WAAS,EAAE,CAJS;AAKpBC,WAAS,EAAE;AALS,CAAxB;;AAOA,IAAM6G,gBAAW,GAAG,SAAdA,WAAc,GAAqC;AAAA,MAApC/F,KAAoC,uEAA5B8F,eAA4B;AAAA,MAAXvkB,MAAW;;AACrD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK2pB,cAAL;AACI,aAAO7iB,MAAM,CAAC9I,IAAd;;AACJ,SAAK4rB,kBAAL;AACI,UAAI5gB,GAAG,GAAGlC,MAAM,CAAC9I,IAAjB;AACAgL,SAAG,CAACyb,SAAJ,GAAgBc,KAAK,CAACd,SAAN,CAAgB7P,MAAhB,CAAuB9N,MAAM,CAAC9I,IAAP,CAAYymB,SAAnC,CAAhB;AACA,aAAOzb,GAAP;;AACJ;AACI,aAAOuc,KAAP;AARR;AAUH,CAXD;;AAae+D,kGAAe,CAAC;AAC3BS,UAAQ,EAARA,aAD2B;AAE3BU,aAAW,EAAXA,gBAF2B;AAG3BP,eAAa,EAAbA,kBAH2B;AAI3BlF,QAAM,EAANA,WAJ2B;AAK3BsG,aAAW,EAAXA,gBAL2B;AAM3BX,gBAAc,EAAdA,mBAAcA;AANa,CAAD,CAA9B,E;;ACxIA;AACO,IAAMY,eAAe,GAAG,oBAAxB,C,CACP;;AACO,IAAMC,mBAAmB,GAAG,wBAA5B,C;;ACHP;AACA;AAEA;;AACA,IAAMC,YAAY,GAAG;AACjBpH,UAAQ,EAAE,CADO;AAEjBC,aAAW,EAAE,CAFI;AAGjBC,aAAW,EAAE,CAHI;AAIjBwE,SAAO,EAAE,CAJQ;AAKjBtE,WAAS,EAAE;AALM,CAArB;;AAOA,IAAMiH,eAAQ,GAAG,SAAXA,QAAW,GAAkC;AAAA,MAAjCnG,KAAiC,uEAAzBkG,YAAyB;AAAA,MAAX3kB,MAAW;;AAC/C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKurB,eAAL;AACI,aAAOzkB,MAAM,CAAC9I,IAAd;;AACJ,SAAKwtB,mBAAL;AACI,aAAO1kB,MAAM,CAAC9I,IAAd;;AACJ;AACI,aAAOunB,KAAP;AANR;AAQH,CATD;;AAWe+D,qFAAe,CAAC;AAC3BoC,UAAQ,EAARA,eAAQA;AADmB,CAAD,CAA9B,E;;ACtBA;AACO,IAAMC,WAAW,GAAG,eAApB,C,CAEP;;AACO,IAAMC,UAAU,GAAG,aAAnB,C,CAEP;;AACO,IAAMC,WAAW,GAAG,cAApB,C;;;ACPP;AAMA,IAAMtK,eAAS,GAAG;AACduK,UAAQ,EAAE;AACNC,WAAO,EAAE,KADH;AAENjO,QAAI,EAAE;AACFhF,cAAQ,EAAE,IADR;AAEFC,gBAAU,EAAE,IAFV;AAGFC,aAAO,EAAE,IAHP;AAIFC,cAAQ,EAAE,IAJR;AAKFC,cAAQ,EAAE,IALR;AAMFC,WAAK,EAAE,IANL;AAOFT,WAAK,EAAE,IAPL;AAQFU,WAAK,EAAE;AARL;AAFA,GADI;AAcd4S,WAAS,EAAE;AACPC,aAAS,EAAE,SADJ;AACe;AACtBC,aAAS,EAAE,KAFJ;AAGPC,cAAU,EAAE,KAHL,CAGW;;AAHX;AAdG,CAAlB;AAqBe,sDAA+B;AAAA,MAA9B5G,KAA8B,uEAAtBhE,eAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK2rB,WAAL;AACI,wCAAYpG,KAAZ;AAAmBuG,gBAAQ,EAAEhlB,MAAM,CAAC9I;AAApC;;AACJ,SAAK4tB,UAAL;AACI,wCAAYrG,KAAZ;AAAmByG,iBAAS,EAAEllB,MAAM,CAAC9I;AAArC;;AACJ,SAAK6tB,WAAL;AACI,wCAAYtG,KAAZ;AAAmByG,iBAAS,EAAEllB,MAAM,CAAC9I;AAArC;;AACJ;AACI,aAAOunB,KAAP;AARR;AAUH,CAXD,E;;AC3BA;AACO,IAAM6G,cAAc,GAAG,iBAAvB,C;;;ACDP;AACA;AAEA,IAAMC,OAAO,GAAG,CACZ;AAAEhC,aAAW,EAAE,IAAf;AAAqBD,WAAS,EAAE,GAAhC;AAAqCnqB,KAAG,EAAEyX,MAAM,CAACjC,CAAP;AAA1C,CADY,EAEZ;AAAE4U,aAAW,EAAE,IAAf;AAAqBD,WAAS,EAAE,KAAhC;AAAuCnqB,KAAG,EAAEyX,MAAM,CAACjC,CAAP;AAA5C,CAFY,EAGZ;AAAE4U,aAAW,EAAE,IAAf;AAAqBD,WAAS,EAAE,KAAhC;AAAuCnqB,KAAG,EAAEyX,MAAM,CAACjC,CAAP;AAA5C,CAHY,EAIZ;AAAE4U,aAAW,EAAE,IAAf;AAAqBD,WAAS,EAAE,KAAhC;AAAuCnqB,KAAG,EAAEyX,MAAM,CAACjC,CAAP;AAA5C,CAJY,EAKZ;AAAE4U,aAAW,EAAE,IAAf;AAAqBD,WAAS,EAAE,KAAhC;AAAuCnqB,KAAG,EAAEyX,MAAM,CAACjC,CAAP,CAAS,UAAT;AAA5C,CALY,CAAhB;AAQA,IAAM8L,gBAAS,GAAG;AACd+K,cAAY,EAAE;AADA,CAAlB;AAIe,uDAA+B;AAAA,MAA9B/G,KAA8B,uEAAtBhE,gBAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKosB,cAAL;AACI,wCAAY7G,KAAZ;AAAmB+G,oBAAY,EAAED,OAAO,CAACzX,MAAR,CAAe9N,MAAM,CAAC9I,IAAtB;AAAjC;;AACJ;AACI,aAAOunB,KAAP;AAJR;AAMH,CAPD,E;;ACfA;AACO,IAAMgH,gBAAgB,GAAG,qBAAzB,C,CACP;;AACO,IAAMC,eAAe,GAAG,mBAAxB,C,CACP;;AACO,IAAMC,4BAA4B,GAAG,mCAArC,C,CACP;;AACO,IAAMC,8BAA8B,GAAG,sCAAvC,C,CACP;;AACO,IAAMC,mBAAmB,GAAG,yBAA5B,C,CACP;;AACO,IAAMC,uBAAuB,GAAG,6BAAhC,C;;;ACXP;AAOA;AAEA,IAAMrL,cAAS,GAAG;AACd;AACAsL,eAAa,EAAE,EAFD;AAGd;AACAC,cAAY,EAAE,EAJA;AAMd;AACAC,YAAU,EAAE;AACRC,cAAU,EAAE,KADJ,CACU;;AADV,GAPE;;AAWd;AACAC,uBAAqB,EAAE;AACnB5I,YAAQ,EAAE,CADS;AAEnBC,eAAW,EAAE,CAFM;AAGnBC,eAAW,EAAE,CAHM;AAInBC,aAAS,EAAE,CAJQ;AAKnBC,aAAS,EAAE;AALQ,GAZT;AAmBdyI,yBAAuB,EAAE,EAnBX;AAoBdC,cAAY,EAAE;AApBA,CAAlB;AAuBe,qDAA+B;AAAA,MAA9B5H,KAA8B,uEAAtBhE,cAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKusB,gBAAL;AACI,UAAIa,QAAQ,GAAGtmB,MAAM,CAAC9I,IAAP,CAAYymB,SAA3B;AACA2I,cAAQ,CAACjpB,GAAT,CAAa,UAAC2Q,IAAD,EAAU;AACnB,YAAI,CAACA,IAAI,CAACE,OAAV,EAAmB;AACnB,YAAIC,UAAU,GAAGH,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,MAA8B,CAAC,CAA/B,GAAmC,CAAnC,GAAuCwX,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,IAA4B,CAApF;AACA,YAAI4X,QAAQ,GAAGJ,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,MAA8B,CAAC,CAA/B,GAAmC,CAAnC,GAAuCwX,IAAI,CAACE,OAAL,CAAa1X,OAAb,CAAqB,GAArB,CAAtD;AACAwX,YAAI,CAACC,KAAL,GAAaD,IAAI,CAACE,OAAL,CAAa5G,SAAb,CAAuB6G,UAAvB,EAAmCC,QAAnC,CAAb;AACAJ,YAAI,CAAC7U,GAAL,GAAWyX,MAAM,CAACe,IAAP,kBAAsB3D,IAAI,CAAC8O,EAA3B,WAAX;AACH,OAND;AAQA,wCAAY2B,KAAZ;AAAmBsH,qBAAa,EAAEO;AAAlC;;AACJ,SAAKZ,eAAL;AACI,wCAAYjH,KAAZ;AAAmBuH,oBAAY,EAAEhmB,MAAM,CAAC9I;AAAxC;;AACJ,SAAK4uB,uBAAL;AACI,wCAAYrH,KAAZ;AAAmBwH,kBAAU,EAAEjmB,MAAM,CAAC9I;AAC1C;;AADI;;AAEJ,SAAK2uB,mBAAL;AACI,wCAAYpH,KAAZ;AAAmB4H,oBAAY,EAAErmB,MAAM,CAAC9I;AAAxC;;AACJ,SAAKyuB,4BAAL;AACI,UAAIY,iBAAiB,GAAGvmB,MAAM,CAAC9I,IAA/B;;AACA,UAAI8I,MAAM,CAAC9I,IAAP,CAAYumB,WAAZ,GAA0B,CAA9B,EAAiC;AAC7B8I,yBAAiB,CAAC5I,SAAlB,CAA4B7P,MAA5B,CAAmC9N,MAAM,CAAC9I,IAAP,CAAYymB,SAA/C;AACA,0CAAYc,KAAZ;AAAmB0H,+BAAqB,EAAEI;AAA1C;AACH,OAHD,MAGO;AACH,0CAAY9H,KAAZ;AAAmB0H,+BAAqB,EAAEI;AAA1C;AACH;;AACL;AACI,aAAO9H,KAAP;AA5BR;AA8BH,CA/BD,E;;AChCA;AACO,IAAM+H,0BAA0B,GAAG,gCAAnC,C;;;ACDP;AAIA,IAAM/L,cAAS,GAAG;AACd;AACAgM,wBAAsB,EAAE;AAFV,CAAlB;AAKe,qDAA+B;AAAA,MAA9BhI,KAA8B,uEAAtBhE,cAAsB;AAAA,MAAXza,MAAW;;AAC1C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKstB,0BAAL;AACI,wCAAY/H,KAAZ;AAAmBgI,8BAAsB,EAAEzmB,MAAM,CAAC9I;AAAlD;;AACJ;AACI,aAAOunB,KAAP;AAJR;AAMH,CAPD,E;;ACTA;AACO,IAAMiI,WAAW,GAAG,cAApB,C,CAEP;;AACO,IAAMC,gBAAgB,GAAG,oBAAzB,C,CAEP;;AACO,IAAMC,eAAe,GAAG,mBAAxB,C,CAEP;;AACO,IAAMC,KAAK,GAAG,QAAd,C,CAEP;;AACO,IAAMpK,mBAAY,GAAG,gBAArB,C,CAEP;;AACO,IAAMqK,UAAU,GAAG,aAAnB,C;;;;AChBP;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAQA;;AACA,IAAMC,eAAe,GAAG;AACpBC,SAAO,EAAE,EADW;AAEpBC,UAAQ,EAAE;AAFU,CAAxB;;AAIA,IAAM/K,aAAM,GAAG,SAATA,MAAS,GAAqC;AAAA,MAApCuC,KAAoC,uEAA5BsI,eAA4B;AAAA,MAAX/mB,MAAW;;AAChD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK0tB,eAAL;AACI,wCAAYnI,KAAZ;AAAmBuI,eAAO,EAAEhnB,MAAM,CAAC9I;AAAnC;;AACJ,SAAKyvB,gBAAL;AACI,wCAAYlI,KAAZ;AAAmBwI,gBAAQ,EAAEjnB,MAAM,CAAC9I;AAApC;;AACJ;AACI,aAAOunB,KAAP;AANR;AAQH,CATD;AAWA;;;AACA,IAAMyI,WAAW,GAAG,EAApB;;AACA,IAAMC,aAAM,GAAG,SAATA,MAAS,GAAiC;AAAA,MAAhC1I,KAAgC,uEAAxByI,WAAwB;AAAA,MAAXlnB,MAAW;;AAC5C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK2tB,KAAL;AACI,aAAO7mB,MAAM,CAAC9I,IAAd;;AACJ;AACI,aAAOunB,KAAP;AAJR;AAMH,CAPD;AASA;;;AACA,IAAM2I,aAAa,GAAG,EAAtB;;AACA,IAAMtJ,gBAAS,GAAG,SAAZA,SAAY,GAAmC;AAAA,MAAlCW,KAAkC,uEAA1B2I,aAA0B;AAAA,MAAXpnB,MAAW;;AACjD,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAKujB,mBAAL;AACI,aAAOzc,MAAM,CAAC9I,IAAd;;AACJ;AACI,aAAOunB,KAAP;AAJR;AAMH,CAPD;AASA;;;AACA,IAAM4I,UAAU,GAAG,EAAnB;;AACA,IAAMC,aAAM,GAAG,SAATA,MAAS,GAAgC;AAAA,MAA/B7I,KAA+B,uEAAvB4I,UAAuB;AAAA,MAAXrnB,MAAW;;AAC3C,UAAQA,MAAM,CAAC9G,IAAf;AACI,SAAK4tB,UAAL;AACI,UAAMS,UAAU,GAAG7wB,4BAAO,CAACuD,GAAR,CAAYxD,WAAW,CAACkc,OAAxB,CAAnB;AACA,UAAMA,OAAO,GAAGnD,OAAO,CAAC,EAAD,EAAK,EAAL,CAAvB;AACA9Y,kCAAO,CAACgJ,GAAR,CAAYjJ,WAAW,CAACkc,OAAxB,EAAiCA,OAAjC;AAEA,UAAIC,QAAQ,GAAGlc,4BAAO,CAACuD,GAAR,CAAYxD,WAAW,CAACmc,QAAxB,CAAf;;AACA,UAAI,CAACA,QAAL,EAAe;AACXA,gBAAQ,GAAGpD,OAAO,EAAlB;AACA9Y,oCAAO,CAACgJ,GAAR,CAAYjJ,WAAW,CAACmc,QAAxB,EAAkCA,QAAlC;AACH;;AAED,UAAM4U,UAAU,GAAG;AACfC,gBAAQ,EAAE9U,OADK;AAEf+U,oBAAY,EAAEH,UAFC;AAGfI,mBAAW,EAAE,KAHE;AAIfC,iBAAS,EAAEhV,QAJI;AAKfiV,kBAAU,EAAE7nB,MAAM,CAAC9I,IAAP,IAAe8I,MAAM,CAAC9I,IAAP,CAAY4wB,SALxB;AAMfhwB,iBAAS,EAAEqM,QAAQ,CAAC,IAAIjP,IAAJ,GAAW6C,OAAX,KAAuB,IAAxB,CANJ;AAOfgwB,kBAAU,EAAE/nB,MAAM,CAAC9I,IAAP,IAAe8I,MAAM,CAAC9I,IAAP,CAAY8wB;AAPxB,OAAnB;AAUA,UAAMC,MAAM,GAAGvxB,4BAAO,CAACuD,GAAR,CAAYxD,WAAW,CAACwb,UAAxB,CAAf;AACA,UAAIgW,MAAJ,EAAYT,UAAU,CAAC,SAAD,CAAV,GAAwBS,MAAxB;AAEZ,UAAMC,QAAQ,GAAGxxB,4BAAO,CAACuD,GAAR,CAAYxD,WAAW,CAACub,QAAxB,CAAjB;AACA,UAAIkW,QAAJ,EAAcV,UAAU,CAAC,WAAD,CAAV,GAA0BU,QAA1B;AAEdzJ,WAAK,CAAC9gB,IAAN,CAAW6pB,UAAX;AACA,yCAAW/I,KAAX;;AACJ;AACI,aAAOA,KAAP;AA/BR;AAiCH,CAlCD;;AAoCe+D,8FAAe,CAAC;AAC3B2F,OAAK,EAALA,KAD2B;AAE3BjM,QAAM,EAANA,aAF2B;AAG3BiL,QAAM,EAANA,aAH2B;AAI3BiB,QAAM,EAANA,MAJ2B;AAK3BC,OAAK,EAALA,cAL2B;AAM3BhH,SAAO,EAAPA,OAN2B;AAO3B1P,MAAI,EAAJA,mBAP2B;AAQ3BmM,WAAS,EAATA,gBAR2B;AAS3B7B,QAAM,EAANA,MAT2B;AAU3BqM,MAAI,EAAJA,IAV2B;AAW3BC,MAAI,EAAJA,IAX2B;AAY3BjB,QAAM,EAANA,aAAMA;AAZqB,CAAD,CAA9B,E;;ACjGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEe9E,0FAAe,CAACtxB,MAAM,CAACC,MAAP,CAAc;AACzCwgB,MAAI,EAAJA,aADyC;AAEzCuM,QAAM,EAANA,eAFyC;AAGzCmK,OAAK,EAALA,KAHyC;AAIzCG,cAAY,EAAZA,YAJyC;AAKzCC,QAAM,EAANA,MALyC;AAMzCC,OAAK,EAALA,eAAKA;AANoC,CAAd,CAAD,CAA9B,E;;ACTA;AACA;AAEA;AAEA;;AAEA,IAAMC,iBAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK;AAAA,SAAI,UAAAtK,IAAI;AAAA,WAAI,UAAAte,MAAM,EAAI;AAC3C,UAAIA,MAAM,CAAC9G,IAAP,KAAgBwtB,WAApB,EAAiC;AAC7B,eAAOkC,KAAK,CAACC,QAAN,EAAP;AACH,OAFD,MAEO;AACH,eAAOvK,IAAI,CAACte,MAAD,CAAX;AACH;AACJ,KANgC;AAAA,GAAR;AAAA,CAAzB;;AAQe,6DAAM;AACjB,SAAO8oB,sCAAW,CAACC,WAAD,EAAc,EAAd,EAAkBC,kCAAO,CAACC,0CAAe,CAACC,8BAAD,EAAQP,iBAAR,CAAhB,CAAzB,CAAlB;AACH,CAFD,E;;;;;;;;;;ACfA;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;CAGA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAIA,IAAMQ,eAAQ,GAAG,SAAXA,QAAW,CAAChwB,GAAD,EAAMiwB,WAAN,EAAsB;AACnC,MAAIC,MAAM,GAAG,KAAb;;AACA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAAChnB,GAAD,EAAS;AAAA;AAAA;AAAA;;AAAA;AACpB,2BAAgBA,GAAhB,8HAAqB;AAAA,YAAZ/G,GAAY;AACjB,YAAIguB,OAAO,GAAG,IAAd;;AACA,YAAIhuB,GAAG,CAACpJ,IAAR,EAAc;AACV,cAAMiH,MAAM,GAAG,EAAf;AACAA,gBAAM,CAACjH,IAAP,GAAcoJ,GAAG,CAACpJ,IAAlB;AACA,cAAIoJ,GAAG,CAACiuB,KAAR,EAAepwB,MAAM,CAACowB,KAAP,GAAejuB,GAAG,CAACiuB,KAAnB;AACf,cAAIjuB,GAAG,CAACkuB,MAAR,EAAgBrwB,MAAM,CAACqwB,MAAP,GAAgBluB,GAAG,CAACkuB,MAApB;AAChBF,iBAAO,GAAGG,+CAAS,CAACvwB,GAAD,EAAMC,MAAN,CAAnB;AACH;;AAED,YAAMuwB,KAAK,GAAGz4B,MAAM,CAACuC,SAAP,CAAiBN,QAAjB,CAA0BkP,IAA1B,CAA+BknB,OAA/B,MAA4C,iBAA1D;;AACA,YAAII,KAAJ,EAAW;AACPN,gBAAM,GAAG,IAAT;AACA,iBAAO,IAAP;AACH;;AACD,YAAI9tB,GAAG,CAACquB,MAAJ,IAAc,CAACD,KAAnB,EAA0B;AACtBL,gBAAM,CAAC/tB,GAAG,CAACquB,MAAL,CAAN;AACH;AACJ;AAnBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBvB,GApBD;;AAqBAN,QAAM,CAACF,WAAD,CAAN;AACA,SAAOC,MAAP;AACH,CAzBD;AA2BA;;;;;AAGA,IAAMQ,MAAM,GAAGx5B,YAAA,KAAyB,aAAxC;AACA,IAAMy5B,QAAQ,GAAG33B,uBAAI,CAACyd,IAAL,CAAUma,SAAV,EAAqB55B,KAArB,CAA2B,QAA3B,EAAqC,CAArC,CAAjB;AACA,IAAM65B,cAAc,GAAGH,MAAM,GAAG,OAAH,GAAa,OAA1C;AACA,IAAMI,SAAS,GAAG93B,uBAAI,CAACyd,IAAL,WAAaka,QAAb,oBAA+BE,cAA/B,0BAAlB;AACA,IAAME,QAAQ,GAAG/3B,uBAAI,CAACyd,IAAL,WAAaka,QAAb,oBAA+BE,cAA/B,0BAAjB;AAEA;AAAA;AAAA;AAAA,6BAAe,iBAAOnzB,GAAP,EAAYuE,GAAZ,EAAiBkjB,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACX;AACM6L,2BAFK,GAEa;AAAEC,uBAAS,EAAEH,SAAb;AAAwBI,yBAAW,EAAE,CAAC,KAAD;AAArC,aAFb;AAGX,gBAAI,CAACR,MAAL,EAAaM,eAAe,CAACG,UAAhB,GAA6BC,uBAAY,CAAC14B,uBAA1C;AACP24B,yBAJK,GAIW,IAAIC,2CAAJ,CAAmBN,eAAnB,CAJX;AAAA,oCAKcK,aAAa,CAACE,iBAAd,EALd,EAKMC,GALN;AAMLf,kBANK,GAMIe,GAAG,CAACf,MAAJ,GAAaA,MANjB;AAOLgB,mBAPK,GAOKD,GAAG,CAACf,MAAJ,GAAagB,OAPlB;AAQLC,qBARK,GAQOF,GAAG,CAACE,SARX;AAUX;;AACMC,wBAXK,GAWU,IAAIL,2CAAJ,CAAmB;AAAEL,uBAAS,EAAEF,QAAb;AAAuBG,yBAAW,EAAE,CAAC,OAAD;AAApC,aAAnB,CAXV;AAaP1vB,gBAbO,GAaA9D,GAAG,CAACiD,QAbJ;AAcPzD,kBAdO,GAcE,EAdF;AAeLjG,eAfK,GAeCC,YAfD;;AAgBX,gBAAID,GAAG,KAAK,YAAZ,EAA0B;AACxB,kBAAIyG,GAAG,CAACN,QAAJ,CAAaS,QAAb,CAAsB,kBAAtB,CAAJ,EAA+C;AAC7CX,sBAAM,GAAG,kBAAT;AACD;;AACD,kBAAIQ,GAAG,CAACN,QAAJ,CAAaS,QAAb,CAAsB,YAAtB,CAAJ,EAAyC;AACvCX,sBAAM,GAAG,YAAT;AACD;;AACD,kBAAIQ,GAAG,CAACN,QAAJ,CAAaS,QAAb,CAAsB,YAAtB,CAAJ,EAAyC;AACvCX,sBAAM,GAAG,YAAT;AACD;AACF;;AACD,gBAAIjG,GAAG,KAAK,MAAZ,EAAoBiG,MAAM,GAAG,aAAT;;AACpB,gBAAIQ,GAAG,CAACyZ,OAAJ,CAAY7Z,WAAW,CAACqD,QAAxB,CAAJ,EAAuC;AACrCa,kBAAI,GAAG9D,GAAG,CAACyZ,OAAJ,CAAY7Z,WAAW,CAACqD,QAAxB,CAAP;AACD,aAFD,MAEO;AACHpD,0CAAO,CAACgJ,GAAR,CAAYjJ,WAAW,CAACqD,QAAxB,EAAkCa,IAAlC,EAAwC;AAAEtE,sBAAM,EAAEA;AAAV,eAAxC;AACH;;AACK00B,qBAjCK,GAiCOl0B,GAAG,CAACsC,GAAJ,CAAQhJ,KAAR,CAAc,GAAd,CAjCP;;AAkCX,gBAAI46B,SAAS,IAAIA,SAAS,CAAC,CAAD,CAA1B,EAA+B;AAC7BvuB,qBAAO,CAACC,GAAR,CAAYsuB,SAAS,CAAC,CAAD,CAArB;AACAl0B,iBAAG,CAACiD,QAAJ,GAAeixB,SAAS,CAAC,CAAD,CAAxB;AACApwB,kBAAI,GAAGowB,SAAS,CAAC,CAAD,CAAhB;AACAr0B,0CAAO,CAACgJ,GAAR,CAAYjJ,WAAW,CAACqD,QAAxB,EAAkCixB,SAAS,CAAC,CAAD,CAA3C,EAAgD;AAAE10B,sBAAM,EAAEA;AAAV,eAAhD;AACD;;AACDQ,eAAG,CAACm0B,IAAJ,CAASC,cAAT,CAAwBtwB,IAAxB;AAEIhD,oBA1CO,GA0CI,IA1CJ;;AA2CX,gBAAIkyB,MAAJ,EAAY;AACR,kBAAI,CAAChpB,IAAI,CAAChK,GAAD,CAAT,EAAgBc,QAAQ,GAAG,KAAX;AACnB,aAFD,MAEO;AACGuzB,uBADH,GACe,CAAC,oBAAD,EAAuB,cAAvB,EAAuC,gBAAvC,EAAyD,cAAzD,CADf;AAEH,kBAAIr0B,GAAG,CAACN,QAAJ,KAAiBqa,MAAM,CAACjC,CAAP,GAAWxe,KAAX,CAAiB,KAAjB,EAAwB,CAAxB,CAAjB,IAAgD+6B,SAAS,CAAC10B,OAAV,CAAkBK,GAAG,CAACN,QAAtB,IAAkC,CAAC,CAAvF,EAA2FoB,QAAQ,GAAG,KAAX;AAC9F,aAhDU,CAiDX;;AACA;AACA;;;AACMwzB,wBApDK,GAoDU;AACjBC,uBAAS,EAAE/V,OAAO,CAACxe,GAAD;AADD,aApDV;AAuDLw0B,sBAvDK,GAuDQ1zB,QAAQ,KAAK,IAAb,GAAoBiyB,MAAM,CAACuB,YAAD,CAA1B,GAA2CP,OAAO,CAACO,YAAD,CAvD1D;AAyDLG,mBAzDK,GAyDKnC,eAAQ,CAACtyB,GAAG,CAAC1E,IAAL,EAAWk5B,UAAX,CAzDb;;AAAA,gBA0DNC,OA1DM;AAAA;AAAA;AAAA;;AAAA;AAAA,mBA2DDhN,IAAI,EA3DH;;AAAA;AAAA;AAAA;;AAAA;AA6DP;AACMsK,iBA9DC,GA8DO2C,YAAW,EA9DlB;AA+DDC,kBA/DC,GA+DQC,oDAAW,CAACJ,UAAD,EAAax0B,GAAG,CAAC1E,IAAjB,CA/DnB;AAgEDu5B,oBAhEC,GAgEUF,MAAM,CAACnuB,GAAP,CAAW,iBAAsB;AAAA,kBAAnBsuB,KAAmB,SAAnBA,KAAmB;AAAA,kBAAZ7mB,KAAY,SAAZA,KAAY;AAC9C,kBAAM8mB,eAAe,GAAGD,KAAK,CAACE,SAAN,CAAgBD,eAAxC;AACA,qBAAOA,eAAe,YAAYE,QAA3B,GAAsCF,eAAe,CAAC;AACzD/0B,mBAAG,EAAHA,GADyD;AAEzDuE,mBAAG,EAAHA,GAFyD;AAGzD0J,qBAAK,EAALA,KAHyD;AAIzD8jB,qBAAK,EAALA,KAJyD;AAKzDmD,wBAAQ,EAAE;AAL+C,eAAD,CAArD,GAMFhzB,OAAO,CAACC,OAAR,CAAgB,IAAhB,CANL;AAOH,aATgB,CAhEV;AA2EP;;;;;;;AAMA;;;;;;;;;;;;AAYIgzB,kBA7FG,GA6FM,IA7FN,EA8FP;;AACIhS,qBA/FG,GA+FS,EA/FT;AAAA;AAAA,mBAgGDjhB,OAAO,CAACkzB,GAAR,CAAYP,QAAZ,EAAsBvwB,IAAtB,CAA2B,UAACC,GAAD,EAAS;AACtC;AACAA,iBAAG,CAACiC,GAAJ,CAAQ,UAAC2Q,IAAD,EAAU;AACd,oBAAM2b,KAAK,GAAGz4B,MAAM,CAACuC,SAAP,CAAiBN,QAAjB,CAA0BkP,IAA1B,CAA+B2L,IAA/B,MAAyC,iBAAvD,CADc,CAC2D;;AACzE,oBAAMke,cAAc,GAAGvC,KAAK,KAAK,CAAC3b,IAAI,CAACZ,cAAL,CAAoB,MAApB,CAAD,IAAgCY,IAAI,CAAC9U,IAAL,KAAc,eAAnD,CAAL,IAA4E,CAAC8U,IAAI,CAACZ,cAAL,CAAoB,MAApB,CAApG,CAFc,CAEkH;;AAChI,oBAAI8e,cAAJ,EAAoB;AAChBlS,2BAAS,GAAG9oB,MAAM,CAACC,MAAP,CAAc6oB,SAAd,EAAyBhM,IAAzB,CAAZ;AACH;AACJ,eAND;AAOH,aATK,WASG,UAAC/R,GAAD,EAAS;AACd+vB,oBAAM,GAAG/vB,GAAT;AACH,aAXK,CAhGC;;AAAA;AA6GP;AACA;AACA;AACA;;AACA;;;;;;;;;;;;;;;;;AAjHO,yBAkIgB+d,SAlIhB,EAkICK,UAlID,cAkICA,UAlID;;AAmIP,gBAAIA,UAAJ,EAAgB;AACZ,kBAAI1iB,QAAQ,KAAK,KAAb,IAAsB0iB,UAAU,KAAK,QAAzC,EAAmD1iB,QAAQ,GAAG,IAAX;AACnD,kBAAIA,QAAQ,KAAK,IAAb,IAAqB0iB,UAAU,KAAK,SAAxC,EAAmD1iB,QAAQ,GAAG,KAAX;;AACnD,kBAAI0iB,UAAU,KAAK,SAAnB,EAA8B;AAAE;AAC5BL,yBAAS,CAACK,UAAV,GAAuB8R,SAAvB;;AACA,oBAAI,CAACtrB,IAAI,CAAChK,GAAD,CAAT,EAAgB;AACZc,0BAAQ,GAAG,KAAX;AACH,iBAFD,MAEO;AACHA,0BAAQ,GAAG,IAAX;AACH;AACJ;AACJ,aA9IM,CAgJP;AACA;AACA;AACA;AACA;AACA;;;AAEMy0B,qBAvJC,GAuJW,SAAZA,SAAY,CAACnwB,GAAD,EAAS;AACvB,kBAAI,EAAEA,GAAG,YAAYL,KAAjB,CAAJ,EAA6B;AAC7B,kBAAMM,MAAM,GAAGD,GAAG,CAACJ,OAAJ,CAAY7I,OAAZ,CAAoB,UAApB,EAAgC,EAAhC,CAAf;;AACA,kBAAIwE,aAAM,CAAC0E,MAAD,CAAV,EAAoB;AAChBd,mBAAG,CAACsc,MAAJ,CAAW9a,KAAX,4BACO/G,IAAI,CAAC4B,KAAL,CAAWyE,MAAX,CADP;AAEIQ,uBAAK,EAAET,GAAG,CAACS;AAFf;AAIH,eALD,MAKO;AACHtB,mBAAG,CAACsc,MAAJ,CAAW9a,KAAX,CAAiB;AACbf,yBAAO,EAAEK,MADI;AAEbQ,uBAAK,EAAET,GAAG,CAACS;AAFE,iBAAjB;AAIH;;AACD,qBAAOR,MAAP;AACH,aAtKM,EAuKP;;;AACA,gBAAI8vB,MAAJ,EAAYI,SAAS,CAACJ,MAAD,CAAT;AAEZ;;AACIK,eA3KG,GA2KG,IA3KH;AA4KHC,gBA5KG,GA4KI,EA5KJ;AA8KHzR,uBA9KG,GA8KW,IA9KX;;AA+KP,gBAAI;AACA;AACAwR,iBAAG,GAAGvB,YAAY,CAACyB,aAAb,CAA2B,uCAAC,iCAAD;AAAU,qBAAK,EAAE3D;AAAjB,iBAC7B,uCAAC,0CAAD;AACI,wBAAQ,EAAE/xB,GAAG,CAACsgB,WADlB;AAEI,uBAAO,EAAE;AAFb,iBAGM,uCAAC,0CAAD;AAAiB,oBAAI,EAAEtgB,GAAG,CAACm0B;AAA3B,iBACE,uCAAC,GAAD;AAAK,wBAAQ,EAAErzB;AAAf,iBAA6BqiB,SAA7B;AAAwC,4BAAY,EAAEmR;AAAtD,iBADF,CAHN,CAD6B,CAA3B,CAAN;AAUA;AACA;;AACAmB,kBAAI,GAAGE,iCAAc,CAACH,GAAD,CAArB;AACH,aAfD,CAeE,OAAOpwB,GAAP,EAAY;AACV;;;;;AAKA4e,yBAAW,GAAG;AACVljB,wBAAQ,EAAEA,QADA;AAEVkE,uBAAO,EAAE,eAFC;AAGVa,qBAAK,EAAE;AAHG,eAAd;;AAKA,kBAAIT,GAAG,YAAYL,KAAnB,EAA0B;AAChBM,sBADgB,GACPkwB,SAAS,CAACnwB,GAAD,CADF;AAGtB4e,2BAAW,GAAG,2BACPA,WADI;AAEPhf,yBAAO,EAAEK,MAFF;AAGPQ,uBAAK,EAAET,GAAG,CAACS;AAHJ,kBAAX;AAKH;;AAED2vB,iBAAG,GAAGvB,YAAY,CAACyB,aAAb,CAA2B,uCAAC,iCAAD;AAAU,qBAAK,EAAE3D;AAAjB,iBAC/B,uCAAC,0CAAD;AAAiB,oBAAI,EAAE/xB,GAAG,CAACm0B;AAA3B,iBACE,uCAAC,0CAAD;AACI,wBAAQ,EAAEn0B,GAAG,CAACsgB,WADlB;AAEI,uBAAO,EAAE;AAFb,iBAGI,uCAAC,SAAD,EAAe0D,WAAf,CAHJ,CADF,CAD+B,CAA3B,CAAN;AASAyR,kBAAI,GAAGE,iCAAc,CAACH,GAAD,CAArB;AACH;AAED;;;AACI1R,mBAhOG,GAgOO,EAhOP;AAiODC,iBAjOC,GAiOOkQ,YAAY,CAAC2B,WAAb,EAjOP;AAkOD/R,kBAlOC,GAkOQoQ,YAAY,CAAC4B,YAAb,EAlOR;;AAmOP,gBAAI7C,MAAJ,EAAY;AACR;AACM8C,0BAFE,GAEa,SAAfA,YAAe,CAAC3e,IAAD,EAAU;AAC3B,oBAAI4e,UAAU,aAAd;AACA,oBAAIC,aAAa,0BAAjB;AACA37B,sBAAM,CAACkM,IAAP,CAAY4Q,IAAI,CAACzF,KAAjB,EAAwBlL,GAAxB,CAA4B,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AAC9C,sBAAI9J,GAAG,KAAK,yBAAZ,EAAuC;AACnCq5B,iCAAa,yBAAkB7e,IAAI,CAACzF,KAAL,CAAW/U,GAAX,EAAgB,QAAhB,CAAlB,cAAb;AACH,mBAFD,MAEO;AACHo5B,8BAAU,cAAOp5B,GAAP,gBAAewa,IAAI,CAACzF,KAAL,CAAW/U,GAAX,CAAf,QAAV;AACH;AACJ,iBAND;AAOAmnB,uBAAO,IAAIiS,UAAU,GAAGC,aAAxB;AACH,eAbO;;AAcR/B,0BAAY,CAACgC,iBAAb,GAAiCzvB,GAAjC,CAAqC,UAAU2Q,IAAV,EAAgB1Q,KAAhB,EAAuB;AACxD,oBAAIvK,KAAK,CAACuI,OAAN,CAAc0S,IAAd,CAAJ,EAAyB;AACrBA,sBAAI,CAAC3Q,GAAL,CAAS,UAAU0vB,MAAV,EAAkBC,OAAlB,EAA2B;AAChCL,gCAAY,CAACI,MAAD,CAAZ;AACH,mBAFD;AAGH,iBAJD,MAIO;AACHJ,8BAAY,CAAC3e,IAAD,CAAZ;AACH;AACJ,eARD;AASH,aAvBD,MAuBO;AACH2M,qBAAO,GAAGmQ,YAAY,CAACmC,aAAb,EAAV;AACH,aA5PM,CA8PP;;;AACMxS,qBA/PC,GA+PWmO,KAAK,CAACC,QAAN,EA/PX;AAgQDrO,gBAhQC,GAgQMjZ,QAAQ,CAAC1K,GAAD,CAhQd;AAiQDikB,sBAjQC,GAiQYjkB,GAAG,CAACN,QAjQhB;AAkQDwkB,uBAlQC,GAkQaxF,WAAW,CAAC1e,GAAD,CAlQxB;AAmQDmkB,uBAnQC,GAmQarF,WAAW,CAAC9e,GAAD,CAnQxB;AAoQDokB,sBApQC,GAoQYhF,cAAc,CAACpf,GAAD,CApQ1B;AAqQDq2B,0BArQC,GAqQgBnX,WAAW,CAAClf,GAAD,CArQ3B;AAsQDs2B,6BAtQC,GAsQmBtX,aAAa,CAAChf,GAAD,CAtQhC;AAuQDu2B,wBAvQC,GAuQc;AAAE3S,uBAAS,EAATA,SAAF;AAAaT,uBAAS,EAATA,SAAb;AAAwBU,oBAAM,EAANA,MAAxB;AAAgCC,qBAAO,EAAPA,OAAhC;AAAyCC,mBAAK,EAALA,KAAzC;AAAgDjjB,sBAAQ,EAARA,QAAhD;AAA0D6iB,kBAAI,EAAJA,IAA1D;AAAgEK,yBAAW,EAAXA,WAAhE;AAA6EC,wBAAU,EAAVA,UAA7E;AAAyFC,yBAAW,EAAXA,WAAzF;AAAsGC,yBAAW,EAAXA,WAAtG;AAAmHC,wBAAU,EAAVA,UAAnH;AAA+HiS,4BAAc,EAAdA,cAA/H;AAA+IC,+BAAiB,EAAjBA;AAA/I,aAvQd;AAwQHE,wBAxQG,GAwQY,EAxQZ;;AAyQP,gBAAI11B,QAAQ,KAAK,IAAjB,EAAuB;AACnB01B,0BAAY,GAAGC,MAAM,CAACF,YAAD,CAArB;AACH,aAFD,MAEO;AACHC,0BAAY,GAAGE,QAAO,CAACH,YAAD,CAAtB;AACH;AAED;AACA;;;AACII,uBAjRG,GAiRWH,YAAY,CAACpR,MAAb,GAAsBqQ,IAAtB,GAA6Be,YAAY,CAACnR,MAjRrD;AAkRP,aAAClC,SAAS,CAACyT,SAAX,IAAwBryB,GAAG,CAAC6D,IAAJ,CAAShI,aAAa,CAACu2B,WAAD,EAAc32B,GAAd,CAAtB,CAAxB,CAlRO,CAoRP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA3RO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA,M,CA+RA;AACA;AACA;AACA;AACA;AACA,sD;;;;;;;;AChWA;AACA;AACA;AAEA;AACA;AAEA,IAAM62B,MAAM,GAAG,IAAIC,yCAAJ,EAAf;AAEAD,MAAM,CAACzzB,GAAP,CAAW,GAAX,EAAgB2zB,MAAhB;AAEAF,MAAM,CAACzzB,GAAP,CAAW,0BAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAuC,iBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AACnCljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACe,IAAP,YAAgB9a,GAAG,CAACuC,MAAJ,CAAW00B,MAA3B,EAAlB;;AADmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvC;;AAAA;AAAA;AAAA;AAAA;AAIAJ,MAAM,CAACzzB,GAAP,CAAW,yBAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAsC,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAClCljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACjC,CAAP,yBAA0B9X,GAAG,CAACuC,MAAJ,CAAW20B,QAArC,EAAlB;;AADkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtC;;AAAA;AAAA;AAAA;AAAA;AAIAL,MAAM,CAACzzB,GAAP,CAAW,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA+B,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAC3BljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACe,IAAP,iBAAqB9a,GAAG,CAACuC,MAAJ,CAAW40B,SAAhC,EAAlB;;AAD2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA/B;;AAAA;AAAA;AAAA;AAAA;AAIAN,MAAM,CAACzzB,GAAP,CAAW,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAkC,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAC9BljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACe,IAAP,YAAgB9a,GAAG,CAACuC,MAAJ,CAAW00B,MAA3B,EAAlB;;AAD8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlC;;AAAA;AAAA;AAAA;AAAA;AAIAJ,MAAM,CAACzzB,GAAP,CAAW,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA2B,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AACvBljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACc,IAAP,SAAlB;;AADuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAAA;AAAA;AAAA;AAAA;AAIAgc,MAAM,CAACzzB,GAAP,CAAW,CAAC,wBAAD,EAA2B,cAA3B,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAuD,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AACnDljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACc,IAAP,iBAAqB7a,GAAG,CAACuC,MAAJ,CAAW60B,MAAhC,EAAlB;;AADmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvD;;AAAA;AAAA;AAAA;AAAA;AAIAP,MAAM,CAACzzB,GAAP,CAAW,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAoC,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAChCljB,eAAG,CAACyyB,QAAJ,CAAa,GAAb,EAAkBjd,MAAM,CAACc,IAAP,mBAAlB;;AADgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApC;;AAAA;AAAA;AAAA;AAAA,K,CAIA;AACA;AACA;AAEA;;AACAgc,MAAM,CAACzzB,GAAP,CAAW,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAiC,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACvB4P,sBADuB,GACV,UADU;AAEvBC,uBAFuB,GAET,kEAFS;AAGvBC,eAHuB,GAGjB,IAAIC,qBAAW,CAAC/6B,GAAhB,CAAoB46B,UAApB,EAAgCC,WAAhC,CAHiB;AAIvBz4B,eAJuB,GAIjB04B,GAAG,CAACr4B,UAAJ,CAAec,GAAG,CAACuC,MAAJ,CAAW6uB,MAA1B,EAAkC,QAAQ,GAA1C,CAJiB;AAK7B7sB,eAAG,CAAC6D,IAAJ,CAAS;AAAEzD,kBAAI,EAAE,CAAR;AAAWG,iBAAG,EAAE,aAAhB;AAA+BzE,kBAAI,EAAExB;AAArC,aAAT,EAL6B,CAO7B;AACA;AACA;;AAT6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjC;;AAAA;AAAA;AAAA;AAAA;AAYAg4B,MAAM,CAACzzB,GAAP,CAAW,SAAX,EAAsB,UAAUpD,GAAV,EAAeuE,GAAf,EAAoBkjB,IAApB,EAA0B;AAAA,MACtCgQ,MADsC,GAC3Bz3B,GAAG,CAACugB,KADuB,CACtCkX,MADsC;;AAG5C,MAAIC,OAAO,GAAG,SAAVA,OAAU,CAACp1B,GAAD;AAAA,WAAS,IAAIJ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpD,UAAIu1B,MAAM,GAAG,EAAb;AACA,UAAIC,IAAI,GAAG,CAAX;AAEAxwB,8BAAK,CAAChE,GAAN,CAAUd,GAAV,EAAe,UAAUiC,GAAV,EAAe;AAC1B,YAAI,CAACA,GAAL,EAAU;AACNnC,gBAAM,CAACmC,GAAD,CAAN;AACA;AACH;;AACDA,WAAG,CAACszB,EAAJ,CAAO,MAAP,EAAe,UAAUC,KAAV,EAAiB;AAC5BH,gBAAM,CAAC7wB,IAAP,CAAYgxB,KAAZ;AACAF,cAAI,IAAIE,KAAK,CAACj/B,MAAd;AACH,SAHD;AAIA0L,WAAG,CAACszB,EAAJ,CAAO,KAAP,EAAc,UAAUzyB,GAAV,EAAe;AACzBO,iBAAO,CAACC,GAAR,CAAYR,GAAZ;AACA,cAAI/E,IAAI,GAAGvE,MAAM,CAACmb,MAAP,CAAc0gB,MAAd,EAAsBC,IAAtB,CAAX;AACA,cAAIG,SAAS,GAAG13B,IAAI,CAAC/D,QAAL,CAAc,QAAd,CAAhB;AACA6F,iBAAO,CAAC41B,SAAD,CAAP;AACH,SALD;AAMH,OAfD;AAgBH,KApBsB,CAAT;AAAA,GAAd;;AAsBAL,SAAO,CAACD,MAAD,CAAP,CAAgBnzB,IAAhB,CAAqB,UAACjE,IAAD,EAAU;AAC3BkE,OAAG,CAAC6D,IAAJ,CAASpJ,IAAI,CAACC,SAAL,CAAe;AAAEw4B,YAAM,mCAA4Bp3B,IAA5B;AAAR,KAAf,CAAT;AACH,GAFD,WAES,YAAM;AACXkE,OAAG,CAAC6D,IAAJ,CAASpJ,IAAI,CAACC,SAAL,CAAe;AAAEw4B,YAAM,EAAE;AAAV,KAAf,CAAT;AACH,GAJD;AAKH,CA9BD;AAgCAZ,MAAM,CAACzzB,GAAP,CAAW,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAoB,kBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACG,IAAIvlB,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACtDD,qBAAO,CAAC;AAAE61B,oBAAI,EAAE;AAAR,eAAD,CAAP;AACH,aAFkB,CADH;;AAAA;AACV3tB,gBADU;AAKhB1E,mBAAO,CAACC,GAAR,CAAYyE,IAAZ;AACA9F,eAAG,CAAC6D,IAAJ,CAASiC,IAAT;;AANgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAAA;AAAA;AAAA;AAAA;AASewsB,wDAAf,E;;;;ACjGA;AAEA,IAAMA,YAAM,GAAG,IAAIC,yCAAJ,EAAf;AAEAD,YAAM,CAACzzB,GAAP,CAAW,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAgB,iBAAgBpD,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AACZljB,eAAG,CAAC6D,IAAJ,CAAS,yBAAT;;AADY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAAA;AAAA;AAAA;AAAA;AAIeyuB,sDAAf,E;;;;;;;;;ACRA,IAAMoB,cAAc,GAAG,SAAjBA,cAAiB,GAAY;AAC/B,SAAOx5B,IAAI,CAAC6C,MAAL,GAAchF,QAAd,CAAuB,EAAvB,EAA2BmQ,MAA3B,CAAkC,CAAlC,EAAqC,EAArC,CAAP;AACH,CAFD;;AAIA,IAAMyrB,eAAe,GAAG,SAAlBA,eAAkB,GAAY;AAChC,SAAO5qB,QAAQ,CAAC,IAAIjP,IAAJ,GAAW6C,OAAX,KAAuB,IAAxB,CAAR,GAAwC,EAA/C;AACH,CAFD;;AAIA,IAAMi3B,GAAG,GAAG,SAANA,GAAM,CAAUl2B,IAAV,EAAgB;AACxB,MAAIsE,IAAI,GAAGlM,MAAM,CAACkM,IAAP,CAAYtE,IAAZ,CAAX;AACAsE,MAAI,GAAGA,IAAI,CAAC6xB,IAAL,EAAP;AACA,MAAIC,OAAO,GAAG,EAAd;AACA9xB,MAAI,CAACuQ,OAAL,CAAa,UAAUna,GAAV,EAAe;AACxB07B,WAAO,CAAC17B,GAAG,CAACgH,WAAJ,EAAD,CAAP,GAA6B1B,IAAI,CAACtF,GAAD,CAAjC;AACH,GAFD;AAIA,MAAIyO,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIsB,CAAT,IAAc2rB,OAAd,EAAuB;AACnBjtB,UAAM,IAAI,MAAMsB,CAAN,GAAU,GAAV,GAAgB2rB,OAAO,CAAC3rB,CAAD,CAAjC;AACH;;AACDtB,QAAM,GAAGA,MAAM,CAACqB,MAAP,CAAc,CAAd,CAAT;AACA,SAAOrB,MAAP;AACH,CAdD;AAgBA;;;;;;;;;;AAQA,IAAMktB,IAAI,GAAG,SAAPA,IAAO,CAAUC,WAAV,EAAuBj2B,GAAvB,EAA4B;AACrC,MAAIk2B,GAAG,GAAG;AACNC,gBAAY,EAAEF,WADR;AAENG,YAAQ,EAAET,cAAc,EAFlB;AAGNh3B,aAAS,EAAEi3B,eAAe,EAHpB;AAIN51B,OAAG,EAAEA;AAJC,GAAV;AAMA,MAAI8I,MAAM,GAAG+sB,GAAG,CAACK,GAAD,CAAhB;;AACA,MAAMG,KAAK,GAAGpgC,mBAAO,CAAC,EAAD,CAArB;;AACA,MAAMqgC,MAAM,GAAG,IAAID,KAAJ,CAAUvtB,MAAV,EAAkB,MAAlB,CAAf;AACAotB,KAAG,CAACK,SAAJ,GAAgBD,MAAM,CAACE,OAAP,CAAe,OAAf,EAAwB,KAAxB,CAAhB;AAEA,SAAON,GAAP;AACH,CAbD;;AAeeF,sDAAf,E;;;;;;AC/CA;AACA;AAEA,IAAMS,aAAa,GAAGj+B,wBAAtB;AACA,IAAMk+B,eAAe,GAAG,MAAxB;AACA,IAAMC,aAAa,GAAGl+B,yBAAtB;;AAEA,IAAMm+B,iBAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,MAAMC,MAAM,GAAGC,wBAAK,CAACC,YAAN,CAAmBL,eAAnB,EAAoCD,aAApC,CAAf;AACAI,QAAM,CAACG,IAAP,CAAYL,aAAZ;AACAE,QAAM,CAACtB,EAAP,CAAU,OAAV,EAAmB,UAAU9xB,KAAV,EAAiB;AAChCJ,WAAO,CAACC,GAAR,CAAY,4BAA4BG,KAAxC;AACH,GAFD;AAGAozB,QAAM,CAACtB,EAAP,CAAU,SAAV,EAAqB,YAAY;AAC7BlyB,WAAO,CAACC,GAAR,CAAY,2BAAZ;AACH,GAFD;AAGAuzB,QAAM,CAACtB,EAAP,CAAU,KAAV,EAAiB,YAAY;AACzBlyB,WAAO,CAACC,GAAR,CAAY,qBAAZ;AACH,GAFD;AAGAuzB,QAAM,CAACjb,MAAP,CAAc,IAAd,EAAoB,UAAUnY,KAAV,EAAiB;AACjC,QAAIA,KAAJ,EAAWJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACXJ,WAAO,CAACC,GAAR,CAAY,8BAAZ;AACH,GAHD;AAIA,SAAOuzB,MAAP;AACH,CAjBD;;AAmBeD,qEAAf,E;;;;AC1BA;AACA;AACA;AAEA;AACA;AAEA,IAAMrC,eAAM,GAAG0C,0BAAO,CAACzC,MAAR,EAAf;AACA,IAAMqC,sBAAM,GAAGK,eAAQ,EAAvB;AAEA,IAAMC,QAAQ,GAAGC,mCAAS,CAACP,sBAAM,CAAC/1B,GAAR,CAAT,CAAsBu2B,IAAtB,CAA2BR,sBAA3B,CAAjB,C,CAAoD;;AACpD,IAAMS,QAAQ,GAAGF,mCAAS,CAACP,sBAAM,CAACtwB,GAAR,CAAT,CAAsB8wB,IAAtB,CAA2BR,sBAA3B,CAAjB,C,CAAoD;;AACpD,IAAMU,UAAU,GAAGH,mCAAS,CAACP,sBAAM,CAACW,KAAR,CAAT,CAAwBH,IAAxB,CAA6BR,sBAA7B,CAAnB,C,CAAwD;;AACxD,IAAMY,YAAY,GAAGL,mCAAS,CAACP,sBAAM,CAACa,OAAR,CAAT,CAA0BL,IAA1B,CAA+BR,sBAA/B,CAArB,C,CAA4D;AAE5D;;AACA,IAAMn/B,eAAM,GAAG;AACXigC,OAAK,EAAE,oBADI;AAEXl5B,WAAS,EAAE,kCAFA,CAKf;;AALe,CAAf;AAMA,IAAMm5B,QAAQ,GAAG,IAAI,EAAJ,GAAS,EAAT,GAAc,IAA/B;AAEA;;AACA,IAAMC,QAAQ,GAAG,gFAAgFngC,eAAM,CAACigC,KAAvF,GAA+F,UAA/F,GAA4GjgC,eAAM,CAAC+G,SAApI;;AACA,IAAMq5B,uBAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,IAAIl4B,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC1DY,8BAAO,CAACm3B,QAAD,EAAW,UAAUp0B,KAAV,EAAiBP,QAAjB,EAA2BnF,IAA3B,EAAiC;AAC/C,UAAI0F,KAAJ,EAAW3D,MAAM,CAAC,IAAI2C,KAAJ,2BAA6BgB,KAA7B,EAAD,CAAN;;AAEX,UAAIP,QAAQ,IAAIA,QAAQ,CAAC60B,UAArB,IAAmC70B,QAAQ,CAAC60B,UAAT,KAAwB,GAA/D,EAAoE;AAChE,YAAMC,WAAW,GAAGt7B,IAAI,CAAC4B,KAAL,CAAWP,IAAX,EAAiBk6B,YAArC;;AACA,YAAID,WAAJ,EAAiB;AACbn4B,iBAAO,CAACm4B,WAAD,CAAP;AACH,SAFD,MAEO;AACHl4B,gBAAM,CAAC,IAAI2C,KAAJ,2BAA6BS,QAAQ,CAACjC,IAAtC,EAAD,CAAN;AACH;AACJ,OAPD,MAOO;AACHnB,cAAM,CAAC,IAAI2C,KAAJ,2BAA6BS,QAAQ,CAACjC,IAAtC,EAAD,CAAN;AACH;AACJ,KAbM,CAAP;AAcH,GAf4B,CAAN;AAAA,CAAvB;AAiBA;;;;;;;AAKA,IAAMi3B,uBAAc,GAAG,SAAjBA,cAAiB,CAACC,MAAD,EAASH,WAAT,EAAyB;AAC5C,MAAMI,SAAS,GAAG,qEAAqEJ,WAArE,GAAmF,aAArG;AACA,SAAO,IAAIp4B,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCY,8BAAO,CAAC03B,SAAD,EAAY,UAAU30B,KAAV,EAAiBP,QAAjB,EAA2BnF,IAA3B,EAAiC;AAChD,UAAI0F,KAAJ,EAAW3D,MAAM,CAAC,IAAI2C,KAAJ,2BAA6BgB,KAA7B,EAAD,CAAN;;AAEX,UAAIP,QAAQ,CAAC60B,UAAT,IAAuB70B,QAAQ,CAAC60B,UAAT,KAAwB,GAAnD,EAAwD;AACpD,YAAMhjB,OAAO,GAAGrY,IAAI,CAAC4B,KAAL,CAAWP,IAAX,CAAhB;AACA,YAAI,CAACgX,OAAL,EAAcjV,MAAM,CAAC,IAAI2C,KAAJ,2BAA6BS,QAAQ,CAACjC,IAAtC,EAAD,CAAN;;AAEd,YAAI8T,OAAO,CAACsjB,OAAR,KAAoB,CAAxB,EAA2B;AACvBx4B,iBAAO,CAACm2B,aAAI,CAACjhB,OAAO,CAACujB,MAAT,EAAiBH,MAAjB,CAAL,CAAP;AACH,SAFD,MAEO,IAAIpjB,OAAO,CAACsjB,OAAR,KAAoB,KAAxB,EAA+B;AAClCx4B,iBAAO,CAAC;AAAEw4B,mBAAO,EAAE,KAAX;AAAkBE,kBAAM,EAAE;AAA1B,WAAD,CAAP;AACH,SAFM,MAEA;AACHz4B,gBAAM,CAAC,IAAI2C,KAAJ,2BAA6BS,QAAQ,CAACjC,IAAtC,EAAD,CAAN;AACH;AACJ,OAXD,MAWO;AACHnB,cAAM,CAAC,IAAI2C,KAAJ,2BAA6BS,QAAQ,CAACjC,IAAtC,EAAD,CAAN;AACH;AACJ,KAjBM,CAAP;AAkBH,GAnBM,CAAP;AAoBH,CAtBD;;SAwBeu3B,oB;;;;;;;6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACwBV,uBAAc,EADtC;;AAAA;AACUrf,iBADV;AAEUggB,kBAFV,GAEmB;AACX,uBAAShgB,KADE;AAEX,sBAAQ,IAAI1c,IAAJ,GAAW6C,OAAX;AAFG,aAFnB;AAAA;AAAA,mBAMU24B,UAAU,CAAC,QAAD,EAAWkB,MAAX,CANpB;;AAAA;AAAA,8CAOWA,MAPX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAUeC,Q;;;;;;;6BAAf,kBAAyBP,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACyBK,oBAAoB,EAD7C;;AAAA;AACUC,kBADV;AAAA;AAAA,mBAE4BE,WAAW,CAACF,MAAD,EAASN,MAAT,CAFvC;;AAAA;AAEUS,qBAFV;AAAA,8CAGWA,SAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAMeD,W;;;;;;;6BAAf,kBAA4BF,MAA5B,EAAoCN,MAApC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACgChB,QAAQ,CAAC,SAAD,CADxC;;AAAA;AACU0B,yBADV;AAEUC,sBAFV,GAEuBp8B,IAAI,CAAC4B,KAAL,CAAWu6B,aAAX,CAFvB,EAII;;AAJJ,kBAKQ,CAACA,aAAD,IAAkB,CAACj/B,KAAK,CAACuI,OAAN,CAAc22B,UAAd,CAL3B;AAAA;AAAA;AAAA;;AAMQz1B,mBAAO,CAACC,GAAR,CAAY,kBAAZ;AANR;AAAA,mBAO8B40B,uBAAc,CAACC,MAAD,EAASM,MAAM,CAAChgB,KAAhB,CAP5C;;AAAA;AAOYmgB,qBAPZ;;AAAA,kBAQYA,SAAS,CAAC3kB,cAAV,CAAyB,SAAzB,KAAuC2kB,SAAS,CAACP,OAAV,KAAsB,KARzE;AAAA;AAAA;AAAA;;AASYh1B,mBAAO,CAACC,GAAR,CAAY,4CAAZ,EATZ,CAUY;;AAVZ;AAAA,mBAWoCk1B,oBAAoB,EAXxD;;AAAA;AAWkBO,qBAXlB;AAAA;AAAA,mBAY8Bb,uBAAc,CAACC,MAAD,EAASY,SAAS,CAACtgB,KAAnB,CAZ5C;;AAAA;AAYYmgB,qBAZZ;;AAAA;AAAA;AAAA,mBAcctB,QAAQ,CAAC,SAAD,EAAY56B,IAAI,CAACC,SAAL,CAAe,CAACi8B,SAAD,CAAf,CAAZ,CAdtB;;AAAA;AAAA,8CAeeA,SAff;;AAAA;AAkBI;AACII,uBAnBR,GAmBsB,CAAC,CAnBvB;AAoBQC,mBApBR,GAoBkBH,UAAU,CAAC7rB,KAAX,CAAiB,CAAjB,CApBlB;AAAA,sDAqBoB6rB,UArBpB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBaz+B,eArBb;AAsBc6+B,qBAtBd,GAsB0BluB,QAAQ,CAACjP,IAAI,CAACuC,KAAL,CAAW,IAAIvC,IAAJ,EAAX,IAAyB,IAA1B,CAAR,GAA0CiP,QAAQ,CAAC8tB,UAAU,CAACz+B,GAAD,CAAV,CAAgBsE,SAAjB,CAAlD,GAAgFi5B,QAAQ,GAAG,IAtBrH;AAuBQ,gBAAIsB,SAAJ,EAAeD,OAAO,CAAC3Q,MAAR,CAAe0Q,WAAf,EAA4B,CAA5B,EAvBvB,CAuBsD;;AAvBtD,kBAwBYF,UAAU,CAACz+B,GAAD,CAAV,CAAgB2F,GAAhB,KAAwBm4B,MAAxB,IAAkC,CAACe,SAxB/C;AAAA;AAAA;AAAA;;AAwB4D;AAChDF,uBAAW,GAAG3+B,GAAd;AAzBZ;;AAAA;AAAA;AAAA;;AAAA;AAAA,kBA6BQ2+B,WAAW,KAAK,CAAC,CA7BzB;AAAA;AAAA;AAAA;;AA6B8B;AACtB31B,mBAAO,CAACC,GAAR,CAAY,yBAAZ;AA9BR;AAAA,mBA+B8B40B,uBAAc,CAACC,MAAD,EAASM,MAAM,CAAChgB,KAAhB,CA/B5C;;AAAA;AA+BYmgB,sBA/BZ;;AAAA,kBAgCYA,UAAS,CAAC3kB,cAAV,CAAyB,SAAzB,KAAuC2kB,UAAS,CAACP,OAAV,KAAsB,KAhCzE;AAAA;AAAA;AAAA;;AAiCYh1B,mBAAO,CAACC,GAAR,CAAY,4CAAZ,EAjCZ,CAkCY;;AAlCZ;AAAA,mBAmCoCk1B,oBAAoB,EAnCxD;;AAAA;AAmCkBO,sBAnClB;AAAA;AAAA,mBAoC8Bb,uBAAc,CAACC,MAAD,EAASY,UAAS,CAACtgB,KAAnB,CApC5C;;AAAA;AAoCYmgB,sBApCZ;;AAAA;AAsCQK,mBAAO,CAACz0B,IAAR,CAAao0B,UAAb;AAtCR;AAAA,mBAuCctB,QAAQ,CAAC,SAAD,EAAY56B,IAAI,CAACC,SAAL,CAAes8B,OAAf,CAAZ,CAvCtB;;AAAA;AAAA,8CAwCeL,UAxCf;;AAAA;AAyCa;AACLv1B,mBAAO,CAACC,GAAR,CAAY,aAAZ;AA1CR,8CA2Cew1B,UAAU,CAACE,WAAD,CA3CzB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA+CAzE,eAAM,CAAC4E,IAAP,CAAY,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAiB,iBAAgBz7B,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACPgT,kBADO,GACEz6B,GAAG,CAACuD,IAAJ,CAASjB,GADX;AAAA;AAAA,mBAEQy3B,YAAY,CAAC,QAAD,CAFpB;;AAAA;AAEPgB,kBAFO;;AAIb,gBAAIA,MAAJ,EAAY;AAAE;AACV,kBAAI,IAAI18B,IAAJ,GAAW6C,OAAX,KAAuBoM,QAAQ,CAACytB,MAAM,CAACxmB,IAAR,CAA/B,GAA+C2lB,QAAnD,EAA6D;AAAE;AAC3Dv0B,uBAAO,CAACC,GAAR,CAAY,YAAZ;AACAo1B,wBAAQ,CAACP,MAAD,CAAR,CAAiBn2B,IAAjB,CAAsB,UAAUjE,IAAV,EAAgB;AAClCkE,qBAAG,CAAC8c,IAAJ,CAAShhB,IAAT;AACH,iBAFD,WAES,UAAU+E,GAAV,EAAe;AACpBb,qBAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgB2C,IAAhB,CAAqBhD,GAAG,CAACJ,OAAzB;AACH,iBAJD;AAKH,eAPD,MAOO;AAAE;AACLW,uBAAO,CAACC,GAAR,CAAY,aAAZ;AACAq1B,2BAAW,CAACF,MAAD,EAASN,MAAT,CAAX,CAA4Bn2B,IAA5B,CAAiC,UAAUjE,IAAV,EAAgB;AAC7CkE,qBAAG,CAAC8c,IAAJ,CAAShhB,IAAT;AACH,iBAFD,WAES,UAAU+E,GAAV,EAAe;AACpBb,qBAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgB2C,IAAhB,CAAqBhD,GAAG,CAACJ,OAAzB;AACH,iBAJD;AAKH;AACJ,aAhBD,MAgBO;AAAE;AACLW,qBAAO,CAACC,GAAR,CAAY,WAAZ;AACAo1B,sBAAQ,CAACP,MAAD,CAAR,CAAiBn2B,IAAjB,CAAsB,UAAUjE,IAAV,EAAgB;AAClCkE,mBAAG,CAAC8c,IAAJ,CAAShhB,IAAT;AACH,eAFD,WAES,UAAU+E,GAAV,EAAe;AACpBb,mBAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgB2C,IAAhB,CAAqBhD,GAAG,CAACJ,OAAzB;AACH,eAJD;AAKH;;AA3BY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA;AA8Be6xB,4DAAf,E;;;;;ACrKA;AACA;AAEA,IAAMA,aAAM,GAAG,IAAIC,yCAAJ,EAAf;AAEA,IAAI9wB,aAAM,GAAG,EAAb;AACA,IAAIC,iBAAU,GAAG,IAAI5H,IAAJ,GAAW6C,OAAX,EAAjB,C,CAAsC;;AACtC21B,aAAM,CAAC4E,IAAP,CAAY,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAiB,iBAAgBz7B,GAAhB,EAAqBuE,GAArB,EAA0BkjB,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEDlkB,gBAFC,GAE8BvD,GAF9B,CAEDuD,IAFC,EAEKrD,OAFL,GAE8BF,GAF9B,CAEKE,OAFL,EAEcuZ,OAFd,GAE8BzZ,GAF9B,CAEcyZ,OAFd,EAEuBxf,EAFvB,GAE8B+F,GAF9B,CAEuB/F,EAFvB;AAGHyhC,sBAHG,GAGU,EAHV;AAITrhC,kBAAM,CAACkM,IAAP,CAAYkT,OAAZ,EAAqBjT,GAArB,CAAyB,UAAU7J,GAAV,EAAe8J,KAAf,EAAsB;AAAE;AAC7C,kBAAMk1B,OAAO,GAAGh/B,GAAG,CAACgD,OAAJ,CAAY,SAAZ,MAA2B,CAAC,CAA5B,IACZhD,GAAG,CAACgD,OAAJ,CAAY,UAAZ,MAA4B,CAAC,CADjB,IAEZhD,GAAG,CAACgD,OAAJ,CAAY,UAAZ,MAA4B,CAAC,CAFjB,IAGZhD,GAAG,KAAK,eAHI,IAIZA,GAAG,KAAK,eAJZ;;AAKA,kBAAIg/B,OAAJ,EAAa;AACTD,0BAAU,CAAC/+B,GAAD,CAAV,GAAkB8c,OAAO,CAAC9c,GAAD,CAAzB;AACH;AACJ,aATD;AAUMyJ,kBAdG,8BAeF7C,IAfE;AAgBLtJ,gBAAE,EAAEA,EAhBC;AAiBL8P,uBAAS,EAAE7J,OAAO,CAAC,YAAD,CAjBb;AAkBLuZ,qBAAO,EAAEiiB;AAlBJ;AAoBHx1B,sBApBG,GAoBU,IAAI7H,IAAJ,GAAW6C,OAAX,EApBV;;AAqBH06B,oBArBG,GAqBQ,SAAXA,QAAW,GAAM;AACnB,kBAAIr4B,IAAI,CAAC4B,SAAT,EAAoB;AAAE;AAClB,uBAAOiB,MAAM,CAACjB,SAAd;;AACA,wBAAQiB,MAAM,CAACpB,OAAf;AACI,uBAAK,gBAAL;AACA,uBAAK,gBAAL;AACIT,uBAAG,CAACsc,MAAJ,CAAWE,IAAX,4BAAqB3a,MAArB;AACA;;AACJ,uBAAK,gBAAL;AACA,uBAAK,sBAAL;AACA,uBAAK,uBAAL;AACA,uBAAK,wBAAL;AACI7B,uBAAG,CAACsc,MAAJ,CAAW9a,KAAX,4BAAsBK,MAAtB;AACA;;AACJ;AACI7B,uBAAG,CAACsc,MAAJ,CAAWV,IAAX,4BAAqB/Z,MAArB;AAZR;AAcH,eAhBD,MAgBO;AAAE;AACL,oBAAI7C,IAAI,CAAC6c,KAAT,EAAgB;AACZ,sBAAMA,KAAK,GAAG7c,IAAI,CAAC6c,KAAnB;AACA,yBAAO7c,IAAI,CAAC6c,KAAZ;AACA7b,qBAAG,CAACsc,MAAJ,CAAWT,KAAX,6BAAuB7c,IAAvB;AAA6ByB,2BAAO,oBAAazB,IAAI,CAACyB,OAAL,IAAgB,SAA7B;AAApC;AACH,iBAJD,MAIO;AACHT,qBAAG,CAACsc,MAAJ,CAAWV,IAAX,4BAAqB5c,IAArB;AAA2ByB,2BAAO,oBAAazB,IAAI,CAACyB,OAAL,IAAgB,SAA7B;AAAlC;AACH;AACJ;AACJ,aA/CQ;;AAAA,kBAgDLkB,UAAU,GAAGD,iBAAb,IAA2B,IAA3B,IAAmCD,aAAM,CAACnN,MAAP,KAAkB,CAhDhD;AAAA;AAAA;AAAA;;AAiDLmN,yBAAM,GAAG,EAAT;AACAA,yBAAM,CAACc,IAAP,CAAYV,MAAZ;AACAH,6BAAU,GAAGC,UAAb;AACA01B,oBAAQ;AApDH;AAAA;;AAAA;AAsDCC,qBAtDD,GAsDa,SAAZA,SAAY,GAAM;AACpB,yCAAgB71B,aAAhB,6BAAwB;AAAnB,oBAAItB,GAAG,cAAP;;AACD,oBAAIsC,kBAAW,CAACtC,GAAD,EAAM0B,MAAN,CAAf,EAA8B;AAC1B,yBAAO,IAAP;AACH;AACJ;;AACD,qBAAO,KAAP;AACH,aA7DI;;AAAA,kBA8DDJ,aAAM,CAACnN,MAAP,KAAkB,CAAlB,IAAuBgjC,SAAS,EA9D/B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AA+DL71B,yBAAM,CAACc,IAAP,CAAYV,MAAZ;AACAw1B,oBAAQ;;AAhEH;AAkETr3B,eAAG,CAAC6D,IAAJ,CAAS;AACLzD,kBAAI,EAAE,CADD;AAELG,iBAAG,EAAE;AAFA,aAAT;AAlES;AAAA;;AAAA;AAAA;AAAA;AAuETP,eAAG,CAAC6D,IAAJ,CAAS;AACLzD,kBAAI,EAAE,CAAC,CADF;AAELG,iBAAG,EAAE,YAAIE;AAFJ,aAAT;;AAvES;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA;AA8Ee6xB,+DAAf,E;;ACrFA;AACA;AACA;AACA;AAEe,mDAACnV,GAAD,EAAS;AACpBA,KAAG,CAACe,GAAJ,CAAQ,GAAR,EAAahc,aAAb;AACAib,KAAG,CAACe,GAAJ,CAAQ,QAAR,EAAkBqZ,KAAlB;AACApa,KAAG,CAACe,GAAJ,CAAQ,WAAR,EAAqBsZ,QAArB;AACAra,KAAG,CAACe,GAAJ,CAAQ,SAAR,EAAmB5B,aAAnB;AACH,CALD,E;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AAEe;AACX,WAAS;AACLmb,eAAW,EAAEC,eAAEA;AADV,GADE;AAIX,WAAS;AACLD,eAAW,EAAEE,eAAEA;AADV;AAJE,CAAf,E;;ACHA;AACA;AACA;AACA;AAEe,uDAACxa,GAAD,EAAS;AACpBya,4BAAO,CACF1Z,GADL,CACS2Z,0CADT,EAEK3Z,GAFL,CAES4Z,wDAFT,EAGKC,IAHL,CAGU;AACFC,SAAK,EAAE;AACHC,iBAAW,EAAE;AADV,KADL;AAIFC,WAAO,EAAE,CAAC,OAAD,EAAU,OAAV,CAJP;AAKFC,aAAS,EAATA,IALE;AAMFC,OAAG,EAAE,IANH;AAMS;AACXC,eAAW,EAAE,CAAC,OAAD,EAAU,OAAV,CAPX;AAQFC,gBAAY,EAAE,IARZ;AASF;AACAC,iBAAa,EAAE;AACXC,iBAAW,EAAE;AADF;AAVb,GAHV,EAgBO,UAAC33B,GAAD,EAAM43B,CAAN,EAAY;AACX,QAAI53B,GAAJ,EAAS,MAAML,KAAK,CAACK,GAAD,CAAX;AACZ,GAlBL;AAmBAsc,KAAG,CAACe,GAAJ,CACIwa,6CAAc,CAACC,MAAf,CAAsBf,0BAAtB,EAA+B;AAC3BgB,gBAAY,EAAE,CAAC,MAAD,CADa;AACH;AACxBC,oBAAgB,EAAE;AAFS,GAA/B,CADJ;AAMH,CA1BD,E;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAM1b,OAAG,GAAG6X,0BAAO,EAAnB,C,CAEA;;AACA8D,KAAK,CAAC3b,OAAD,CAAL,C,CAEA;;AACAyS,QAAI,CAACzS,OAAD,CAAJ;AAEA,IAAMuR,YAAQ,GAAG33B,uBAAI,CAACyd,IAAL,CAAUma,SAAV,EAAqB55B,KAArB,CAA2B,QAA3B,EAAqC,CAArC,CAAjB;AAEAooB,OAAG,CAACe,GAAJ,CAAQ6a,8BAAW,EAAnB;AACA5b,OAAG,CAAC7Y,GAAJ,CAAQ,OAAR,EAAiBvN,uBAAI,CAACyd,IAAL,WAAaka,YAAb,mBAAjB;AACAvR,OAAG,CAAC7Y,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACA6Y,OAAG,CAACe,GAAJ,CAAQ8a,kCAAc,CAAC1c,MAAf,CAAsB;AAC1B2c,iBAAe,EAAE3c,UAAMA;AADG,CAAtB,CAAR;AAGAa,OAAG,CAACe,GAAJ,CAAQ,UAAUziB,GAAV,EAAeuE,GAAf,EAAoBkjB,IAApB,EAA0B;AAC9BljB,KAAG,CAACsc,MAAJ,GAAaA,UAAb;AACA4G,MAAI;AACP,CAHD;AAIA/F,OAAG,CAACe,GAAJ,CAAQ8W,0BAAO,CAAClY,IAAR,EAAR;AACAK,OAAG,CAACe,GAAJ,CAAQ8W,0BAAO,CAACkE,UAAR,CAAmB;AAAEC,UAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAhc,OAAG,CAACe,GAAJ,CAAQkb,gCAAY,EAApB;AACA,IAAMC,aAAa,GAAG;AAClBn3B,OAAK,EAAE,KADW;AAElBo3B,QAAM,EAAE,MAAM,EAAN,GAAW,EAAX,GAAgB,EAAhB,GAAqB,IAFX;AAGlBC,YAAU,EAAE,oBAAUv5B,GAAV,EAAejJ,IAAf,EAAqByiC,IAArB,EAA2B;AACnCx5B,OAAG,CAACsE,GAAJ,CAAQ,6BAAR,EAAuC,GAAvC;AACH;AALiB,CAAtB;AAOA6Y,OAAG,CAACe,GAAJ,CAAQ8W,0BAAO,UAAP,CAAej+B,uBAAI,CAACyd,IAAL,WAAaka,YAAb,aAAf,EAAgD2K,aAAhD,CAAR;AAEA7K,IAAM,CAACrR,OAAD,CAAN;AAEAA,OAAG,CAACe,GAAJ,CAAQ,UAAUziB,GAAV,EAAeuE,GAAf,EAAoBkjB,IAApB,EAA0B;AAC9BA,MAAI,CAACuW,8BAAW,CAAC,GAAD,CAAZ,CAAJ;AACH,CAFD;AAIAT,kCAAc,CAACU,gBAAf,CAAgCn3B,IAAhC,CAAqC,MAArC,E,CAA6C;;AAC7C4a,OAAG,CAACe,GAAJ,CAAQ8a,kCAAc,CAACW,WAAf,CAA2B;AAC/BV,iBAAe,EAAE3c,UAAMA;AADQ,CAA3B,CAAR;AAGAa,OAAG,CAACe,GAAJ,CAAQ,UAAUrd,GAAV,EAAepF,GAAf,EAAoBuE,GAApB,EAAyBkjB,IAAzB,EAA+B;AACnCljB,KAAG,CAAC45B,MAAJ,CAAWn5B,OAAX,GAAqBI,GAAG,CAACJ,OAAzB;AACAT,KAAG,CAAC45B,MAAJ,CAAWp4B,KAAX,GAAmB/F,GAAG,CAAC0hB,GAAJ,CAAQte,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCgC,GAAvC,GAA6C,EAAhE;AACAb,KAAG,CAACkB,MAAJ,CAAWL,GAAG,CAACK,MAAJ,IAAc,GAAzB;AACAlB,KAAG,CAACwyB,MAAJ,CAAW,OAAX;AACH,CALD;AAOerV,0DAAf,E;;AC5DA;AACA;AAEA;AACA;;AAEA,IAAM0c,cAAU,GAAG,SAAbA,UAAa,CAAC1c,GAAD,EAAS;AACxBR,0BAAK,CAAC,kBAAD,CAAL;;AACA,MAAMmd,aAAa,GAAG,SAAhBA,aAAgB,CAAC35B,GAAD,EAAS;AAC3B,QAAMxK,IAAI,GAAGoT,QAAQ,CAAC5I,GAAD,EAAM,EAAN,CAArB;;AACA,QAAIyR,KAAK,CAACjc,IAAD,CAAT,EAAiB;AACb,aAAOwK,GAAP;AACH;;AACD,QAAIxK,IAAI,IAAI,CAAZ,EAAe;AACX,aAAOA,IAAP;AACH;;AACD,WAAO,KAAP;AACH,GATD;;AAUA,MAAMynB,OAAO,GAAG,SAAVA,OAAU,CAAC5b,KAAD,EAAW;AACvB,QAAIA,KAAK,CAACu4B,OAAN,KAAkB,QAAtB,EAAgC;AAC5B,YAAMv4B,KAAN;AACH;;AACD,QAAM4zB,IAAI,GAAG,OAAOz/B,IAAP,KAAgB,QAAhB,GACP,UAAUA,IADH,GAEP,UAAUA,IAFhB;;AAGA,QAAI6L,KAAK,CAACpB,IAAN,KAAe,QAAnB,EAA6B;AACzBgB,aAAO,CAACI,KAAR,CAAc4zB,IAAI,GAAG,+BAArB;AACAngC,aAAO,CAAC+kC,IAAR,CAAa,CAAb;AACH,KAHD,MAGO,IAAIx4B,KAAK,CAACpB,IAAN,KAAe,YAAnB,EAAiC;AACpCgB,aAAO,CAACI,KAAR,CAAc4zB,IAAI,GAAG,oBAArB;AACAngC,aAAO,CAAC+kC,IAAR,CAAa,CAAb;AACH,KAHM,MAGA;AACH,YAAMx4B,KAAN;AACH;AACJ,GAhBD;;AAkBA,MAAM7L,IAAI,GAAGmkC,aAAa,CAAC7kC,OAAO,CAACD,GAAR,CAAYilC,IAAZ,IAAoBpkC,oBAArB,CAA1B;AACAsnB,KAAG,CAAC7Y,GAAJ,CAAQ,MAAR,EAAgB3O,IAAhB;AAEA,MAAMukC,MAAM,GAAGzd,uBAAI,CAAC0d,YAAL,CAAkBhd,GAAlB,CAAf;;AACA,MAAMid,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,QAAMC,IAAI,GAAGH,MAAM,CAACzlC,OAAP,EAAb;AACA,QAAM2gC,IAAI,GAAG,OAAOiF,IAAP,KAAgB,QAAhB,GACP,UAAUA,IADH,GAEP,UAAUA,IAAI,CAAC1kC,IAFrB;AAGAgnB,4BAAK,CAAC,kBAAkByY,IAAnB,CAAL;AACH,GAND;;AAQA8E,QAAM,CAACI,MAAP,CAAc3kC,IAAd,EAAoB,UAAUkL,GAAV,EAAe;AAC/B,QAAIA,GAAJ,EAAS;AACLO,aAAO,CAACI,KAAR,CAAcX,GAAd;AACH,KAFD,MAEO;AACHO,aAAO,CAACwa,IAAR,CAAa,kCAAb,EAAiDjmB,IAAjD;AACH;AACJ,GAND;AAOAukC,QAAM,CAAC5G,EAAP,CAAU,OAAV,EAAmBlW,OAAnB;AACA8c,QAAM,CAAC5G,EAAP,CAAU,WAAV,EAAuB8G,WAAvB;AACH,CAnDD;;AAqDAP,cAAU,CAAC1c,cAAD,CAAV,C","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n","module.exports = require(\"@babel/runtime/helpers/objectSpread\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","const ipServer = () => {\n    const os = require('os')\n    const interfaces = os.networkInterfaces()\n    for (let devName in interfaces) {\n        const iface = interfaces[devName]\n        for (let i = 0; i < iface.length; i++) {\n            const alias = iface[i]\n            if (alias.family === 'IPv4' && alias.address !== '127.0.0.1' && !alias.internal) {\n                return alias.address\n            }\n        }\n    }\n}\nconst ipClient = () => {\n    return window.location.host.split(':')[0]\n}\n\nconst env = typeof process.env.NODE_ENV !== 'undefined' ? process.env.NODE_ENV : false\n\n// 注(1): 热替换服务端暂时未实现先注释\n\n/** @Desc 后端调试在chrome中输入: chrome://inspect 然后单击Remote Target下的inspect */\n/** @Desc 安装多系统共享组件: npm install --save gitlab:leonchou/multiAppSharing。此处建议使用npm换用淘宝源（废弃）。暂时用gulp拷贝 */\n/** @Desc 配置环境变量取值：config、configDB、server/render/render.js、multiPublic/index.js、webpack-config、Layout/Header/Navigation */\n\n/**\n * @Desc 服务端配置用到publicPath：\n * webpack前端资源路径\n * layout.js的css+js路径\n * */\nconst publicPathTest = 'news.marslib.com'\nconst publicPathPrd = 'news.huoxing24.com'\nconst apiHostTest = 'api.marslib.com'\nconst apiHostPrd = 'api.marstelegram.com'\n// race.huoxing24.com, publicChainRrank接口有自有项目接口和火星财经借口主要新闻快讯\nconst hxHostTest = 'api.marslib.com'\nconst hxHostPrd = 'api.huoxing24.com'\n/** @Desc Defi数据api接口地址 */\nconst apiDomain = 'www.oklink.com'\nlet config = {\n    ip: (port) => `http://${typeof window !== 'undefined' ? ipClient() : ipServer()}:${port}`,\n    webpackPort: 8089, // webpack服务端口\n    serverPort: 3012 // 网站服务端口\n}\n// 测试环境不支持https，需要改为http\nif (env === 'development') {\n    config = Object.assign(\n        config,\n        {\n            publicPath: config.ip(config.webpackPort),\n            // apiHost: `http://${apiHostTest}`,\n            apiHost: `https://${apiHostPrd}`,\n            apiDomain: `https://${apiDomain}`,\n            hxHost: `http://${hxHostTest}`\n        }\n    )\n}\n\nif (env === 'test') {\n    config = Object.assign(\n        config,\n        {\n            // publicPath: config.ip(config.serverPort), // localTest test时使用这个地址\n            publicPath: `http://${publicPathTest}`,\n            apiHost: `https://${apiHostPrd}`,\n            apiDomain: `https://${apiDomain}`,\n            hxHost: `http://${hxHostTest}`\n        }\n    )\n}\n\nif (env === 'production') {\n    config = Object.assign(\n        config,\n        {\n            // publicPath: config.ip(config.serverPort), // localTest production时使用这个地址\n            publicPath: ``,\n            apiHost: `https://${apiHostPrd}`,\n            apiDomain: `https://${apiDomain}`,\n            hxHost: `https://${hxHostPrd}`\n        }\n    )\n}\n\nmodule.exports = config\n","module.exports = require(\"redux\");","module.exports = require(\"js-cookie\");","module.exports = require(\"path\");","module.exports = require(\"@babel/runtime/helpers/typeof\");","module.exports = require(\"react\");","module.exports = require(\"express\");","module.exports = require(\"express-promise-router\");","const env = process.env.NODE_ENV\nconst folderAddressTest = 'news.marslib.com'\nconst folderAddressPrd = 'news.huoxing24.com'\n\n/** @desc 测试服 */\nlet redisIp = '8.210.39.220' // 开发环境使用外网地址\nif (env === 'test') redisIp = '172.16.20.169' // 测试服使用内网地址\nlet config = {\n    redisIp: redisIp, // 微信分享缓存服务器IP\n    redisPsd: 'KN9YMBSeKJ4oKl0', // 微信分享缓存服务器Password\n    loadableStatsOutputPath: `/data/www/${folderAddressTest}/node/server/build`, // localTest test 时注释此段\n    sshServer: [ // 部署ssh服务器\n        {\n            config: {\n                host: '8.210.39.220',\n                port: 22,\n                username: 'root',\n                password: 'l8.LuQrR7xXtQM',\n                readyTimeout: 200000\n            },\n            logs: 'deploy',\n            path: `/data/www/${folderAddressTest}/node/publish.zip`,\n            // shell: [`cd /data/node_site/${urlTest}`, 'unzip -o publish.zip', 'npm run pm2Test', 'rm -f publish.zip']\n            shell: ['']\n        }\n    ]\n}\n\n/** @desc 正式服 */\nif (env === 'production') {\n    config = {\n        redisIp: 'r-j6cwzd7dvux3iybidepd.redis.rds.aliyuncs.com', // 外网IP:39.105.139.238\n        redisPsd: 'Qwe123KN9YMB',\n        loadableStatsOutputPath: `/data/node_site/${folderAddressPrd}/node/server/build`, // localTest production 时注释此段\n        sshServer: [\n            {\n                config: {\n                    host: '39.102.95.60',\n                    port: 22,\n                    username: 'root',\n                    password: '12>R_%Y)5V#.UL',\n                    readyTimeout: 200000\n                },\n                logs: 'deploy',\n                path: `/data/node_site/${folderAddressPrd}/node/publish.zip`,\n                // shell: [`cd /data/node_site/${urlPed}`, 'unzip -o publish.zip', 'npm run pm2Test', 'rm -f publish.zip']\n                shell: ['']\n            }, {\n                config: {\n                    host: '39.102.93.110',\n                    port: 22,\n                    username: 'root',\n                    password: '12>R_%Y)5V#.UL',\n                    readyTimeout: 200000\n                },\n                logs: 'deploy',\n                path: `/data/node_site/${folderAddressPrd}/node/publish.zip`,\n                // shell: [`cd /data/node_site/${urlPed}`, 'unzip -o publish.zip', 'npm run pm2Test', 'rm -f publish.zip']\n                shell: ['']\n            }\n        ]\n    }\n}\n\nmodule.exports = config\n","module.exports = require(\"util\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"express-winston\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"debug\");","module.exports = require(\"fs\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"@loadable/server\");","module.exports = require(\"react-i18next\");","module.exports = require(\"request\");","module.exports = require(\"i18next\");","module.exports = require(\"i18next-express-middleware\");","module.exports = require(\"http\");","module.exports = require(\"http-errors\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"compression\");","module.exports = require(\"axios\");","module.exports = require(\"js-base64\");","module.exports = require(\"blueimp-md5\");","module.exports = require(\"qs\");","module.exports = require(\"http-proxy-middleware\");","module.exports = require(\"querystring\");","module.exports = require(\"https\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"react-router-config\");","module.exports = require(\"redux-thunk\");","var crypto = require('crypto')\nvar zlib = require('zlib')\n\nvar base64url = {}\n\nvar newBuffer = function (fill, encoding) {\n    return Buffer.from && Buffer.from(fill, encoding)\n}\n\nbase64url.unescape = function unescape (str) {\n    return (str + Array(5 - str.length % 4))\n        .replace(/_/g, '=')\n        .replace(/-/g, '/')\n        .replace(/\\*/g, '+')\n}\n\nbase64url.escape = function escape (str) {\n    return str.replace(/\\+/g, '*')\n        .replace(/\\//g, '-')\n        .replace(/=/g, '_')\n}\n\nbase64url.encode = function encode (str) {\n    return this.escape(newBuffer(str).toString('base64'))\n}\n\nbase64url.decode = function decode (str) {\n    return newBuffer(this.unescape(str), 'base64').toString()\n}\n\nfunction base64encode (str) {\n    return newBuffer(str).toString('base64')\n}\n\n// function base64decode (str) {\n//     return newBuffer(str, 'base64').toString()\n// }\n\nvar Api = function (sdkappid, key) {\n    this.sdkappid = sdkappid\n    this.key = key\n}\n/**\n * 通过传入参数生成 base64 的 hmac 值\n * @param identifier\n * @param currTime\n * @param expire\n * @returns {string}\n * @private\n */\nApi.prototype._hmacsha256 = function (identifier, currTime, expire, base64UserBuf) {\n    var contentToBeSigned = 'TLS.identifier:' + identifier + '\\n'\n    contentToBeSigned += 'TLS.sdkappid:' + this.sdkappid + '\\n'\n    contentToBeSigned += 'TLS.time:' + currTime + '\\n'\n    contentToBeSigned += 'TLS.expire:' + expire + '\\n'\n    if (base64UserBuf != null) {\n        contentToBeSigned += 'TLS.userbuf:' + base64UserBuf + '\\n'\n    }\n    const hmac = crypto.createHmac('sha256', this.key)\n    return hmac.update(contentToBeSigned).digest('base64')\n}\n/**\n * TRTC业务进房权限加密串需使用用户定义的userbuf\n * @brief 生成 userbuf\n * @param account 用户名\n * @param dwSdkappid sdkappid\n * @param dwAuthID  数字房间号\n * @param dwExpTime 过期时间：该权限加密串的过期时间，建议300秒，实际过期时间:now+dwExpTime\n * @param dwPrivilegeMap 用户权限，255表示所有权限\n * @param dwAccountType 用户类型,默认为0\n * @param roomstr 字符串房间号\n * @return userbuf  {string}  返回的userbuf\n */\nApi.prototype._genUserbuf = function (account, dwAuthID, dwExpTime,\n    dwPrivilegeMap, dwAccountType, roomstr) {\n    let accountLength = account.length\n    let roomstrlength = 0\n    let length = 1 + 2 + accountLength + 20\n    if (roomstr != null) {\n        roomstrlength = roomstr.length\n        length = length + 2 + roomstrlength\n    }\n    let offset = 0\n    const Alloc = Buffer.alloc\n    let userBuf = new Alloc(length)\n\n    // cVer\n    if (roomstr != null) { userBuf[offset++] = 1 } else { userBuf[offset++] = 0 }\n\n    // wAccountLen\n    userBuf[offset++] = (accountLength & 0xFF00) >> 8\n    userBuf[offset++] = accountLength & 0x00FF\n\n    // buffAccount\n    for (; offset < 3 + accountLength; ++offset) {\n        userBuf[offset] = account.charCodeAt(offset - 3)\n    }\n\n    // dwSdkAppid\n    userBuf[offset++] = (this.sdkappid & 0xFF000000) >> 24\n    userBuf[offset++] = (this.sdkappid & 0x00FF0000) >> 16\n    userBuf[offset++] = (this.sdkappid & 0x0000FF00) >> 8\n    userBuf[offset++] = this.sdkappid & 0x000000FF\n\n    // dwAuthId\n    userBuf[offset++] = (dwAuthID & 0xFF000000) >> 24\n    userBuf[offset++] = (dwAuthID & 0x00FF0000) >> 16\n    userBuf[offset++] = (dwAuthID & 0x0000FF00) >> 8\n    userBuf[offset++] = dwAuthID & 0x000000FF\n\n    // 过期时间：dwExpTime+now\n    let expire = Date.now() / 1000 + dwExpTime\n    userBuf[offset++] = (expire & 0xFF000000) >> 24\n    userBuf[offset++] = (expire & 0x00FF0000) >> 16\n    userBuf[offset++] = (expire & 0x0000FF00) >> 8\n    userBuf[offset++] = expire & 0x000000FF\n\n    // dwPrivilegeMap\n    userBuf[offset++] = (dwPrivilegeMap & 0xFF000000) >> 24\n    userBuf[offset++] = (dwPrivilegeMap & 0x00FF0000) >> 16\n    userBuf[offset++] = (dwPrivilegeMap & 0x0000FF00) >> 8\n    userBuf[offset++] = dwPrivilegeMap & 0x000000FF\n\n    // dwAccountType\n    userBuf[offset++] = (dwAccountType & 0xFF000000) >> 24\n    userBuf[offset++] = (dwAccountType & 0x00FF0000) >> 16\n    userBuf[offset++] = (dwAccountType & 0x0000FF00) >> 8\n    userBuf[offset++] = dwAccountType & 0x000000FF\n\n    if (roomstr != null) {\n        // roomstrlength\n        userBuf[offset++] = (roomstr.length & 0xFF00) >> 8\n        userBuf[offset++] = roomstr.length & 0x00FF\n\n        // roomstr\n        for (; offset < length; ++offset) {\n            userBuf[offset] = account.charCodeAt(offset - (length - roomstr.length))\n        }\n    }\n\n    return userBuf\n}\nApi.prototype.genSig = function (userid, expire, userBuf) {\n    var currTime = Math.floor(Date.now() / 1000)\n\n    var sigDoc = {\n        'TLS.ver': '2.0',\n        'TLS.identifier': '' + userid,\n        'TLS.sdkappid': Number(this.sdkappid),\n        'TLS.time': Number(currTime),\n        'TLS.expire': Number(expire)\n    }\n\n    var sig = ''\n    if (userBuf != null) {\n        var base64UserBuf = base64encode(userBuf)\n        sigDoc['TLS.userbuf'] = base64UserBuf\n        sig = this._hmacsha256(userid, currTime, expire, base64UserBuf)\n    } else {\n        sig = this._hmacsha256(userid, currTime, expire, null)\n    }\n    sigDoc['TLS.sig'] = sig\n\n    var compressed = zlib.deflateSync(newBuffer(JSON.stringify(sigDoc))).toString('base64')\n    return base64url.escape(compressed)\n}\n/**\n *【功能说明】用于签发 TRTC 和 IM 服务中必须要使用的 UserSig 鉴权票据\n *\n *【参数说明】\n * @param userid - 用户id，限制长度为32字节，只允许包含大小写英文字母（a-zA-Z）、数字（0-9）及下划线和连词符。\n * @param expire - UserSig 票据的过期时间，单位是秒，比如 86400 代表生成的 UserSig 票据在一天后就无法再使用了。\n */\nApi.prototype.genUserSig = function (userid, expire) {\n    return this.genSig(userid, expire, null)\n}\n\n/**\n *【功能说明】\n * 用于签发 TRTC 进房参数中可选的 PrivateMapKey 权限票据。\n * PrivateMapKey 需要跟 UserSig 一起使用，但 PrivateMapKey 比 UserSig 有更强的权限控制能力：\n *  - UserSig 只能控制某个 UserID 有无使用 TRTC 服务的权限，只要 UserSig 正确，其对应的 UserID 可以进出任意房间。\n *  - PrivateMapKey 则是将 UserID 的权限控制的更加严格，包括能不能进入某个房间，能不能在该房间里上行音视频等等。\n * 如果要开启 PrivateMapKey 严格权限位校验，需要在【实时音视频控制台】=>【应用管理】=>【应用信息】中打开“启动权限密钥”开关。\n *\n *【参数说明】\n * @param userid - 用户id，限制长度为32字节，只允许包含大小写英文字母（a-zA-Z）、数字（0-9）及下划线和连词符。\n * @param expire - PrivateMapKey 票据的过期时间，单位是秒，比如 86400 生成的 PrivateMapKey 票据在一天后就无法再使用了。\n * @param roomid - 房间号，用于指定该 userid 可以进入的房间号\n * @param privilegeMap - 权限位，使用了一个字节中的 8 个比特位，分别代表八个具体的功能权限开关：\n *  - 第 1 位：0000 0001 = 1，创建房间的权限\n *  - 第 2 位：0000 0010 = 2，加入房间的权限\n *  - 第 3 位：0000 0100 = 4，发送语音的权限\n *  - 第 4 位：0000 1000 = 8，接收语音的权限\n *  - 第 5 位：0001 0000 = 16，发送视频的权限\n *  - 第 6 位：0010 0000 = 32，接收视频的权限\n *  - 第 7 位：0100 0000 = 64，发送辅路（也就是屏幕分享）视频的权限\n *  - 第 8 位：1000 0000 = 200，接收辅路（也就是屏幕分享）视频的权限\n *  - privilegeMap == 1111 1111 == 255 代表该 userid 在该 roomid 房间内的所有功能权限。\n *  - privilegeMap == 0010 1010 == 42  代表该 userid 拥有加入房间和接收音视频数据的权限，但不具备其他权限。\n */\nApi.prototype.genPrivateMapKey = function (userid, expire, roomid, privilegeMap) {\n    var userBuf = this._genUserbuf(userid, roomid, expire, privilegeMap, 0, null)\n    return this.genSig(userid, expire, userBuf)\n}\n/**\n *【功能说明】\n * 用于签发 TRTC 进房参数中可选的 PrivateMapKey 权限票据。\n * PrivateMapKey 需要跟 UserSig 一起使用，但 PrivateMapKey 比 UserSig 有更强的权限控制能力：\n *  - UserSig 只能控制某个 UserID 有无使用 TRTC 服务的权限，只要 UserSig 正确，其对应的 UserID 可以进出任意房间。\n *  - PrivateMapKey 则是将 UserID 的权限控制的更加严格，包括能不能进入某个房间，能不能在该房间里上行音视频等等。\n * 如果要开启 PrivateMapKey 严格权限位校验，需要在【实时音视频控制台】=>【应用管理】=>【应用信息】中打开“启动权限密钥”开关。\n *\n *【参数说明】\n * @param userid - 用户id，限制长度为32字节，只允许包含大小写英文字母（a-zA-Z）、数字（0-9）及下划线和连词符。\n * @param expire - PrivateMapKey 票据的过期时间，单位是秒，比如 86400 生成的 PrivateMapKey 票据在一天后就无法再使用了。\n * @param roomstr - 房间号，用于指定该 userid 可以进入的房间号\n * @param privilegeMap - 权限位，使用了一个字节中的 8 个比特位，分别代表八个具体的功能权限开关：\n *  - 第 1 位：0000 0001 = 1，创建房间的权限\n *  - 第 2 位：0000 0010 = 2，加入房间的权限\n *  - 第 3 位：0000 0100 = 4，发送语音的权限\n *  - 第 4 位：0000 1000 = 8，接收语音的权限\n *  - 第 5 位：0001 0000 = 16，发送视频的权限\n *  - 第 6 位：0010 0000 = 32，接收视频的权限\n *  - 第 7 位：0100 0000 = 64，发送辅路（也就是屏幕分享）视频的权限\n *  - 第 8 位：1000 0000 = 200，接收辅路（也就是屏幕分享）视频的权限\n *  - privilegeMap == 1111 1111 == 255 代表该 userid 在该房间内的所有功能权限。\n *  - privilegeMap == 0010 1010 == 42  代表该 userid 拥有加入房间和接收音视频数据的权限，但不具备其他权限。\n */\nApi.prototype.genPrivateMapKeyWithStringRoomID = function (userid, expire, roomstr, privilegeMap) {\n    var userBuf = this._genUserbuf(userid, 0, expire, privilegeMap, 0, roomstr)\n    return this.genSig(userid, expire, userBuf)\n}\n\nexports.Api = Api\n","module.exports = require(\"redis\");","module.exports = require(\"i18next-node-fs-backend\");","module.exports = {\"headernavone\":\"首页\",\"headernavtwo\":\"快讯\",\"headerimportant\":\"要闻\",\"headernavthree\":\"新闻\",\"headernavfour\":\"直播\",\"headernavfive\":\"专题\",\"my_news\":\"我的专栏\",\"downloadapp\":\"下载APP\",\"sao_downloadapp\":\"扫描下载APP\",\"loginout\":\"退出登录\",\"login\":\"登录\",\"input_please\":\"请输入搜索关键字\",\"search\":\"搜索\",\"business_cooperation\":\"商务合作\",\"all_world_dynamic\":\"聚焦全球区块链科技前沿动态\",\"friendship_link\":\"友情链接\",\"more_footer\":\"更多\",\"investment_web3\":\"投资区块链，下载MarsBit APP\",\"android_download\":\"Android版下载\",\"ios_download\":\"iPhone 版下载\",\"product_dynamics\":\"项目动态\",\"download_marsbit_app\":\"下载MarsBit APP\",\"marsbit_app_desc\":\"以行业热点、实时快讯、视频解读等维度提供全方位的区块链整合服务\",\"most_new_topic\":\"最新专题\",\"hot_door_title\":\"热门标签\",\"hot_door_nft\":\"热门NFT\",\"account_pasd_login\":\"账号密码登录\",\"signnup_new_account\":\"注册新账号\",\"please_sure_ipone\":\"请输入正确手机号\",\"password_not_null\":\"密码不能为空\",\"account_paswd_error\":\"账号密码登录错误\",\"input_mobile_code\":\"输入手机号码\",\"input_password\":\"密码\",\"forget_password\":\"忘记密码\",\"sure\":\"确定\",\"other_ways_login\":\"其它方式登录\",\"wechat_login\":\"微信登录\",\"message_login\":\"短信登录\",\"account_login\":\"账号登录\",\"password_rule\":\"密码长度6~16位，且同时包含字母和数字\",\"account_login_error\":\"账号登录错误\",\"user_register_error\":\"用户注册错误\",\"change_password_error\":\"修改密码错误\",\"register_marsbit\":\"注册MarsBit\",\"retrieve_password\":\"找回密码\",\"register_agree\":\"注册即视为同意\",\"marsbit_user_agreement\":\"MarsBit用户协议\",\"to_sure\":\"确认\",\"haved_account_to_login\":\"已有账号，直接登录\",\"register_verify_error\":\"手机是否有注册验证错误\",\"bind_mobile_fail\":\"绑定手机号失败\",\"registered_bind_error\":\"已注册手机号绑定错误\",\"not_register_bind_error\":\"未注册手机号绑定错误\",\"mobile_register_verify_fail\":\"手机是否有注册验证失败\",\"bind_account\":\"绑定账号\",\"register_new_account\":\"注册新账号\",\"element_all_quant\":\"总交易额\",\"element_min_price\":\"地板价\",\"element_holder\":\"持有者\",\"24_hot_news\":\"24H热门新闻\",\"flash_info\":\"快讯精选\",\"disclaimer_in\":\"免责声明：本文不构成投资建议，用户应考虑本文中的任何意见、观点或结论是否符合其特定状况，及遵守所在国家和地区的相关法律法规。\",\"look_all_info\":\"查看全文\",\"hand_pick_flash\":\"精选快讯\",\"see_more_info_download\":\"看更多快讯，下载MarsBit APP\",\"usercenter_author_info\":\"编辑资料\",\"usercenter_change_password\":\"修改密码\",\"usercenter_article\":\"文章\",\"usercenter_vidio\":\"视频\",\"usercenter_collect\":\"收藏\",\"usercenter_coming\":\"进入\",\"usercenter_immediate_entry\":\"立即入驻\",\"usercenter_column\":\"专栏\",\"no_content\":\"暂无内容\",\"usercenter_attention\":\"关注\",\"usercenter_vermicelli\":\"粉丝\",\"usercenter_achievement\":\"个人成就\",\"usercenter_all_fb\":\"共发布了\",\"usercenter_all_author\":\"篇文章\",\"usercenter_all_vedio\":\"部视频\",\"usercenter_all_hot_more\":\"发布的文章总热度超过\",\"usercenter_all_get\":\"文章总共获得\",\"usercenter_all_pl\":\"次评论\",\"usercenter_column_author\":\"专栏作者\",\"usercenter_change_batch\":\"换一批\",\"news_hotd\":\"热度\",\"news_sm_one\":\"声明：本文为入驻“MarsBit 专栏”作者作品，不代表MarsBit官方立场。\",\"news_sm_two\":\"转载请联系网页底部：内容合作栏目，邮件进行授权。授权后转载时请注明出处、作者和本文链接。\",\"news_sm_three\":\"未经许可擅自转载本站文章，将追究相关法律责任，侵权必究。\",\"news_sm_four\":\"提示：投资有风险，入市须谨慎，本资讯不作为投资理财建议。\",\"news_guan_j\":\"关键字\",\"news_updated\":\"最近更新\",\"news_this_article\":\"本文来源\",\"news_author_title\":\"原文标题\",\"feature_update_time\":\"按更新时间\",\"feature_set_time\":\"按创建时间\",\"feature_setting\":\"已创建\",\"feature_zt_num\":\"个专题\",\"feature_desc\":\"专题介绍\",\"feature_recommended_topic\":\"推荐专题\",\"feature_hot_news\":\"热门新闻\",\"about_news\":\"相关新闻\",\"news_get_you\":\"为你推荐\",\"guan_zhu\":\"关注\",\"guan_zhu_ed\":\"已关注\",\"verify_code\":\"验证码\",\"send_verify_code\":\"发送验证码\",\"author_info_self\":\"个人专栏\",\"author_info_media\":\"媒体专栏\",\"author_info_enterprise\":\"企业专栏\",\"author_info_ordinary_user\":\"普通用户\",\"author_info_zl_self\":\"专栏个人认证\",\"author_info_zl_media\":\"专栏媒体认证\",\"author_info_zl_enterprise\":\"专栏机构认证\",\"live_ing\":\"直播中\",\"live_playback\":\"回放中\",\"live_about_start\":\"即将开始\",\"live_broadcast_time\":\"直播时间\",\"live_start_time\":\"开始时间\",\"live_tj_strem\":\"推荐直播\",\"live_brief\":\"直播简介\",\"live_commincation\":\"聊天室\",\"live_not_start\":\"直播尚未开始\",\"live_finsh\":\"直播已结束，感谢参与互动\",\"live_to_say\":\"发布评论，参与直播互动\",\"live_send\":\"发送\",\"share_open\":\"打开\",\"open_column\":\"开通专栏\",\"abstract-news\":\"本摘要由 Mars AI 模型生成，其生成内容的准确性、完整性还处于迭代更新阶段。\",\"abstract-title\":\"摘要由 Mars AI 生成\"}","module.exports = {\"headernavone\":\"首頁\",\"headernavtwo\":\"快訊\",\"headerimportant\":\"要聞\",\"headernavthree\":\"新聞\",\"headernavfour\":\"直播\",\"headernavfive\":\"專題\",\"my_news\":\"我的專欄\",\"downloadapp\":\"下載APP\",\"sao_downloadapp\":\"掃描下載APP\",\"loginout\":\"退出登錄\",\"login\":\"登錄\",\"input_please\":\"請輸入搜索關鍵字\",\"search\":\"搜索\",\"business_cooperation\":\"商務合作\",\"all_world_dynamic\":\"聚焦全球區塊鏈科技前沿動態\",\"friendship_link\":\"友情鏈接\",\"more_footer\":\"更多\",\"investment_web3\":\"投資區塊鏈，下載MarsBit APP\",\"android_download\":\"Android版下載\",\"ios_download\":\"iPhone 版下載\",\"product_dynamics\":\"項目動態\",\"download_marsbit_app\":\"下載MarsBit APP\",\"marsbit_app_desc\":\"以行業熱點、實時快訊、視頻解讀等維度提供全方位的區塊鏈整合服務\",\"most_new_topic\":\"最新專題\",\"hot_door_title\":\"熱門標籤\",\"hot_door_nft\":\"熱門NFT\",\"account_pasd_login\":\"賬號密碼登錄\",\"signnup_new_account\":\"註冊新賬號\",\"please_sure_ipone\":\"請輸入正確手機號\",\"password_not_null\":\"密碼不能為空\",\"account_paswd_error\":\"賬號密碼登錄錯誤\",\"input_mobile_code\":\"輸入手機號碼\",\"input_password\":\"密碼\",\"forget_password\":\"忘記密碼\",\"sure\":\"確定\",\"other_ways_login\":\"其它方式登錄\",\"wechat_login\":\"微信登錄\",\"message_login\":\"短信登錄\",\"account_login\":\"賬號登錄\",\"password_rule\":\"密碼長度6~16位，且同時包含字母和數字\",\"account_login_error\":\"賬號登錄錯誤\",\"user_register_error\":\"用戶註冊錯誤\",\"change_password_error\":\"修改密碼錯誤\",\"register_marsbit\":\"註冊MarsBit\",\"retrieve_password\":\"找回密碼\",\"register_agree\":\"註冊即視為同意\",\"marsbit_user_agreement\":\"MarsBit用戶協議\",\"to_sure\":\"確認\",\"haved_account_to_login\":\"已有賬號，直接登錄\",\"register_verify_error\":\"手機是否有註冊驗證錯誤\",\"bind_mobile_fail\":\"綁定手機號失敗\",\"registered_bind_error\":\"已註冊手機號綁定錯誤\",\"not_register_bind_error\":\"未註冊手機號綁定錯誤\",\"mobile_register_verify_fail\":\"手機是否有註冊驗證失敗\",\"bind_account\":\"綁定賬號\",\"register_new_account\":\"註冊新賬號\",\"element_all_quant\":\"總交易額\",\"element_min_price\":\"地板價\",\"element_holder\":\"持有者\",\"24_hot_news\":\"24H熱門新聞\",\"flash_info\":\"快訊精選\",\"disclaimer_in\":\"免責聲明：本文不構成投資建議，用戶應考慮本文中的任何意見、觀點或結論是否符合其特定狀況，及遵守所在國家和地區的相關法律法規。\",\"look_all_info\":\"查看全文\",\"hand_pick_flash\":\"精選快訊\",\"see_more_info_download\":\"看更多快訊，下載MarsBit APP\",\"usercenter_author_info\":\"編輯資料\",\"usercenter_change_password\":\"修改密碼\",\"usercenter_article\":\"文章\",\"usercenter_vidio\":\"視頻\",\"usercenter_collect\":\"收藏\",\"usercenter_coming\":\"進入\",\"usercenter_immediate_entry\":\"立即入駐\",\"usercenter_column\":\"專欄\",\"no_content\":\"暫無內容\",\"usercenter_attention\":\"關注\",\"usercenter_vermicelli\":\"粉絲\",\"usercenter_achievement\":\"個人成就\",\"usercenter_all_fb\":\"共發布了\",\"usercenter_all_author\":\"篇文章\",\"usercenter_all_vedio\":\"部視頻\",\"usercenter_all_hot_more\":\"發布的文章總熱度超過\",\"usercenter_all_get\":\"文章總共獲得\",\"usercenter_all_pl\":\"次評論\",\"usercenter_column_author\":\"專欄作者\",\"usercenter_change_batch\":\"換一批\",\"news_hotd\":\"熱度\",\"news_sm_one\":\"聲明：本文為入駐“MarsBit 專欄”作者作品，不代表MarsBit官方立場。\",\"news_sm_two\":\"轉載請聯繫網頁底部：內容合作欄目，郵件進行授權。授權後轉載時請註明出處、作者和本文鏈接。\",\"news_sm_three\":\"未經許可擅自轉載本站文章，將追究相關法律責任，侵權必究。\",\"news_sm_four\":\"提示：投資有風險，入市須謹慎，本資訊不作為投資理財建議。\",\"news_guan_j\":\"關鍵字\",\"news_updated\":\"最近更新\",\"news_this_article\":\"本文來源\",\"news_author_title\":\"原文標題\",\"feature_update_time\":\"按更新時間\",\"feature_set_time\":\"按創建時間\",\"feature_setting\":\"已創建\",\"feature_zt_num\":\"個專題\",\"feature_desc\":\"專題介紹\",\"feature_recommended_topic\":\"推薦專題\",\"feature_hot_news\":\"熱門新聞\",\"about_news\":\"相關新聞\",\"news_get_you\":\"為你推薦\",\"verify_code\":\"驗證碼\",\"send_verify_code\":\"發送驗證碼\",\"author_info_self\":\"個人專欄\",\"author_info_media\":\"媒體專欄\",\"author_info_enterprise\":\"企業專欄\",\"author_info_ordinary_user\":\"普通用戶\",\"author_info_zl_self\":\"專欄個人認證\",\"author_info_zl_media\":\"專欄媒體認證\",\"author_info_zl_enterprise\":\"專欄機構認證\",\"live_ing\":\"直播中\",\"live_playback\":\"回放中\",\"live_about_start\":\"即將開始\",\"live_broadcast_time\":\"直播時間\",\"live_start_time\":\"開始時間\",\"live_tj_strem\":\"推薦直播\",\"live_brief\":\"直播簡介\",\"live_commincation\":\"聊天室\",\"live_not_start\":\"直播尚未開始\",\"live_finsh\":\"直播已結束，感謝參與互動\",\"live_to_say\":\"發布評論，參與直播互動\",\"live_send\":\"發送\",\"share_open\":\"打開\",\"open_column\":\"開通專欄\",\"abstract-news\":\"本摘要由Mars AI模型生成，其生成內容的準確性、完整性還處於反覆運算更新階段。\",\"abstract-title\":\"摘要由Mars AI生成\"}","module.exports = require(\"os\");","module.exports = require(\"winston\");","module.exports = require(\"winston-daily-rotate-file\");","module.exports = require(\"crypto\");","module.exports = require(\"zlib\");","module.exports = require(\"jssha\");","import axios from 'axios'\nimport { Base64 } from 'js-base64'\nimport md5 from 'blueimp-md5'\nimport qs from 'qs'\nimport Cookies from 'js-cookie'\n// import hmacSHA256 from 'crypto-js/hmac-sha256'\nimport { apiHost, ip } from '../../config/config'\n\n/**\n * @desc 注销或检测到token过期时删除登录cookie信息\n * @method clearLoginCookies()\n */\nexport const clearLoginCookies = () => {\n    let domain = ''\n    const env = process.env.NODE_ENV\n    if (env === 'test') domain = 'marslib.com'\n    if (env === 'production') {\n        const networkurl = window.location.hostname\n        if (networkurl.indexOf('marsbit.cc') > -1) domain = 'marsbit.cc'\n        if (networkurl.indexOf('marsbit.co') > -1) domain = 'marsbit.co'\n        if (networkurl.indexOf('marstelegram.com') > -1) domain = 'marstelegram.com'\n    }\n    for (let key in cookiesName) {\n        if (key === 'deviceId' || key === 'deviceUuid') continue\n        // 删除老版本登录信息\n        Cookies.remove(cookiesName[key])\n        // 删除新版本登录信息\n        Cookies.remove(cookiesName[key], { domain: domain })\n    }\n}\n\n/**\n * @desc 2021-11-26 marsbit.co域名备灾临时代码\n */\nexport const domainSuffix = (req) => {\n    const hostServer = req && req.headers ? req.headers.host : ''\n    const host = typeof window === 'undefined' ? hostServer : window.location.host\n    if (!host || typeof host !== 'string') return 'co'\n    if (host.includes('marsbit.cn')) return 'cn'\n    if (host.includes('marsbit.net')) return 'net'\n    if (host.includes('marsbit.co')) return 'co'\n    return 'co'\n}\nexport const replaceDomain = (data, req) => {\n    let dataTmp = isObject(data) ? JSON.stringify(data) : data\n    if (typeof dataTmp === 'string') {\n        const domainWww = `www.marsbit.${domainSuffix(req)}`\n        const domainNew = `news.marsbit.${domainSuffix(req)}`\n        const domainMp = `mp.marsbit.${domainSuffix(req)}`\n        dataTmp = dataTmp.replace(/www.marsbit.co/g, domainWww)\n        dataTmp = dataTmp.replace(/news.marsbit.co/g, domainNew)\n        dataTmp = dataTmp.replace(/mp.marsbit.co/g, domainMp)\n        dataTmp = isJson(dataTmp) ? JSON.parse(dataTmp) : dataTmp\n    }\n    return dataTmp\n}\n\n/**\n * @desc ajax请求\n * nodeJs接口请求错误由render.js统一处理; 前端做单独做明确提示。\n * 错误捕获在每个地方都catch并且throw Error，即使上一层已经捕获。不然error.stack不会追溯到错误位置\n * @returns {data/error}\n * @Params {args} args = {type(get/post/complexpost), url, params, contentType, urlSearchParams, formData, noLoading, userDefined, host, transformRequest, noLog}\n * @method axiosAjax({\n        type: get/post/complexpost,\n        url: ',\n        contentType: 'application/x-home.js.js-form-urlencoded',\n        formData: true,\n        noLoading: true,\n        userDefined: {\n            'hx-cookie': Base64.encode(JSON.stringify({\n                    'passportId': Cookies.get('passportId'),\n                    'token': Cookies.get('token')\n                }))\n        },\n        transformRequest: '',\n        urlSearchParams: true,\n        params: {\n            dataone: 'one',\n            datatwo: 'two'\n        }\n    })\n */\nexport const ajaxSignature = () => {\n    const platform = 'pc'\n    const appSecret = 'Fbz]OdjAyhpqOIKA'\n    const nonceArr = 'abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ1234567890'\n    const timestamp = new Date().getTime()\n    let nonce = ''\n    for (let i = 0; i < 6; i++) {\n        let j = Math.round(Math.random() * nonceArr.length)\n        nonce += nonceArr[j]\n    }\n    const sig = md5('platform=' + platform + '&timestamp=' + timestamp + '&nonce=' + nonce + '&' + appSecret)\n    return Base64.encode(JSON.stringify({\n        'platform': platform,\n        'nonce': nonce,\n        'timestamp': timestamp,\n        'sig': sig\n    }))\n}\n\nexport const getAPISign = () => {\n    // 随机数字字母，建议4位\n    // const appKey = 'ysBokbA3gKUzt61DmeHWjTFYZ07CGPQL'\n    // const appSecret = 'a2PAJXRBChdpGvoyKEz3lLS5Yf1bM0NO'\n    // const nonce = Number.parseInt((Math.random() * (9999 - 1000 + 1) + 1000).toString(), 10)\n    // // 当前时间戳（秒）\n    // const timestamp = Number.parseInt((Date.now() / 1000).toString(), 10)\n    // // 使用appSecret进行HMacSha256加密函数\n    // const hmac256 = hmacSHA256(`${appKey}${nonce}${timestamp}`, appSecret)\n\n    // const headers = {\n    //     'X-Api-Key': appKey,\n    //     'X-Api-Sign': `${hmac256}.${nonce}.${timestamp}`\n    // }\n\n    // return headers\n}\n\nconst removeLoading = () => {\n    if (typeof window !== 'undefined' && document.getElementById('ajaxLoading')) {\n        const $ajaxLoading = document.getElementById('ajaxLoading')\n        $ajaxLoading.parentNode.removeChild($ajaxLoading)\n    }\n}\nexport const axiosAjax = (args) => new Promise(function (resolve, reject) {\n    const {\n        req,\n        type,\n        url,\n        params,\n        contentType,\n        urlSearchParams,\n        formData,\n        noLoading, // 是否有加载动画\n        noLog, // code不等于1时是否打印日志。[]空数组为都不上报，[-4, 5, 7]当res.data.code为其中一项时就不上报\n        userDefined,\n        host,\n        transformRequest,\n        isDefi // Defi数据站\n    } = args\n    const request = args.req || (args.params && args.params.req)\n    if (args.params && args.params.req) delete args.params.req\n\n    // 获取并设置请求语言\n    let language = 'zh-CN'\n    let langServer = request && request.language // 服务端请求\n    let langBrowser = typeof window !== 'undefined' && Cookies.get(cookiesName.language) // 前端请求\n    if (langServer) language = langServer\n    if (langBrowser) language = langBrowser\n\n    // console.log(langServer, langBrowser)\n\n    // params.lang = language\n\n    try {\n        let urlLast = apiHost + url\n        if (host || host === '') urlLast = host + url\n        if (isDefi) urlLast = url\n\n        // 2021-11-26 marsbit.co域名备灾临时代码\n        if (typeof window === 'undefined') {\n            // 后端替换请求域名为指定专有Ip或域名\n        } else {\n            urlLast = urlLast.replace('.co', `.${domainSuffix(req)}`)\n        }\n\n        if (typeof window !== 'undefined') {\n            let ajaxLoadingStr = `<div class=\"hx-loading\" id=\"ajaxLoading\">\n                    <div class=\"round round-one\"></div>\n                    <div class=\"round round-two\"></div>\n                    <div class=\"round round-three\"></div>\n                </div>`\n\n            if (noLoading) ajaxLoadingStr = '<div id=\"ajaxLoading\"></div>'\n            if (!document.getElementById('ajaxLoading')) document.body.insertAdjacentHTML('beforeend', ajaxLoadingStr)\n        }\n\n        let opt = null\n        const ajaxType = type.toLowerCase()\n        if (ajaxType === 'post') {\n            opt = {\n                method: type,\n                url: urlLast,\n                data: qs.stringify({\n                  ...params,\n                  lang: language\n                })\n            }\n        } else if (ajaxType === 'get') {\n            opt = {\n                method: type,\n                url: urlLast,\n                params: {\n                  ...params,\n                  lang: language\n                }\n            }\n        } else if (ajaxType === 'complexpost') {\n            opt = {\n                method: 'post',\n                url: urlLast,\n                params: params\n            }\n        } else if (ajaxType === 'postpure') {\n            opt = {\n                method: 'post',\n                url: urlLast,\n                data: params\n            }\n        }\n\n        // 仅浏览器端支持\n        if (urlSearchParams) {\n            let searchParams = new URLSearchParams()\n            for (let key in params) {\n                searchParams.append(key, params[key])\n            }\n\n            opt = {\n                method: type,\n                url: urlLast,\n                data: searchParams\n            }\n        }\n\n        // 仅浏览器端支持\n        if (formData) {\n            let fmData = new FormData()\n            for (let key in params) {\n                fmData.append(key, params[key])\n            }\n\n            opt = {\n                method: type,\n                url: urlLast,\n                data: fmData\n            }\n        }\n\n        opt.headers = {\n          'Accept-Language': language\n        }\n\n        if (contentType) {\n            opt.headers = {\n                'Content-Type': contentType\n            }\n        }\n\n        if (userDefined) {\n            opt.headers = Object.assign(opt.headers ? opt.headers : {}, userDefined)\n        }\n\n        if (transformRequest) {\n            opt.transformRequest = transformRequest\n        }\n\n        if (isDefi) {\n            opt.headers = Object.assign(opt.headers ? opt.headers : {}, { 'x-apiKey': '4b92a4b6-8ad2-408a-9169-301e03da89c7' })\n        }\n\n        opt.headers = Object.assign(opt.headers ? opt.headers : {}, {\n            'Sign-Param': ajaxSignature()\n        })\n\n        axios({\n            ...opt,\n            timeout: 30000\n        }).then(function (res) {\n            let noLogTrue = false // 自定义是否上报日志\n            if (noLog && isArray(noLog)) {\n                if (noLog.length === 0) {\n                    noLogTrue = true\n                } else {\n                    for (let val of noLog) {\n                        if (res.data && res.data.code && res.data.code === val) {\n                            noLogTrue = true\n                            break\n                        }\n                    }\n                }\n            }\n\n            if (res.data && res.data.code && res.data.code !== 1 && !noLogTrue) {\n                const resCode = res.data.code\n                const resMsg = res.data.msg ? res.data.msg : 'api code is not 1'\n                // -4需要登录， -1未查询到记录\n                if (typeof window === 'undefined') {\n                    if (resCode !== -4 && resCode !== -1) {\n                        throw Error(JSON.stringify({\n                            message: 'api-msg',\n                            httpCode: 200,\n                            url: url,\n                            resCode: resCode,\n                            resMsg: resMsg\n                        }))\n                    }\n                } else {\n                    if (resCode === -4) { // 登录失效时清除登录信息并跳转到登录页面\n                        clearLoginCookies()\n                        // window.location.href = mixUrl.main('/account')\n                    }\n                    if (resCode !== -4 && url.indexOf('/logger') === -1) {\n                        logReport({\n                            message: 'client-api-msg',\n                            httpCode: 200,\n                            url: url,\n                            params: isJson(params) ? JSON.stringify(params) : params,\n                            resCode: resCode,\n                            resMsg: resMsg,\n                            framework: true\n                        })\n                    }\n                }\n            }\n\n            removeLoading()\n\n            // 2021-11-26 marsbit.co域名备灾临时代码\n            resolve(replaceDomain(res.data, req))\n        }).catch(function (err) {\n            const errMsg = typeof err.message === 'string' ? err.message.replace(/Error: /g, '') : ''\n            const urlParam = err.config ? err.config.url : url\n            const codeParam = err.response ? err.response.status : 500\n            let errObj = { errMsg: errMsg }\n            if (isJson(errMsg) && JSON.parse(errMsg).message === 'api-msg') {\n                errObj = JSON.parse(errMsg)\n            } else {\n                errObj = {\n                    message: 'api-err',\n                    httpCode: codeParam,\n                    url: urlParam,\n                    ...errObj\n                }\n            }\n\n            if (typeof window === 'undefined') {\n                console.log(errObj)\n                reject(Error(JSON.stringify(errObj)))\n            } else {\n                removeLoading()\n\n                errObj.message = 'client-api-err'\n                errObj.params = isJson(params) ? JSON.stringify(params) : params\n                if (err.stack) errObj.stack = err.stack\n                url.indexOf('/logger') === -1 && logReport({ ...errObj, framework: true })\n\n                const errStr = `[api-err] url:${urlParam}, status:${codeParam}, msg:${errMsg}`\n                console.error(errStr)\n                reject(Error(errStr))\n            }\n        })\n    } catch (err) {\n        const errObj = {\n            message: 'ajax-handle-error',\n            httpCode: 200,\n            url: url,\n            errMsg: err.message\n        }\n        if (typeof window === 'undefined') {\n            console.log(errObj)\n            reject(Error(JSON.stringify(errObj)))\n        } else {\n            removeLoading()\n\n            errObj.message = 'client-ajax-handle-err'\n            errObj.params = isJson(params) ? JSON.stringify(params) : params\n            if (err.stack) errObj.stack = err.stack\n            url.indexOf('/logger') === -1 && logReport({ ...errObj, framework: true })\n\n            const errStr = `[ajax-handle-err] url:${url}, msg:${err.message}`\n            console.error(errStr)\n            reject(Error(errStr))\n        }\n    }\n})\n\n/** @desc\n * 前端日志上报到node服务: 框架自动打印的params中会有framework:true参数(axiosAjax, browser/index.js, browser/app.js)，会自动上传localstorage和sessionstorage\n * node端日志打印: 可调用/server/app/logger.js, 路由中可调用res.logger\n * @params {params} {level, message, ...其它信息}\n * @method logReport(params)\n **/\nlet logArr = []\nlet logPreTime = new Date().getTime() // 1秒内logArr中不存在的errObj才上报。同一页面同一信息1秒内不再上报\nexport const logReport = (params) => {\n    if (typeof window === 'undefined') return\n\n    try {\n        const logCurTime = new Date().getTime()\n        const logAjax = () => {\n            const logObj = {}\n            if (window.localStorage && params.framework) {\n                const localTmp = {}\n                Object.keys(window.localStorage).map(function (key, index) {\n                    if (key.indexOf('Hm_lvt_') === -1 && key.indexOf('Hm_lpvt_') === -1 && key.indexOf('m_unsent_') === -1) { // 在此排除不需要的信息\n                        localTmp[key] = localStorage.getItem(key)\n                    }\n                })\n                logObj.localStorage = JSON.stringify(localTmp)\n            }\n\n            if (window.sessionStorage && params.framework) {\n                const localTmp = {}\n                Object.keys(window.sessionStorage).map(function (key, index) {\n                    if (key.indexOf('Hm_lvt_') === -1 && key.indexOf('Hm_lpvt_') === -1 && key.indexOf('m_unsent_') === -1) { // 在此排除不需要的信息\n                        localTmp[key] = sessionStorage.getItem(key)\n                    }\n                })\n                logObj.sessionStorage = JSON.stringify(localTmp)\n            }\n\n            const paramsObj = { ...params, ...logObj }\n            if ((paramsObj.url && paramsObj.url.indexOf('/logger') === -1) || !paramsObj.url) {\n                axiosAjax({\n                    type: 'post',\n                    url: '/logger',\n                    noLoading: true,\n                    host: `${window.location.protocol}//${window.location.host}`,\n                    params: paramsObj\n                }).catch(function (err) {\n                    console.log(err)\n                })\n            }\n        }\n\n        if (logCurTime - logPreTime >= 1000 && logArr.length !== 0) {\n            logArr = []\n            logArr.push(params)\n            logPreTime = logCurTime\n            logAjax()\n        } else {\n            const hasParams = () => {\n                for (let val of logArr) {\n                    if (deepCompare(val, params)) {\n                        return true\n                    }\n                }\n                return false\n            }\n            if (logArr.length !== 0 && hasParams()) return\n            logArr.push(params)\n            logAjax()\n        }\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n/**\n * @desc websocket连接\n * @params {args} args = {\n *    host 如果不是默认域名添加此参数,\n *    url 接口路由,\n *    params 发送的参数,\n *    binaryType 指定接收数据类型: blob,arraybuffer，\n *    https true支持https传此参数，\n *    success 连接成功，返回event,\n *    message 接收消息，返回event,\n *    close 连接关闭时，返回此event,\n *    error 连接错误，返回此event,\n * }\n * @returns {ws} ws: 此websocket对象，用于后续其它操作。\n * ws.message(callback)\n * ws.message(function (event) {\n            console.log(event)\n   })\n * ws.send()\n * ws.close()\n * ws.bufferedAmount 0发送完毕，else发送中\n * ws.readyState CONNECTING：值为0，表示正在连接。OPEN：值为1，表示连接成功，可以通信了。CLOSING：值为2，表示连接正在关闭。CLOSED：值为3，表示连接已经关闭，或者打开连接失败。\n * @method websocket(args)\n * */\nexport const websocket = (args) => new Promise(function (resolve, reject) {\n    let messageEventProxy = {}\n    try {\n        const { host, url, params, binaryType, https, success, message, close, error } = args\n\n        const wssUrl = `${(https || process.env.NODE_ENV === 'production') ? 'wss' : 'ws'}://${(host || (apiHost.indexOf('http') > -1 ? apiHost.split('://')[1] : apiHost)) + (url || '')}`\n\n        let ws\n        let lockReconnect = false // 避免重复连接\n        if (window.WebSocket || window.MozWebSocket) {\n            // onopen, onmessage心跳检测\n            const heartCheck = {\n                timeout: 25000,\n                timeoutObj: null,\n                serverTimeoutObj: null,\n                reset: function () {\n                    clearTimeout(this.timeoutObj)\n                    clearTimeout(this.serverTimeoutObj)\n                    return this\n                },\n                start: function () {\n                    const This = this\n                    this.timeoutObj = setTimeout(function () {\n                        ws.send('ping')\n                        // 如果再timeout时间内没有重置，认为后端主动断开连接，则进行重连\n                        This.serverTimeoutObj = setTimeout(function () {\n                            // onclose会执行reconnect，执行ws.close()就行了\n                            // 如果直接执行reconnect 会触发onclose导致重连两次\n                            ws.close()\n                        }, This.timeout)\n                    }, this.timeout)\n                }\n            }\n\n            // onerror, onclose时重新连接\n            const reconnect = () => {\n                if (lockReconnect) return\n                lockReconnect = true\n                setTimeout(function () {\n                    createWebSocket()\n                    lockReconnect = false\n                }, 2000)\n            }\n\n            const createWebSocket = () => {\n                const BrowserWebSocket = window.WebSocket || window.MozWebSocket\n                // ws = new BrowserWebSocket(wssUrl, 'protocol')\n                ws = new BrowserWebSocket(wssUrl)\n                if (binaryType) ws.binaryType = binaryType\n\n                /** @desc 自定义message事件\n                 * 增加代理当onmessage返回消息时，触发自定义事件message的参数callback执行\n                 * 由于会多次调用message，为了保证proxy唯一性，uuid生成eventProxyKey，监听并执行\n                 * 若直接改变messageEventProxy，则后边调用message会覆盖上次调用的值，则监听无效\n                 *\n                 * 思路:\n                 * 1,创建messageEventProxy对象，保存要被监听的自定义message对象\n                 * 2,定义message方法参数，回调函数callback\n                 * 3,方法内定义proxy代理，监听uuid生成唯一key值eventProxyKey值更新时，执行callback函数\n                 */\n                ws.message = (callback) => {\n                    const eventProxyKey = uuid()\n                    messageEventProxy[eventProxyKey] = new Proxy({ event: null }, {\n                        set: function (target, propKey, value, receiver) {\n                            target[propKey] = value\n\n                            callback(value)\n                            return receiver\n                        }\n                    })\n                }\n\n                ws.onopen = (event) => {\n                    heartCheck.reset().start()\n                    ws.send(JSON.stringify({\n                        action: 'auth'\n                    }))\n                    if (params) ws.send(JSON.stringify(params))\n                    if (success) success(event)\n\n                    resolve(ws)\n                }\n\n                ws.onmessage = (event) => {\n                    heartCheck.reset().start()\n                    if (event.data === 'pong') return\n                    if (message) message(event)\n                    for (const key in messageEventProxy) {\n                        messageEventProxy[key].event = event\n                    }\n                }\n                ws.onclose = (event) => {\n                    reconnect()\n                    if (close) close(event)\n                }\n                ws.onerror = (err) => {\n                    reconnect()\n                    if (error) error(err)\n                }\n\n                // 页面关闭或刷新前关闭ws连接\n                window.onbeforeunload = () => {\n                    ws.close()\n                }\n            }\n\n            createWebSocket()\n        } else {\n            const tips = '当前浏览器不支持WebSocket'\n            console.error(tips)\n            reject(new Error(tips))\n        }\n    } catch (err) {\n        console.error(err)\n        reject(err)\n    }\n})\n\n/**\n * @desc 非异步打开新窗口\n * @Params {url}\n * @method openNewWindow(url)\n */\nexport const openNewWindow = (url, blank) => {\n    document.body.insertAdjacentHTML('beforeend', `<a href=\"${url}\" target=\"${!blank ? '_blank' : ''}\" id=\"openWin\"> </a>`)\n    document.getElementById('openWin').click()\n\n    const $openWin = document.getElementById('openWin')\n    $openWin.parentNode.removeChild($openWin)\n}\n\n/**\n * @desc 获取浏览器用户代理字符串（服务端/浏览器端）\n * @returns {userAgent}\n * @Params {req} req 用户请求数据\n * @method uerserAgent(req)\n */\nexport const uerserAgent = (req) => {\n    return req ? (req.headers['user-agent'] || '') : window.navigator.userAgent\n}\n\n/**\n * @desc 判断是否是PC（服务端/浏览器端）\n * @returns {Boolean}\n * @Params {req} req服务端需要\n * @method isPc(req)\n */\nexport const isPc = (req) => {\n    const userAgent = uerserAgent(req).toLowerCase()\n\n    const Agents = ['android', 'iphone', 'ipod', 'windows phone']\n    let flag = true\n    for (let i = 0; i < Agents.length; i++) {\n        if (userAgent.indexOf(Agents[i]) > -1) {\n            flag = false\n            break\n        }\n    }\n    return flag\n}\n\n/**\n * @desc 判断是否是iOS（服务端/浏览器端）\n * @returns {Boolean}\n * @Params {req} req服务端需要\n * @method isIos(req)\n */\nexport const isIos = (req) => {\n    const userAgent = uerserAgent(req).toLowerCase()\n    return (userAgent.indexOf('iphone') > -1 || userAgent.indexOf('ipad') > -1) || false\n}\n\n/**\n * @desc 判断是否是iphonex\n * @returns {Boolean}\n * @method isIphoneX()\n */\nexport const isIphoneX = () => /iphone/gi.test(navigator.userAgent) && (screen.height === 812 && screen.width === 375)\n\n/**\n * @desc 判断是否是Android（服务端/浏览器端）\n * @returns {Boolean}\n * @Params {req} req服务端需要\n * @method isAndroid(req)\n */\nexport const isAndroid = (req) => {\n    const userAgent = uerserAgent(req).toLowerCase()\n    return userAgent.indexOf('android') > -1 || false\n}\n\n/**\n * @desc 判断是否是微信/Wechat（服务端/浏览器端）\n * @returns {Boolean}\n * @Params {req} req服务端需要\n * @method isWechat(req)\n */\nexport const isWechat = (req) => {\n    const userAgent = uerserAgent(req).toLowerCase()\n    return userAgent.indexOf('micromessenger') > -1 || false\n}\n\n/**\n * @desc 判断是否是火星财经App\n * @returns {Boolean}\n * @Params {req} req服务端需要\n * @method isHxApp(req)\n */\nexport const isHxApp = (req) => {\n    const userAgent = uerserAgent(req).toLowerCase()\n    return userAgent.indexOf('marsbit') > -1 || false\n}\n\n/**\n * @desc 判断是否为正确的密码规则: 密码长度6~16位，且同时包含字母和数字\n * @returns {boolean}\n * @Params {password} string\n * @method isPsd(password)\n */\nexport const isPsd = (password) => {\n    const reg = /^(?!([a-zA-Z]+|\\d+)$)[a-zA-Z\\d]{6,16}$/\n    return reg.test(password) || false\n}\n\n/**\n * @desc 判断是否是符合规则邮箱地址\n * @returns {Boolean}\n * @Params {email}\n * @method isEmail(email)\n */\nexport const isEmail = (email) => {\n    const myreg = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/\n    return myreg.test(email) || false\n}\n\n/**\n * @desc 判断是否是正确的手机号\n * @returns {Boolean}\n * @Params {phoneNumber}\n * @method isPhone()\n */\nexport const isPhone = (phoneNumber) => {\n    // const myreg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/\n    const myreg = /^[0-9]*$/\n    return myreg.test(phoneNumber) || false\n}\n\n/**\n * @desc 判断是否为数字\n * @returns {boolean}\n * @Params {string} string\n * @method isNum(string)\n */\nexport const isNum = (string) => {\n    const reg = /^[0-9]+.?[0-9]*$/\n    return reg.test(string)\n}\n\n/**\n * @desc 判断是否为object\n * @Params {obj}\n * @returns {boolean}\n * @method isObject(obj)\n */\nexport const isObject = (obj) => {\n    return (obj && typeof obj === 'object' && !Array.isArray(obj))\n}\n\n/**\n * @desc 判断Json字符串是否为正确的Json格式\n * @returns {boolean}\n * @Params {obj}\n * @method isJson(obj)\n */\nexport const isJson = (obj) => {\n    if (typeof obj === 'string') {\n        try {\n            const objFormat = JSON.parse(obj)\n            return typeof objFormat === 'object' && objFormat\n        } catch (e) {\n            return false\n        }\n    } else {\n        return Object.prototype.toString.call(obj) === '[object Object]'\n    }\n}\n\n/**\n * @desc 判断是否为数组\n * @returns {boolean}\n * @Params {arr}\n * @method isArray(arr)\n */\nexport const isArray = (arr) => {\n    if (typeof Array.isArray === 'function') {\n        return Array.isArray(arr)\n    } else {\n        return Object.prototype.toString.call(arr) === '[object Array]'\n    }\n}\n\n/**\n * @desc 判断是否为ArrayBuffer\n * @returns {boolean}\n * @Params {buffer}\n * @method isArrayBuffer(buffer)\n */\nexport const isArrayBuffer = (buffer) => {\n    return Object.prototype.toString.call(buffer) === '[object ArrayBuffer]'\n}\n\n/**\n * @desc 格式化时间，将 Date 转化为指定格式的String\n * 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，\n * 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\n * @returns {string}\n * @Params {date, fmt}\n * @method formatTime(time, \"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423\n *         formatTime(time, \"yyyy.M.d h:m:s.S\")      ==> 2006.7.2 8:9:4.18\n */\nexport const formatTime = (date, fmt) => {\n    const This = new Date(date)\n    const o = {\n        'M+': This.getMonth() + 1, // 月份\n        'd+': This.getDate(), // 日\n        'h+': This.getHours(), // 小时\n        'm+': This.getMinutes(), // 分\n        's+': This.getSeconds(), // 秒\n        'q+': Math.floor((This.getMonth() + 3) / 3), // 季度\n        'S': This.getMilliseconds() // 毫秒\n    }\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (This.getFullYear() + '').substr(4 - RegExp.$1.length))\n    }\n    for (let k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) {\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\n        }\n    }\n    return fmt\n}\n\n/**\n * @desc 格式化时间: 小于1分钟-刚刚, 小于1小时-多少分钟前, 小于1天-多少小时前, 其它-年/月/日\n * @returns {string}\n * @Params {publishTime, requestTime, mode} publishTime当前时间, requestTime服务器时间, mode参考formatTime格式{hour, day, year}\n * @method formatPublishTime(publishTime, requestTime, mode)\n */\nexport const formatPublishTime = (publishTime, requestTime, mode) => {\n    let hourMode = 'hh:mm'\n    let dayMode = 'MM月dd日 hh:mm'\n    let yearMode = 'yyyy-MM-dd hh:mm'\n    if (mode) {\n        if (mode.hour) hourMode = mode.hour\n        if (mode.day) dayMode = mode.day\n        if (mode.year) yearMode = mode.year\n    }\n    requestTime = !requestTime ? new Date().getTime() : requestTime\n    const limit = parseInt((requestTime - publishTime)) / 1000\n    if (limit < 60) {\n        return '刚刚'\n    } else if (limit >= 60 && limit < 3600) {\n        return Math.floor(limit / 60) + '分钟前'\n    } else if (limit >= 3600 && limit < 86400) {\n        return Math.floor(limit / 3600) + '小时前'\n    } else {\n        const timeFormat = isThisYear(publishTime, requestTime) ? (isToday(publishTime, requestTime) ? hourMode : dayMode) : yearMode\n        return formatTime(publishTime, timeFormat)\n    }\n}\n\n/**\n * @desc 快讯时间格式化\n * @params {createdTime, serverTime, mode} createdTime当前时间, serverTime服务器时间, mode参考formatTime格式{hour, day, year}\n * @return {timeString}\n */\nexport const flashTime = (createdTime, serverTime, mode) => {\n    let hourMode = 'hh:mm'\n    let dayMode = 'MM月dd日 hh:mm'\n    let yearMode = 'yyyy-MM-dd hh:mm'\n    if (mode) {\n        if (mode.hour) hourMode = mode.hour\n        if (mode.day) dayMode = mode.day\n        if (mode.year) yearMode = mode.year\n    }\n    const timeFormat = isThisYear(createdTime, serverTime) ? (isToday(createdTime, serverTime) ? hourMode : dayMode) : yearMode\n    return formatTime(createdTime, timeFormat)\n}\n\n/**\n * @desc 判断是否为今日\n * @returns {boolean}\n * @Params {timestamp}\n * @method isToday(timestamp)\n */\nexport const isToday = (date, serverTime) => {\n    return new Date(date).toDateString() === (serverTime ? new Date(serverTime).toDateString() : new Date().toDateString())\n}\n\n/**\n * @desc 判断是否为今年\n * @returns {boolean}\n * @Params {timestamp}\n * @method isThisYear(timestamp)\n */\nexport const isThisYear = (date, serverTime) => {\n    return new Date(date).getFullYear() === (serverTime ? new Date().getFullYear() : new Date().getFullYear())\n}\n\n/**\n * @desc 图片转blob\n * @returns {blob}\n * @Params {dataurl}\n * @method dataURLtoBlob(dataurl)\n */\nexport const dataURLtoBlob = (dataurl) => {\n    let arr = dataurl.split(',')\n    let mime = arr[0].match(/:(.*?);/)[1]\n    let bstr = atob(arr[1])\n    let n = bstr.length\n    let u8arr = new Uint8Array(n)\n    while (n--) {\n        u8arr[n] = bstr.charCodeAt(n)\n    }\n    return new Blob([u8arr], { type: mime })\n}\n\n/**\n * @desc 数组根据数组对象中的某个属性值进行排序的方法\n * @param {filed, rev, primer} 排序的属性-如number属性, rev: true表示升序排列false降序排序\n * @method myArray.sort(sortBy('number', false, parseFloat)) 表示根据number属性降序排列\n * */\nexport const sortBy = (filed, rev, primer) => {\n    rev = rev ? 1 : -1\n    return function (a, b) {\n        a = a[filed]\n        b = b[filed]\n        if (typeof (primer) !== 'undefined') {\n            a = primer(a)\n            b = primer(b)\n        }\n        if (a < b) {\n            return rev * -1\n        }\n        if (a > b) {\n            return rev * 1\n        }\n        return 1\n    }\n}\n\n/**\n * @desc 数字三位数分割法\n * @param number\n * @returns {string}\n */\nexport const formatNum = (number) => { // 数字每3位用逗号分隔\n    if (!number) return number\n    const n = Math.abs(number)\n    let reg = /\\.\\d+/\n    let num = (n || 0).toString()\n    let temp = reg.exec(num)\n    // 获取小数部分，不存在小数则获取空字符串\n    let decimal = temp && temp[0] ? temp[0] : ''\n    // 获取小数点位置，不存在小数位置则获取字符串长度\n    let decimalPointIndex = temp && temp.index ? temp.index : num.length\n    // 获取整数部分\n    let integerNum = num.slice(0, decimalPointIndex)\n    let result = ''\n    // 逗号分隔操作\n    while (integerNum.length > 3) {\n        result = ',' + integerNum.slice(-3) + result\n        integerNum = integerNum.slice(0, integerNum.length - 3)\n    }\n    // 不足3位直接加到最前面\n    if (integerNum) {\n        result = integerNum + result\n    }\n    // 最后面加上小数部分\n    result = result + decimal\n    return number !== 0 ? (number > 0 ? result : `-${result}`) : 0\n}\n\n/**\n * @desc 格式化价格\n * @returns {number}\n * @Params {priceNum, normal(normal\\comma)是否常规显示:可省略默认分割显示}\n * @method formatPrice(priceNum)\n */\nexport const formatPrice = (priceNum, normal) => {\n    if (!priceNum) return 0\n\n    let price = Math.abs(Number(priceNum))\n    if (Object.is(price, NaN)) return 0\n\n    // js科学计数情况:1,,小于1且小数点后面带有6个0以上的浮点数值0.00000033=>3.3e-7; 2,整数位数字多于21位1234567890123456789012=>1.2345678901234568e+21\n    if (price < 0.00000001) {\n        return priceNum > 0 ? `<0.00000001` : `>-0.00000001`\n    } else if (price >= 0.00000001 && price < 10000000) {\n        if (price < 0.000001 && price >= 0.00000001) {\n            price = price.toFixed(8)\n        } else if (price < 0.1 && price >= 0.000001) {\n            price = price.toPrecision(4)\n        } else if (price >= 0.1 && price < 100) {\n            price = price.toFixed(4)\n        } else if (price >= 100 && price < 10000000) {\n            price = price.toFixed(2)\n        }\n\n        price = priceNum > 0 ? price : -price\n        return normal === 'normal' ? price : formatNum(price)\n    } else if (price >= 10000000) {\n        const decimalNum = `${price}`.length - 1\n        return `${price / Math.pow(10, decimalNum).toFixed(2)}e${priceNum > 0 ? decimalNum : -decimalNum}`\n    }\n}\n\n/**\n * @desc 格式化交易量、市值、成交额\n * @returns {string}\n * @Params {totalNum, normal(normal\\comma)是否常规显示:可省略默认分割显示}\n * @method formatTotal(totalNum)\n */\nexport const formatTotal = (totalNum, normal) => {\n    if (!totalNum) return 0\n\n    const w = 100000 // 十万\n    const y = 100000000 // 亿\n    let total = Math.abs(Number(totalNum))\n    if (Object.is(total, NaN)) return 0\n\n    const numArr = `${total}`.split('.')\n    const decimal = numArr.length > 1 ? parseInt(numArr[1].substring(0, 4)) : 0\n    if (total < 0.01) {\n        return totalNum > 0 ? `<0.01` : `>-0.01`\n    } else {\n        if (total >= 0.01 && total < 100000) {\n            total = normal === 'normal' ? total.toFixed(2) : formatNum(total.toFixed(2))\n        } else if (total >= w && total < y) {\n            const cur = (total / w * 10).toFixed(decimal > 0 ? 2 : 0)\n            total = normal === 'normal' ? `${cur}万` : `${formatNum(cur)}万`\n        } else if (total >= y) {\n            const cur = (total / y).toFixed(decimal > 0 ? 2 : 0)\n            total = normal === 'normal' ? `${cur}亿` : `${formatNum(cur)}亿`\n        }\n        return totalNum > 0 ? total : `-${total}`\n    }\n}\n\n/**\n * @desc 格式化百分比:除K线部分\n * @returns {string}\n * @Params {percentNum}\n * @method formatPercent(percentNum)\n */\nexport const formatPercent = (percentNum) => {\n    if (!percentNum) return `0%`\n    let percent = Math.abs(Number(percentNum))\n    if (Object.is(percent, NaN)) return `0%`\n\n    const cur = percent * 100\n    if (cur < 0.01) {\n        percent = `0.00`\n    } else if (cur >= 0.01 && cur < 1000) {\n        percent = parseFloat(cur.toFixed(2))\n    } else if (cur >= 1000) {\n        percent = parseFloat(cur.toFixed(1))\n    }\n\n    return percentNum > 0 ? `${percent}%` : `-${percent}%`\n}\n\n/**\n * @desc 格式化绝对值:适用于币种详情页，币种涨跌绝对值\n * @returns {number}\n * @Params {absoluteNum}\n * @method formatAbsolute(absoluteNum)\n */\nexport const formatAbsolute = (absoluteNum) => {\n    if (!absoluteNum) return 0\n    let absolute = Math.abs(Number(absoluteNum))\n    if (Object.is(absolute, NaN)) return 0\n\n    if (absolute < 10000000) {\n        if (absolute < 0.1) {\n            absolute = absolute.toPrecision(4)\n        } else if (absolute >= 0.1 && absolute < 100) {\n            absolute = absolute.toFixed(4)\n        } else if (absolute >= 100 && absolute < 10000000) {\n            absolute = absolute.toFixed(2)\n        }\n        return absoluteNum > 0 ? absolute : -absolute\n    } else {\n        const decimalNum = `${absolute}`.length - 1\n        return `${absolute / Math.pow(10, decimalNum).toFixed(2)}e${absoluteNum > 0 ? decimalNum : -decimalNum}`\n    }\n}\n\n/**\n * @desc js除法，避免任何数字除以0为Infinity\n * @returns {number}\n * @Params {divisor, dividend} divisor除数, dividend被除数\n * @method numDivision(divisor, dividend)\n */\nexport const numDivision = (divisor, dividend) => {\n    if (!dividend) return dividend\n    return dividend === 0 ? 0 : divisor / dividend\n}\n\n/**\n * @desc 去除字符串两边空格\n * @returns {string}\n * @Params {string} string\n * @method trim(string)\n */\nexport const trim = (string) => {\n    return string.replace(/(^\\s*)|(\\s*$)/g, '')\n}\n\n/**\n * @desc 获取地址栏参数\n * @returns {value}\n * @Params {key}\n * @method queryParam(key)\n */\nexport const queryParam = (key) => {\n    let reg = new RegExp('(^|&)' + key + '=([^&]*)(&|$)')\n    let result = window.location.search.substr(1).match(reg)\n    return result ? decodeURIComponent(result[2]) : null\n}\n\n/**\n * @desc 自定义属性继承，去除route相关：history、location、match、staticContext、route、 dispatch\n * @returns {props}\n * @Params {props}\n * @method propsInherit(props)\n */\nexport const propsInherit = (props) => {\n    const newsProps = {}\n    for (let key in props) {\n        if (key !== 'history' && key !== 'location' && key !== 'match' && key !== 'staticContext' && key !== 'route' && key !== 'dispatch') {\n            newsProps[key] = props[key]\n        }\n    }\n\n    return newsProps\n}\n\n/**\n * @desc 把字符类数组转为数组\n * @returns {array} 数组\n * @Params {arrayString} 字符串类的数组\n * @method stringArray(arrayString)\n */\nexport const stringArray = (arrayString) => {\n    // 判断是否为json或数组字符串，再转换后判断是否为数组\n    return isJson(arrayString) ? (isArray(JSON.parse(arrayString)) ? JSON.parse(arrayString) : []) : []\n}\n\n/**\n * @desc 获取字符类json数据某key的值\n * @returns {string} key的值\n * @Params {jsonString, key, defaultVal} jsonString字符类的json, key, defaultVal默认值\n * @method coverPcItemVal(jsonString, key, defaultVal)\n */\nexport const stringJsonItem = (jsonString, key, defaultVal) => {\n    const initVal = defaultVal || ''\n    // 判断是否为json，再转换后判断是否有pc这个属性\n    return isJson(jsonString) ? (JSON.parse(jsonString)[key] || initVal) : initVal\n}\n\n/**\n * @desc 滚动条的滚动位置\n * @returns {top,  left}\n * @method scrollOffset()\n */\nexport const scrollOffset = () => {\n    if (window.pageXOffset) {\n        return {\n            left: window.pageXOffset,\n            top: window.pageYOffset\n        }\n    } else {\n        const el = document.scrollingElement || document.documentElement\n        return {\n            left: el.scrollLeft,\n            top: el.scrollTop\n        }\n    }\n}\n\n/**\n * @desc 可视区域高宽\n * @returns {width,  height}\n * @method windowOffset()\n */\nexport const windowOffset = () => {\n    if (window.innerHeight) {\n        return {\n            width: window.innerWidth,\n            height: window.innerHeight\n        }\n    } else {\n        if (document.compatMode === 1) {\n            return {\n                width: document.documentElement.clientWidth,\n                height: document.documentElement.clientHeght\n            }\n        } else {\n            return {\n                width: document.body.clientWidth,\n                height: document.body.clientHeght\n            }\n        }\n    }\n}\n\n/**\n * @desc 获取元素相对于文档的绝对位置和高宽/getBoundingClientRect元素相对于可视区域的位置与高宽\n * @returns {top,  left}\n * @method elementOffset()\n */\nexport const elementOffset = (ele) => {\n    return {\n        top: ele.getBoundingClientRect().top + scrollOffset().top,\n        left: ele.getBoundingClientRect().left + scrollOffset().left,\n        bottom: ele.getBoundingClientRect().bottom + scrollOffset().top,\n        right: ele.getBoundingClientRect().right + scrollOffset().left,\n        height: ele.getBoundingClientRect().height,\n        width: ele.getBoundingClientRect().width\n    }\n}\n\n/**\n * @desc 获取鼠标相对于文档的坐标/离可视区域的用clientX+clientY\n * @returns {top,  left}\n * @method mouseOffset()\n */\nexport const mouseOffset = (event) => {\n    const e = event || window.event\n    const scrollX = document.documentElement.scrollLeft || document.body.scrollLeft\n    const scrollY = document.documentElement.scrollTop || document.body.scrollTop\n    return {\n        x: e.pageX || e.clientX + scrollX,\n        y: e.pageY || e.clientY + scrollY\n    }\n}\n\n/**\n * @desc window滚动，可判断滚动方向：上下\n * @method windowScroll(function(res){\n * res === 'down' / 'up'\n * })\n */\nexport const windowScroll = (callback) => {\n    let beforeScrollTop = scrollOffset().top\n\n    const scrollFunc = () => {\n        const afterScrollTop = scrollOffset().top\n        const delta = afterScrollTop - beforeScrollTop\n        if (delta === 0) return false\n        callback.call(this, delta > 0 ? 'down' : 'up')\n        beforeScrollTop = afterScrollTop\n    }\n    window.addEventListener('scroll', scrollFunc, false)\n\n    return scrollFunc\n}\n\n/**\n * @desc 动画函数: 暂未实现贝塞尔, 恒定速度。不传time则直接系统默认动画\n * @params {from, to, speed, callback}\n * @method animation()\n */\nexport const animation = (params) => {\n    const { from, to, time, callback } = params\n\n    if (typeof from === 'undefined') throw Error('from is required')\n    if (typeof to === 'undefined') throw Error('to is required')\n    if (!callback) throw Error('callback is required')\n\n    const startNum = parseFloat(from)\n    const endNum = parseFloat(to)\n    const totalTime = parseFloat(time)\n    let currentVal = startNum\n\n    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame\n\n    function getReqCallback () {\n        // let count = 0 // 记录总共运行次数\n        let start = null // 标识是否第一次调用，首次复制给lastTimestamp\n        let lastTimestamp = null // 记录每次调用时间\n        let delta = 0 // 相邻调用相隔时间\n        return function req (timestamp) {\n            if (time !== 0 && !time) { // 此逻辑是为了如果不传time，则系统自动动画。添加贝塞尔和恒定速度功能之后，此逻辑可删除\n                const residueDistance = Math.abs(currentVal - endNum)\n                const calNum = (residueDistance > 1 && currentVal / 8 > 1) ? (residueDistance < currentVal / 8 ? residueDistance : currentVal / 8) : 1\n\n                const recursionFunc = () => {\n                    callback.call(this, currentVal)\n                    if (currentVal === endNum || currentVal < 1) return false\n                    requestAnimationFrame(req)\n                }\n                if (startNum > endNum) {\n                    currentVal = currentVal - calNum\n                    if (currentVal >= endNum) {\n                        recursionFunc()\n                    }\n                }\n                if (startNum < endNum) {\n                    currentVal = currentVal + calNum\n                    if (currentVal <= endNum) {\n                        recursionFunc()\n                    }\n                }\n            } else {\n                // 获取每次调用时间间隔\n                if (start === null) {\n                    start = timestamp\n                    lastTimestamp = timestamp\n                }\n                delta = timestamp - lastTimestamp\n                // count ++\n\n                // @desc 计算每次帧刷新偏移量\n                // 以秒s为计算单位\n                // 速度speed = 里程totalDistance / 时间totalTime\n                // 帧率fps = 1000 / delta:requestAnimationFrame调用时间间隔\n                // 每次帧刷新变化数量everyTimeDistance: 速度/帧率\n                const totalDistance = Math.abs(startNum - endNum)\n                const speed = totalTime !== 0 ? totalDistance / totalTime * 1000 : 0\n                const fps = delta !== 0 ? 1000 / delta : 0\n                const everyTimeDistance = (fps !== 0 && speed !== 0) ? speed / fps : 0\n\n                // 是否为第一次调用，不是则判断剩余可偏移值是否大于everyTimeDistance(大于则取everyTimeDistance否则取剩余值)，是则用everyTimeDistance\n                const distance = Math.abs(currentVal - endNum) > everyTimeDistance ? everyTimeDistance : Math.abs(currentVal - endNum)\n\n                // js中任何数除以0 都是 Infinity\n                if (totalTime < delta) {\n                    currentVal = endNum\n                    callback.call(this, currentVal)\n                    return\n                }\n\n                // 递归调用\n                const recursionFunc = () => {\n                    callback.call(this, currentVal)\n                    if (currentVal === endNum) return false\n                    lastTimestamp = timestamp\n                    requestAnimationFrame(req)\n                }\n\n                // 开始数字>结束数字\n                if (startNum > endNum) {\n                    currentVal = currentVal - distance\n                    if (currentVal >= endNum) {\n                        recursionFunc()\n                    }\n                }\n\n                // 开始数字<结束数字\n                if (startNum < endNum) {\n                    currentVal = currentVal + distance\n                    if (currentVal <= endNum) {\n                        recursionFunc()\n                    }\n                }\n            }\n        }\n    }\n\n    requestAnimationFrame(getReqCallback())\n}\n\n/**\n * @desc 到达dom元素位置\n * @params {} args: ($ele, time);\n * 传一个参数若数据类型为string/number则为time，否则为js选择器$ele;\n * 传俩参数($ele, time);\n * 传仨参数($ele, time, { add: -100 }更多的参数放在此对象中传递，add表示在$ele位置加或者减去一定的距离--避免共用头部遮挡等情况)\n * @method arriveAtDom($ele, time)\n * @eg arriveAtDom(document.getElementById('test'), 500, { add: -100 })\n */\nexport const arriveAtDom = (...args) => {\n    let $ele\n    let time\n    let additionalParams = { // 更多的参数放在此对象中传递\n        add: false\n    }\n    if (typeof args[0] === 'string' || typeof args[0] === 'number') {\n        time = args[0]\n    } else {\n        $ele = args[0]\n        time = args[1]\n        if (args[2]) additionalParams = Object.assign(additionalParams, args[2])\n    }\n    animation({\n        from: document.documentElement.scrollTop || document.body.scrollTop,\n        to: $ele ? (additionalParams.add ? elementOffset($ele).top + additionalParams.add : elementOffset($ele).top) : 0,\n        time: time,\n        callback: function (currentVal) {\n            document.documentElement.scrollTop = currentVal\n            document.body.scrollTop = currentVal\n        }\n    })\n}\n\n/**\n * @desc 深度比较object是否相等\n * @params {x, y}\n * @method deepCompare(x, y)\n */\nexport const deepCompare = function (x, y) {\n    let i\n    let l\n    let leftChain\n    let rightChain\n\n    function compare2Objects (x, y) {\n        let p\n\n        // remember that NaN === NaN returns false\n        // and isNaN(undefined) returns true\n        if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') return true\n\n        // Compare primitives and functions.\n        // Check if both arguments link to the same object.\n        // Especially useful on the step where we compare prototypes\n        if (x === y) return true\n\n        // Works in case when functions are created in constructor.\n        // Comparing dates is a common scenario. Another built-ins?\n        // We can even handle functions passed across iframes\n        if ((typeof x === 'function' && typeof y === 'function') ||\n            (x instanceof Date && y instanceof Date) ||\n            (x instanceof RegExp && y instanceof RegExp) ||\n            (x instanceof String && y instanceof String) ||\n            (x instanceof Number && y instanceof Number)) {\n            return x.toString() === y.toString()\n        }\n\n        // At last checking prototypes as good as we can\n        if (!(x instanceof Object && y instanceof Object)) return false\n\n        if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) return false\n\n        if (x.constructor !== y.constructor) return false\n\n        if (x.prototype !== y.prototype) return false\n\n        // Check for infinitive linking loops\n        if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) return false\n\n        // Quick checking of one object being a subset of another.\n        // todo: cache the structure of arguments[0] for performance\n        for (p in y) {\n            if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                return false\n            } else if (typeof y[p] !== typeof x[p]) {\n                return false\n            }\n        }\n\n        for (p in x) {\n            if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                return false\n            } else if (typeof y[p] !== typeof x[p]) {\n                return false\n            }\n            switch (typeof (x[p])) {\n                case 'object':\n                case 'function':\n                    leftChain.push(x)\n                    rightChain.push(y)\n                    if (!compare2Objects(x[p], y[p])) return false\n                    leftChain.pop()\n                    rightChain.pop()\n                    break\n                default:\n                    if (x[p] !== y[p]) return false\n                    break\n            }\n        }\n        return true\n    }\n\n    if (arguments.length < 1) {\n        return true\n        // Die silently? Don't know how to handle such case, please help...\n        // throw \"Need two or more arguments to compare\";\n    }\n    for (i = 1, l = arguments.length; i < l; i++) {\n        leftChain = [] // Todo: this can be cached\n        rightChain = []\n        if (!compare2Objects(arguments[0], arguments[i])) return false\n    }\n    return true\n}\n\n/**\n * @desc 深度合并对象immutable\n * @params {...objects}\n * @return object\n * @method deepMerge(...objects)\n */\nexport const deepMerge = (...objects) => {\n    const isObject = obj => obj && typeof obj === 'object'\n\n    return objects.reduce((prev, obj) => {\n        Object.keys(obj).forEach(key => {\n            const pVal = prev[key]\n            const oVal = obj[key]\n\n            if (Array.isArray(pVal) && Array.isArray(oVal)) {\n                prev[key] = pVal.concat(...oVal)\n            } else if (isObject(pVal) && isObject(oVal)) {\n                prev[key] = deepMerge(pVal, oVal)\n            } else {\n                prev[key] = oVal\n            }\n        })\n\n        return prev\n    }, {})\n}\n\n/**\n * @desc 快讯标题截取\n * @params params = item 后台返回快讯obj\n * @return {title, content}\n */\nexport const flashRecognize = (item) => {\n    let title = ''\n    let content = item.content\n    if (!item.title) {\n        let startIndex = item.content.indexOf('【') === -1 ? 0 : item.content.indexOf('【') + 1\n        let endIndex = item.content.indexOf('】') === -1 ? 0 : item.content.indexOf('】')\n        title = item.content.substring(startIndex, endIndex)\n        content = item.content.substring(endIndex + 1)\n    } else {\n        title = item.title\n        content = item.content\n    }\n\n    return {\n        title,\n        content\n    }\n}\n\n/**\n * @desc 获取数组最大最小值\n * @params {arr}\n * @return {max, min}\n */\nexport const arrayMaxMin = (arr) => {\n    return {\n        max: Math.max.apply(null, arr),\n        min: Math.min.apply(null, arr)\n    }\n}\n\n/**\n * @desc 将科学计数法转换为小数\n * @params {num}\n * @return {num}\n */\nexport const toNonExponential = (num) => {\n    const newNum = Number(num)\n    const m = newNum.toExponential().match(/\\d(?:\\.(\\d*))?e([+-]\\d+)/)\n    return newNum.toFixed(Math.max(0, (m[1] || '').length - m[2]))\n}\n\n/**\n * @desc 字符串截取，一个中文和中文字符占2个字节\n * @params {text, length字节数}\n * @method textOverflow(text, length)\n * */\nexport const textOverflow = (text, length) => {\n    if (text.replace(/[^\\x00-\\xff]/g, 'aa').length <= length) {\n        return text\n    } else {\n        let _length = 0\n        let outputText = ''\n        for (let i = 0; i < text.length; i++) {\n            if (/[^\\x00-\\xff]/.test(text[i])) {\n                _length += 2\n            } else {\n                _length += 1\n            }\n            if (_length > length) {\n                break\n            } else {\n                outputText += text[i]\n            }\n        }\n        return outputText + '...'\n    }\n}\n\n/**\n * @desc 字符串长度\n * @params {text}\n * @method textLength(text)\n * */\nexport const textLength = (text) => text.replace(/[^\\x00-\\xff]/g, 'aa').length\n\n/**\n * @desc 对查询关键字中的特殊字符进行编码\n * @params {key}\n * @method encodeSearchKey(key)\n * */\nexport const encodeSearchKey = (key) => {\n    if (!key) return\n    const encodeArr = [{\n        code: '%',\n        encode: '%25'\n    }, {\n        code: '?',\n        encode: '%3F'\n    }, {\n        code: '#',\n        encode: '%23'\n    }, {\n        code: '&',\n        encode: '%26'\n    }, {\n        code: '=',\n        encode: '%3D'\n    }]\n    return key.replace(/[%?#&=]/g, ($, index, str) => {\n        for (const k of encodeArr) {\n            if (k.code === $) return k.encode\n        }\n    })\n}\n\n/**\n * @desc 生成uuid 全局唯一标识符（GUID，Globally Unique Identifier）也称作 UUID(Universally Unique IDentifier)\n * @method uuid()\n * */\nexport const uuid = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0\n        const v = c === 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n    })\n}\n\n/**\n * @desc 生成uuid，自定义长度与基数\n * @params {len, radix} len长度, radix基数\n * @method uuidDiy(len, radix)\n * @eg\n // 8 character ID (base=2)\n uuid(8, 2) => \"01001010\"\n // 8 character ID (base=10)\n uuid(8, 10) => \"47473046\"\n // 8 character ID (base=16)\n uuid(8, 16) => \"098F4D35\"\n * */\nexport const uuidDiy = (len, radix) => {\n    const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('')\n    let uuid = []\n    let i\n    radix = radix || chars.length\n\n    if (len) {\n        // Compact form\n        for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix]\n    } else {\n        // rfc4122, version 4 form\n        let r\n\n        // rfc4122 requires these characters\n        uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-'\n        uuid[14] = '4'\n\n        // Fill in random data. At i==19 set the high bits of clock sequence as\n        // per rfc4122, sec. 4.1.5\n        for (i = 0; i < 36; i++) {\n            if (!uuid[i]) {\n                r = 0 | Math.random() * 16\n                uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r]\n            }\n        }\n    }\n    return uuid.join('')\n}\n\n/**\n * @desc 跳转到url。注：只能用于前端跳转，添加cdn后后端跳转不起作用\n * @params {url需要跳转到url}\n * @method redirectUrl(url)直接跳转，不管pc还是移动,\n * redirectUrl('mob', url)当mob链接被pc访问时跳转，\n * redirectUrl('pc', url)当pc链接被mob访问时跳转\n */\nexport const redirectUrl = function () {\n    if (typeof window === 'undefined') return\n    if (arguments.length === 1) {\n        window.location.href = arguments[0]\n    } else {\n        if (arguments[0] === 'mob' && isPc()) window.location.href = arguments[1]\n        if (arguments[0] === 'pc' && !isPc()) window.location.href = arguments[1]\n    }\n}\n\n/**\n * @desc 移动计算宽高\n * @Params {Value}\n * @method rem(Value) // Value像素值\n */\nexport const rem = ($pixelValue) => {\n    return ($pixelValue / 24) + 'rem'\n}\n\n/**\n * @desc 设置+获取+删除cookie\n * @Params {Value}\n * @method\n * cookie.set(key, val, {expires, domain})\n * cookie.get(key)\n * cookie.del(key)\n */\nexport const cookie = {\n    set: function (key, val, args) {\n        var date = new Date() // 获取当前时间\n        var expiresDays = args.expires // 将date设置为n天以后的时间\n        date.setTime(date.getTime() + expiresDays * 24 * 3600 * 1000) // 格式化为cookie识别的时间\n        document.cookie = key + '=' + val + ';expires=' + date.toGMTString() + ';domain=' + args.domain // 设置cookie\n    },\n    get: function (key) {\n        /* 获取cookie参数 */\n        var cookies = document.cookie.replace(/[ ]/g, '') // 获取cookie，并且将获得的cookie格式化，去掉空格字符\n        var arrCookie = cookies.split(';') // 将获得的cookie以\"分号\"为标识 将cookie保存到arrCookie的数组中\n        var tips // 声明变量tips\n        for (var i = 0; i < arrCookie.length; i++) { // 使用for循环查找cookie中的tips变量\n            var arr = arrCookie[i].split('=') // 将单条cookie用\"等号\"为标识，将单条cookie保存为arr数组\n            if (key === arr[0]) { // 匹配变量名称，其中arr[0]是指的cookie名称，如果该条变量为tips则执行判断语句中的赋值操作\n                tips = arr[1] // 将cookie的值赋给变量tips\n                break\n            }\n        }\n        return tips\n    },\n    del: function (key) {\n        var date = new Date() // 获取当前时间\n        date.setTime(date.getTime() - 10000) // 将date设置为过去的时间\n        document.cookie = key + '=v; expires =' + date.toGMTString() // 设置cookie\n    }\n}\n\n/**\n * @desc 各个链接域名，以此为出口\n */\nconst nodeEnv = process.env.NODE_ENV\nconst envDev = nodeEnv === 'development'\nconst envTest = nodeEnv === 'test'\nexport const mixUrl = {\n    en: (path) => `http://www.marsfinance.net/${path || ''}`,\n    quanter: (path) => `http://quanter.marsbit.co${path || ''}`,\n    baike: (path) => `http://baike.marsbit.co${path || ''}`,\n    dappspy: (path) => `https://www.dappspy.com${path || ''}`,\n    bbs: (path) => `http://bbs.marsbit.co${path || ''}`,\n    mclouds: (path) => `https://www.mclouds.io${path || ''}`,\n    cococoin: (path) => `https://www.cococoin.com/${path || ''}`,\n    trade: (path) => `https://trade.marsbit.co/${path || ''}`,\n    cq: (path) => `http://www.cryptoquanter.com${path || ''}`,\n    clab: (path) => `http://consensus-lab.com${path || ''}`,\n    mp: (path, req) => {\n        // 2021-11-26 marsbit.co域名备灾临时代码\n        const hostPrd = `https://mp.marsshare.cc`\n        return hostPrd\n    },\n    zt: (path) => `${envDev ? ip(3008) : (envTest ? 'http://zt.marslib.com' : 'https://zt.marsbit.co')}${path || ''}`,\n    m: (path, req) => {\n        let hostPrd = 'https://m.marsshare.cc'\n        // if (req && req.hostname.indexOf('marstelegram') > -1) {\n        //     hostPrd = 'https://m.marstelegram.com'\n        // }\n        // if (req && req.hostname.indexOf('marsbit.cc') > -1) {\n        //     hostPrd = 'https://m.marsbit.cc'\n        // }\n        // if (req && req.hostname.indexOf('marsshare.cc') > -1) {\n        //   hostPrd = 'https://m.marsshare.cc'\n        // }\n        // if (req && req.hostname.indexOf('marsbit.info') > -1) {\n        //   hostPrd = 'https://m.marsbit.info'\n        // }\n        // const hostPrd = req && req.hostname.indexOf('marstelegram') > 1 ? 'https://m.marstelegram.com' : 'https://m.marsbit.co'\n        return `${envDev ? ip(3012) : (envTest ? 'http://m.marslib.com' : hostPrd)}${path || ''}`\n    },\n    main: (path, req) => {\n        // 2021-11-26 marsbit.co域名备灾临时代码\n        let hostPrd = 'https://www.marsshare.cc'\n        // if (req && req.hostname.indexOf('marstelegram') > -1) {\n        //     hostPrd = 'https://www.marstelegram.com'\n        // }\n        // if (req && req.hostname.indexOf('marsbit.cc') > -1) {\n        //     hostPrd = 'https://www.marsbit.cc'\n        // }\n        // if (req && req.hostname.indexOf('marsshare.cc') > -1) {\n        //   hostPrd = 'https://www.marsshare.cc'\n        // }\n        // if (req && req.hostname.indexOf('marsbit.info') > -1) {\n        //   hostPrd = 'https://www.marsbit.info'\n        // }\n        // const hostPrd = req && req.hostname.indexOf('marstelegram') > 1 ? 'https://www.marstelegram.com' : 'https://www.marsbit.co'\n        return `${envDev ? ip(3014) : (envTest ? 'http://www.marslib.com' : hostPrd)}${path || ''}`\n    },\n    news: (path, req) => {\n        // 2021-11-26 marsbit.co域名备灾临时代码\n        let hostPrd = 'https://news.marsshare.cc'\n        // if (req && req.hostname.indexOf('marstelegram') > -1) {\n        //     hostPrd = 'https://news.marstelegram.com'\n        // }\n        // if (req && req.hostname.indexOf('marsbit.cc') > -1) {\n        //     hostPrd = 'https://news.marsbit.cc'\n        // }\n        // if (req && req.hostname.indexOf('marsshare.cc') > -1) {\n        //   hostPrd = 'https://news.marsshare.cc'\n        // }\n        // if (req && req.hostname.indexOf('marsbit.info') > -1) {\n        //   hostPrd = 'https://news.marsbit.info'\n        // }\n        // const hostPrd = req && req.hostname.indexOf('marstelegram') > 1 ? 'https://news.marstelegram.com' : 'https://news.marsbit.co'\n        return `${envDev ? ip(3012) : (envTest ? 'http://news.marslib.com' : hostPrd)}${path || ''}`\n    },\n    token: (path) => `${envDev ? ip(3018) : (envTest ? 'http://token.marslib.com' : 'https://token.marsbit.co')}${path || ''}`\n}\n\n/**\n * @desc 全站默认TDK\n */\nexport const webTdk = {\n    title: 'MarsBit—聚焦全球区块链科技前沿动态',\n    keywords: '区块链,区块链新闻,区块链服务,区块链是什么,区块链媒体,区块链应用,区块链社区,区块链技术,区块链浏览器,区块链招聘,区块链学习,区块链活动,比特币,BTC,比特币价格,BTC价格,POWER,POWER大会,MarsBit',\n    description: 'MarsBit是领先的区块链产业信息服务平台，由资深区块链团队倾力打造，为区块链爱好者提供全球最新的区块链新闻资讯'\n}\n\n/**\n * @desc 火星24存储cookie名称，公用cookie全部存以此为出口。\n */\nexport const cookiesName = {\n    nickName: 'hx24_nickName',\n    passportId: 'hx24_passportId',\n    iconUrl: 'hx24_iconUrl',\n    realAuth: 'hx24_realAuth',\n    faceAuth: 'hx24_faceAuth',\n    intro: 'hx24_intro',\n    token: 'hx24_token',\n    phone: 'hx24_phone',\n    userCookieUuid: 'hx24_userCookieUuid',\n    eventId: 'hx24_eventId',\n    preEventId: 'hx24_preEventId',\n    deviceUuid: 'hx24_deviceUuid',\n    traceId: 'hx24_traceId',\n    deviceId: 'hx24_deviceId',\n    festival: 'hx24_festivalCloseTime',\n    language: 'marsbit_lang'\n}\n\n/**\n * @desc 段落关键字高亮显示\n * @params {content, keyword, color} content段落内容, keyword关键字, color高亮颜色(非必填 默认为红色#e61e1e)\n * @method keyLight(content, keyword)\n * @eg <h1 dangerouslySetInnerHTML={{ __html: keyLight('ababab', 'ba') }}/>\n */\nexport const keyLight = (content, keyword, color) => {\n    let bgColor = color || '#e61e1e'\n    const a = content.toLowerCase()\n    if (isArray(keyword)) {\n        let newContent = content\n        keyword.map((item) => {\n            let regEx = new RegExp(item, 'gi')\n            if (regEx.test(newContent)) {\n                newContent = newContent.replace(regEx, '<span style=\"color:' + bgColor + '\">$&</span>')\n            }\n        })\n        return newContent\n    } else {\n        const b = keyword.toLowerCase()\n        const indexof = a.indexOf(b)\n        const c = indexof > -1 ? content.substr(indexof, keyword.length) : ''\n        let sKey = `<span style='color: ${bgColor}'>${c}</span>`\n        let regEx = new RegExp(keyword, 'gi')\n        return content.replace(regEx, sKey)\n    }\n}\n\n/**\n * @desc 美元单位换算\n * @params {number} 数值\n */\nexport const getUnit = (number) => {\n    let str = ''\n    if (number !== '') {\n        let num = Number(number)\n        if (num >= 1000000000) {\n            str = '$ ' + (num / 1000000000).toFixed(2) + 'B'\n        } else if (num >= 1000000) {\n            str = '$ ' + (num / 1000000).toFixed(2) + 'M'\n        } else if (num >= 1000) {\n            str = '$ ' + (num / 1000000).toFixed(2) + 'K'\n        } else if (num < 0) {\n            str = '— —'\n        } else {\n            str = '$ ' + (num).toFixed(2)\n        }\n    } else {\n        str = ''\n    }\n\n    return str\n}\n\n/**\n * @desc 数字格式化 (3位加一个逗号 eg:   333,333,333)\n * @returns {string}\n */\nexport const addComma = (num) => {\n    let number = (num || 0).toString()\n    let result = ''\n    while (number.length > 3) {\n        result = ',' + number.slice(-3) + result\n        number = number.slice(0, number.length - 3)\n    }\n    if (number) {\n        result = number + result\n    }\n    return result\n}\n\n/**\n * @desc 替换文本中的链接文字为超链接\n * @returns {html}\n */\nexport const urlToLink = (str) => {\n    var re = /(http:\\/\\/|https:\\/\\/)((\\w|=|\\?|\\.|\\/|&|-)+)/g\n    str = str.replace(re, function (website) {\n        return \"<a href='\" + website + \"' target='_blank'>\" + website + '</a>'\n    })\n    return str\n}\n\n/** @desc 获取文件扩展名 */\nexport const fileExtension = (fileUrl) => {\n    const singfileArray = fileUrl.split('.')\n    return singfileArray[singfileArray.length - 1]\n}\n\n/**\n * @desc 是否支持自动播放\n * @returns {string}\n */\nexport const isAutoplaySupported = (callback) => {\n    // Is the callback a function?\n\n    if (callback && typeof callback !== 'function') {\n        console.log('isAutoplaySupported: Callback must be a function!')\n        return false\n    }\n    // Check if sessionStorage exist for autoplaySupported,\n    // if so we don't need to check for support again\n    if (!sessionStorage.autoplaySupported) {\n        // Create video element to test autoplay\n        var video = document.createElement('video')\n        video.autoplay = true\n        video.src = 'data:video/mp4;base64,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'\n        video.load()\n        video.style.display = 'none'\n        video.playing = false\n        video.play()\n        // Check if video plays\n        video.onplay = function () {\n            this.playing = true\n        }\n        // Video has loaded, check autoplay support\n        video.oncanplay = function () {\n            let res = true\n            if (video.playing) {\n                sessionStorage.autoplaySupported = 'true'\n                res = true\n            } else {\n                sessionStorage.autoplaySupported = 'false'\n                res = false\n            }\n            if (callback) callback(res)\n        }\n    } else {\n        // We've already tested for support\n        // use sessionStorage.autoplaySupported\n        let res = true\n        if (sessionStorage.autoplaySupported === 'true') {\n            res = true\n        } else {\n            res = false\n        }\n        if (callback) callback(res)\n    }\n}\n\n/**\n * @desc 复制文字内容到粘贴板\n * @param {String} text 需要复制的内容\n * @return {Boolean} 复制成功:true或者复制失败:false  执行完函数后，按ctrl + v试试\n*/\n\nexport const execCommandCopy = (text) => {\n    let textareaEl = document.createElement('textarea')\n    textareaEl.setAttribute('readonly', 'readonly') // 防止手机上弹出软键盘\n    textareaEl.value = text\n    document.body.appendChild(textareaEl)\n    textareaEl.select()\n    const res = document.execCommand('copy')\n    document.body.removeChild(textareaEl)\n    console.log('复制成功')\n    return res\n}\n\n// 获取字符长度\nexport const GetLength = (str) => {\n    if (typeof str !== 'string') return 0\n    let realLength = 0\n    let len = str.length\n    let charCode = -1\n    for (let i = 0; i < len; i++) {\n        charCode = str.charCodeAt(i)\n        if (charCode >= 0 && charCode <= 128) {\n            realLength += 1\n        } else {\n            realLength += 2\n        }\n    }\n    return realLength\n}\n\n/**\n * @desc 是否是 naga.one || naga.is\n */\nexport const nagacomlist = ['www.naga.one', 'www.naga.is', 'm.naga.one']\n// , '10.0.8.138', 'www.marslib.com'\nexport const naGacom = (req) => req && typeof window === 'undefined'\n    ? nagacomlist.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : nagacomlist.indexOf(window.location.hostname) > -1\n\n/**\n * @desc 是否是 m.marsbit.co || www.marsbit.co || new.marsbit.co\n */\nexport const marsbitcoHost = ['m.marsbit.co', 'www.marsbit.co', 'news.marsbit.co']\n// export const isQuattroWallet = (req) => true\nexport const isMarsbitco = (req) => req && typeof window === 'undefined'\n    ? marsbitcoHost.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : marsbitcoHost.indexOf(window.location.hostname) > -1\n\n/**\n * @desc 是否是大会域名 power.marsbit.co\n */\nexport const powerHost = ['power.marsbit.co']\n// export const isQuattroWallet = (req) => true\nexport const isPowersite = (req) => req && typeof window === 'undefined'\n    ? powerHost.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : powerHost.indexOf(window.location.hostname) > -1\n\n/**\n * @desc 是否是 m.marsbit.cc || www.marsbit.cc || new.marsbit.cc\n */\nexport const marsbitccHost = ['m.marsbit.cc', 'www.marsbit.cc', 'news.marsbit.cc', '10.0.8.138']\n// export const isQuattroWallet = (req) => true\nexport const isMarsbitcc = (req) => req && typeof window === 'undefined'\n    ? marsbitccHost.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : marsbitccHost.indexOf(window.location.hostname) > -1\n\n/**\n * @desc 是否是 marsbit.info\n */\nexport const marsbitinfoHost = ['m.marsbit.info', 'www.marsbit.info', 'news.marsbit.info']\n// export const isQuattroWallet = (req) => true\nexport const isMarsbitinfo = (req) => req && typeof window === 'undefined'\n    ? marsbitinfoHost.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : marsbitinfoHost.indexOf(window.location.hostname) > -1\n\n/**\n * @desc 是否是 marsbit.info\n */\nexport const marsshareHost = ['m.marsshare.cc', 'www.marsshare.cc', 'news.marsshare.cc']\n// export const isQuattroWallet = (req) => true\nexport const isMarsshare = (req) => req && typeof window === 'undefined'\n    ? marsshareHost.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : marsshareHost.indexOf(window.location.hostname) > -1\n\n/**\n * @desc 是否是 m.marstelegram.com || www.marstelegram.com || new.marstelegram.com\n */\nexport const marstelegramHost = ['m.marstelegram.com', 'www.marstelegram.com', 'news.marstelegram.com']\n// export const isQuattroWallet = (req) => true\nexport const isMarstelegram = (req) => req && typeof window === 'undefined'\n    ? marstelegramHost.indexOf((req.hostname || req.headers['x-forwarded-host'])) > -1\n    : marstelegramHost.indexOf(window.location.hostname) > -1\n\nexport default {\n    clearLoginCookies,\n    ajaxSignature,\n    axiosAjax,\n    websocket,\n    openNewWindow,\n    uerserAgent,\n    isPc,\n    isIos,\n    isIphoneX,\n    isAndroid,\n    isWechat,\n    isHxApp,\n    isPhone,\n    isPsd,\n    isEmail,\n    isNum,\n    isJson,\n    isArrayBuffer,\n    isArray,\n    isObject,\n    isToday,\n    isThisYear,\n    formatNum,\n    formatAbsolute,\n    formatPrice,\n    formatTotal,\n    formatPercent,\n    formatTime,\n    formatPublishTime,\n    numDivision,\n    trim,\n    toNonExponential,\n    encodeSearchKey,\n    dataURLtoBlob,\n    sortBy,\n    queryParam,\n    propsInherit,\n    stringArray,\n    stringJsonItem,\n    scrollOffset,\n    windowOffset,\n    elementOffset,\n    mouseOffset,\n    windowScroll,\n    animation,\n    arriveAtDom,\n    deepCompare,\n    deepMerge,\n    webTdk,\n    mixUrl,\n    cookiesName,\n    textOverflow,\n    textLength,\n    arrayMaxMin,\n    flashRecognize,\n    flashTime,\n    redirectUrl,\n    rem,\n    uuid,\n    uuidDiy,\n    logReport,\n    cookie,\n    keyLight,\n    getUnit,\n    addComma,\n    isAutoplaySupported,\n    urlToLink,\n    fileExtension,\n    execCommandCopy,\n    GetLength,\n    naGacom,\n    isMarsbitco,\n    isMarsbitcc,\n    isMarsshare,\n    isMarsbitinfo,\n    isMarstelegram,\n    isPowersite\n}\n","import path from 'path'\nimport fs from 'fs'\n\nimport { isObject } from 'multiPublic/index'\n\nconst winston = require('winston')\nconst { createLogger, format, transports } = winston\nrequire('winston-daily-rotate-file')\n\n// 确保项目根目录存在logs文件夹\nconst logDirectory = path.resolve('./', 'logs')\nfs.existsSync(logDirectory) || fs.mkdirSync(logDirectory)\n\n// 根据日期生成文件\nconst transportFile = (obj) => new (winston.transports.DailyRotateFile)(Object.assign({\n    datePattern: 'YYYY-MM-DD-HH',\n    // zippedArchive: true,\n    maxSize: '20m',\n    maxFiles: '1d'\n}, obj))\n\n// 信息输出\nconst formatPrintf = (info) => {\n    try {\n        let { timestamp, level, message } = info\n        let obj = {\n            level: level,\n            timestamp: timestamp,\n            message: message\n        }\n\n        if (info.meta) { // 由express-winston中间件打印，包含meta信息\n            const meta = info.meta\n            const req = meta.req\n            obj.url = `${req.method} ${req.headers.host + req.originalUrl}`\n            req.query && JSON.stringify(req.query) !== '{}' && (obj.query = JSON.stringify(req.query))\n            req.body && JSON.stringify(req.body) !== '{}' && (obj.body = JSON.stringify(req.body))\n\n            meta.error && Object.keys(meta.error).map(function (key, index) { // 暂时有errpath， errmessage\n                const val = meta.error[key]\n                obj[`err_${key}`] = isObject(val) ? (JSON.stringify(val) !== '{}' ? JSON.stringify(val) : '') : val\n            })\n            meta.stack && (obj.stack = meta.stack.replace(/[\\r\\n]/g, ''))\n\n            obj.cookies = `${req.headers.cookie}`\n            obj.userAgent = req.headers['user-agent']\n\n            meta.res && Object.keys(meta.res).map(function (key, index) { // 暂时有resstatusCode\n                const val = meta.res[key]\n                obj[`res_${key}`] = isObject(val) ? (JSON.stringify(val) !== '{}' ? JSON.stringify(val) : '') : val\n            })\n            meta.responseTime && (obj.responseTime = meta.responseTime)\n\n            obj.meta = JSON.stringify(meta)\n        } else {\n            Object.keys(info).map(function (key, index) {\n                if (key !== 'level' && key !== 'timestamp' && key !== 'message') {\n                    if (key === 'stack' || key === 'componentStack') {\n                        obj[key] = info[key].replace(/[\\r\\n]/g, '')\n                    } else {\n                        const val = info[key]\n                        obj[key] = isObject(val) ? (JSON.stringify(val) !== '{}' ? JSON.stringify(val) : '') : val\n                    }\n                }\n            })\n        }\n\n        return JSON.stringify(obj)\n    } catch (err) {\n        return JSON.stringify({\n            level: 'error',\n            message: 'winston printf'\n        })\n    }\n}\n\nconst transportLevelFile = (level) => transportFile({\n    level: level,\n    format: format.combine(\n        format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n        format.printf(formatPrintf)\n    ),\n    filename: path.resolve(logDirectory, `${level}-%DATE%.log`)\n})\n\nconst logger = createLogger({\n    levels: {\n        error: 0,\n        warn: 1,\n        info: 2,\n        http: 3,\n        verbose: 4,\n        debug: 5,\n        silly: 6\n    },\n    handleExceptions: true,\n    json: true,\n    maxsize: 5242880, // 5MB\n    maxFiles: 5\n})\nlogger.configure({\n    level: 'verbose'\n})\nlogger.configure({\n    level: 'debug'\n})\nlogger.configure({\n    level: 'silly',\n    transports: [\n        transportFile({ // 此没有级别则从最低级silly全部打印\n            format: format.combine(\n                format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n                format.printf(formatPrintf)\n            ),\n            filename: path.resolve(logDirectory, 'info-%DATE%.log')\n        }),\n        // transportLevelFile('http'), // level以当前级别包含关系，如: http则打印http+info+wran+error; warn则打印wran+error\n        // transportLevelFile('error'), // error则只打印error\n        transportLevelFile('warn'),\n        new transports.Console({\n            format: format.combine(\n                format.colorize(),\n                format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n                format.printf(info => {\n                    const { timestamp, level, message } = info\n                    return `${timestamp} [${level}]: ${message}`\n                })\n            )\n        })\n    ]\n})\n\n/** @desc 日志级别(error, warn, info, http, verbose, debug, silly)\n * 符合RFC5424指定的严重性顺序。官方地址:https://tools.ietf.org/html/rfc5424\n * error:0 严重错误，会导致程序或页面崩溃，必须马上处理：程序运行错误, ejs模板错误, middleware其它运行中间件错误\n * warn:1 警告需要尽早解决，对于那些目前还不是错误，然而不及时处理也会变成错误的情况。内存或cpu使用率过高, 接口请求错误, 接口请求成功但code!==1\n * info:2 有意义的事件信息，记录程序正常的运行状态，比如收到请求，成功执行。通过查看info,可以快速定位error，warn。info不宜过多，通常情况下不超过debug的10%\n * http:3 请求日志，可查看当前请求头信息与状态码等\n * verbose:4 冗余信息，记录一些有用可长期存在的信息\n * debug:5 调试信息，与程序运行时的流程相关的详细信息以及当前变量状态\n * silly:6 临时信息，临时日志后期可删除\n * */\n\n/** @desc 后端自动打印: 包含meta字段，后端自动打印在/server/app/app.js中的错误处理中间件统一捕获错误\n * error\n * 1:ejs模板错误; 2:react后端运行错误; 2:middleware其它中间件错误(包括自动捕获至全局的错误errorHandle);\n * warn\n * 1:api接口请求错误400/500; 2:api接口请求正确200但code!==1; 3:内存或cpu使用过高等性能警告\n * http\n * 1:所有相关请求\n * ----example----\n * warn\n * {message: 'api-err', httpCode: 400/500, url: '/failed', errMsg: 'error message', stack: 'stack'} // 由ajax公共函数统一打印\n * error\n * {message: 'api-msg', httpCode: 200, url: '/succeed', resCode: -1, resMsg: 'res.msg', stack: 'stack'} // 由ajax公共函数统一打印\n * middleware error\n * {level: 'error', message: 'middlewareerror', error: 'error', stack: 'stack', meta: {}} // 由错误中间件统一打印\n * */\n\n/** @desc 前端日志上报: 框架前端自动打印multiPublic/index.js中logReport参数params包含framework:true。前端所有日志message中都包含’client‘字符串\n * error\n * 1:js运行错误browser/index.js; 2:react组件捕获错误browser/app.js;\n * warn\n * 1:api接口请求错误400/500; 2:api接口请求正确200但code!==1;\n * 1\n * ----example----\n * {message: 'client-api-msg', url: '/succeed', params:{}, httpCode: 200, resCode: -1, resMsg: 'res.msg', ip: '', userAgent: '', cookies: '', localStorage: '', sessionStorage}\n * {message: 'client-api-err', url: '/failed', params:{}, httpCode: 400/500, errMsg: 'error message', ip: '', userAgent: '', cookies: '', localStorage: '', sessionStorage}\n * {message: 'client-ajax-handle-err', url: '/failed', params:{}, httpCode: 200, errMsg: 'error message', ip: '', userAgent: '', cookies: '', localStorage: '', sessionStorage}\n * {message: 'client-app-err', errMsg: 'error message', userAgent: '', stack: '', ip: '', userAgent: '', cookies: '', localStorage: '', sessionStorage} // ejs项目\n * {message: 'client-app-err-react', errMsg: 'error message', timetampClient: '', userAgent: '', stack: '', componentStack: '', ip: '', userAgent: '', cookies: '', localStorage: '', sessionStorage}\n * {message: 'client-app-err-window', errMsg: 'error message', timetampClient: '', userAgent: '', source: '', lineno: '', colno: '', stack: '', ip: '', userAgent: '', cookies: '', localStorage: '', sessionStorage}\n * */\n\n/** @desc 自定义日志，开发者主动打印。react程序中调用multiPublic/index.js的logReport方法{level: 'error'} level为主动传入字段\n * { level: 'error', message: trace, stack: 'stack'}\n * ----example----\n * logReport({ level: 'error', message: '', path: '' }) // 前端程序\n * res.logger.error({ message: '', path: '' }) // 后端路由\n * logger.error({ message: '', path: '' }) // 调用文件\n * */\n\n/** @desc 整体描述\n * 前端日志上报为: ajax调用nodejs的/logger路由，由node调动此日志程序打印。所有message中包含'client'字符。logger路由判断params中是否有framework为框架打印否则为自定义打印\n * 后端日志打印为: app.js中的错误中间件统一捕获利用此日志程序打印。路由中可调用res.logger，或者调用server/app/logger.js\n * 前后端同构react程序日志打印为: 调用multiPublic/index.js中的logReport方法打印[为前端打印，如果后端报错会直接由app.js错误中间件处理]\n * */\n\n/** @desc 使用示例\n * logger.error('error test')\n * logger.warn('warn test')\n * logger.info('info test')\n * logger.http('http test')\n * logger.verbose('verbose test')\n * logger.debug('debug test')\n * logger.silly('silly test')\n * logger.log({ level: 'verbose', message: 'log verbose test' })\n * */\n\n/** @desc 日志格式/字段\n * 文件日志格式统一采用JSON，便于ELK解析处理。\n * 日志中的各个字段的值，都应该尽量使用英文，不使用中文。\n * 日志具体字段，分为基础数据 + 扩展数据。基础数据，是底层日志框架自带的，所有日志都会包含。扩展数据，不同类型的日志，包含不同的字段。\n * */\n/* const loggerParams = {\n    /!** ---------基础数据------- **!/\n    level: 'error',\n    message: 'middlewareError',\n    // message: 'HTTP GET /',\n    timestamp: '2019-11-29 19:59:58',\n    /!** ---------扩展字段------- **!/\n    httpCode: '400/500',\n    url: '/failed',\n    errMsg: 'error message'\n    // httpCode: 200,\n    // url: '/succeed',\n    // resCode: -1,\n    // resMsg: 'res.msg'\n    // eg: 以下为http请求日志，请求头中所有信息可在此查看\n    // url: '',\n    // query: {},\n    // body: {}\n    // res_statusCode: 200,\n    // responseTime: 1,\n    // meta: {} // 其它请求信息userAgent, cookies等,以多层json数据存在,由express-winston自动打印，备份作为其它问题查询\n    // eg: 以下为ejs+router等中间件错误日志\n    // url: '',\n    // query: {},\n    // body: {}\n    // err_message: 200,\n    // err_path: 200,\n    // meta: {} // 其它错误信息process, trace等,以多层json数据存在,由express-winston自动打印，备份作为其它问题查询\n}\nconsole.log(loggerParams) */\n\nexport default logger\n","import { createProxyMiddleware } from 'http-proxy-middleware'\nimport querystring from 'querystring'\nimport { apiDomain } from '../../config/config'\n\nexport default (app) => {\n    const onError = (err, req, res) => {\n        res.writeHead(500, {\n            'Content-Type': 'text/plain'\n        })\n        res.end(\n            'Something went wrong. And we are reporting a custom error message.' + err\n        )\n    }\n    const onProxyReq = (proxyReq, req, res) => {\n        if (req.method.toLowerCase() === 'post' && req.body) {\n            if (!req.body || !Object.keys(req.body).length) return\n\n            const contentType = proxyReq.getHeader('Content-Type')\n            const writeBody = (bodyData) => {\n                proxyReq.setHeader('Content-Length', Buffer.byteLength(bodyData))\n                proxyReq.write(bodyData)\n            }\n\n            if (contentType === 'application/json') {\n                writeBody(JSON.stringify(req.body))\n            }\n\n            if (contentType === 'application/x-www-form-urlencoded') {\n                writeBody(querystring.stringify(req.body))\n            }\n        }\n    }\n\n    const onProxyRes = (proxyRes, req, res) => {\n        // const cookies = proxyRes.headers['set-cookie']\n        // const cookieRegex = /Path=\\/XXX\\//i\n        // // 修改cookie Path\n        // if (cookies) {\n        //     const newCookie = cookies.map(function (cookie) {\n        //         if (cookieRegex.test(cookie)) {\n        //             return cookie.replace(cookieRegex, 'Path=/')\n        //         }\n        //         return cookie\n        //     })\n        //     // 修改cookie path\n        //     delete proxyRes.headers['set-cookie']\n        //     proxyRes.headers['set-cookie'] = newCookie\n        // }\n    }\n\n    // api.defi.com 接口代理\n    app.use([\n        '/api/explorer'\n    ], createProxyMiddleware({\n        target: apiDomain,\n        changeOrigin: true,\n        ws: true,\n        https: true,\n        headers: {\n            Referer: apiDomain\n        },\n        cookieDomainRewrite: '',\n        onError,\n        onProxyReq,\n        onProxyRes\n    }))\n}\n","import { isArray } from 'multiPublic/index'\n\nconst { publicPath } = require('../../config/config')\n\n/** @desc 财经统计代码\n * @params\n * url, timestamp, device_source, ref_url, hx24_eventId, hx24_preEventId, hx24_userCookieUuid, hx24_deviceUuid\n * @method statisticsHx24(platform) platform: webpc, webm\n * */\nconst statisticsHx24 = (platform) => `\n<script>\n    window.hx24Flatform = \"${platform}\";\n</script>\n`\n/* const statisticsHx24 = (platform) => `\n<script>\n    window.hx24Flatform = \"${platform}\";\n    (function () {\n        var hx24 = document.createElement(\"script\");\n        hx24.src = \"${publicPath}/${process.env.NODE_ENV === 'development' ? '_dist' : 'build'}/gather.js?timestamp=${gatherTime}\";\n        var script = document.getElementsByTagName(\"script\")[0];\n        script.parentNode.insertBefore(hx24, script);\n    })();\n</script>\n` */\n\n/** @desc 其它平台统计代码 */\n// marsbit.co 域名统计代码\nconst statistics = `\n    <script>\n    var _hmt = _hmt || [];\n    (function() {\n    var hm = document.createElement(\"script\");\n    hm.src = \"https://hm.baidu.com/hm.js?0f04816eea55fec5a1f0c7fe30aef21b\";\n    var s = document.getElementsByTagName(\"script\")[0]; \n    s.parentNode.insertBefore(hm, s);\n    })();\n    </script>\n    `\n// marstelegram.com 域名统计代码\nconst statistGram = `\n    <script>\n    var _hmt = _hmt || [];\n    (function() {\n    var hm = document.createElement(\"script\");\n    hm.src = \"https://hm.baidu.com/hm.js?60730e7a185bb6e05ddc28f2fcf20ddc\";\n    var s = document.getElementsByTagName(\"script\")[0]; \n    s.parentNode.insertBefore(hm, s);\n    })();\n    </script>\n    `\n// marsbit.cc 域名统计代码\nconst statistCc = `\n    <script>\n    var _hmt = _hmt || [];\n    (function() {\n    var hm = document.createElement(\"script\");\n    hm.src = \"https://hm.baidu.com/hm.js?76e96681d574f1bc7561c43bf9661c8c\";\n    var s = document.getElementsByTagName(\"script\")[0]; \n    s.parentNode.insertBefore(hm, s);\n    })();\n    </script>\n    `\n/** @desc 自定义style与script\n * @method myStylesScripts(initProps)\n * */\nconst myStylesScripts = (initProps) => {\n    let myStyles = ''\n    if (initProps.stylesheet) {\n        if (!isArray(initProps.stylesheet) || initProps.stylesheet.length === 0) throw new Error('stylesheet is not a array or length is 0')\n        for (let val of initProps.stylesheet) {\n            const href = (val.indexOf('https://') > -1 || val.indexOf('http://') > -1) ? val : publicPath + val\n            myStyles += `<link href=\"${href}?v=${new Date().getMonth()}\" rel=\"stylesheet\" type=\"text/css\">`\n        }\n    }\n\n    let myScripts = ''\n    if (initProps.javascript) {\n        if (!isArray(initProps.javascript) || initProps.javascript.length === 0) throw new Error('javascript is not a array or length is 0')\n        for (let val of initProps.javascript) {\n            const src = (val.indexOf('https://') > -1 || val.indexOf('http://') > -1) ? val : publicPath + val\n            myScripts += `<script type=\"text/javascript\" src=\"${src}?v=${new Date().getMonth()}\" crossorigin></script>`\n        }\n    }\n\n    return { myStyles, myScripts }\n}\n\nconst clientLink = (initProps, platform) => {\n    if (!initProps.hasOwnProperty('clientLink') || initProps.clientLink === 'onlyPc' || initProps.clientLink === 'onlyMob' || initProps.clientLink === false || initProps.clientLink === '') return ''\n    const isPcStr = () => {\n        if (platform === 'pc') return `!isPc()`\n        if (platform === 'mob') return 'isPc()'\n    }\n    return `<script>\n        function isPc() {\n            var userAgent = window.navigator.userAgent.toLowerCase()\n            var Agents = ['android', 'iphone', 'ipod', 'windows phone']\n            for (var i = 0; i < Agents.length; i++) {\n                if (userAgent.indexOf(Agents[i]) > -1) return  false\n            }\n            return true\n        }\n        if (${isPcStr()}) window.location.href = '${initProps.clientLink}' \n    </script>`\n}\n\n/** @desc 微信分享。注：url暂时调用www.huoxing24.com。跨域问题需要具体跟运维查看\n * 请注意，原有的1.2.0版本 wx.onMenuShareTimeline、wx.onMenuShareAppMessage、wx.onMenuShareQQ、wx.onMenuShareQZone 接口，即将废弃。\n * 请尽快迁移使用客户端6.7.2及JSSDK 1.4.0以上版本支持的 wx.updateAppMessageShareData、wx.updateTimelineShareData接口。\n * @method wxShare(isWx)\n * */\nconst wxShare = (isWx) => {\n    if (!isWx) return ''\n    return `<script src=\"https://res.wx.qq.com/open/js/jweixin-1.6.0.js\"></script>\n            <script>\n            function formatParams(data) {\n                var arr = [];\n                for (var name in data) {\n                    arr.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]))\n                }\n                arr.push(('v=' + Math.random()).replace('.', ''))\n                return arr.join('&')\n            }\n    \n            function ajax(options) {\n                options = options || {}\n                options.type = (options.type || 'get').toLowerCase()\n                options.dataType = options.dataType || 'json'\n                var params = formatParams(options.data)\n                var xhr = new XMLHttpRequest()\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4) {\n                        var status = xhr.status\n                        if (status >= 200 && status < 300) {\n                            options.success && options.success(xhr.responseText, xhr.responseXML)\n                        } else {\n                            options.fail && options.fail(status)\n                        }\n                    }\n                }\n                if (options.type === 'get') {\n                    xhr.open('GET', options.url + '?' + params, true)\n                    xhr.send(null)\n                } else if (options.type === 'post') {\n                    xhr.open('POST', options.url, true)\n                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\n                    xhr.send(params)\n                }\n            }\n            ajax({\n                url: 'https://m.marsbit.co/signture',\n                type: 'post',\n                data: { url: window.location.href.split('#')[0] },\n                success: function (res, xml) {\n                    const data = JSON.parse(res)\n                    wx.config({\n                        debug: false,\n                        appId: 'wx0ed2ac0b34184652',\n                        timestamp: data.timestamp,\n                        nonceStr: data.nonceStr,\n                        signature: data.signature,\n                        jsApiList: [\n                            'checkJsApi',\n                            'updateAppMessageShareData',\n                            'updateTimelineShareData'\n                        ],\n                        openTagList: ['wx-open-launch-app']\n                    })\n                    wx.ready(function () {\n                        const shareData = {\n                            title: document.querySelector('meta[name=\"wxshare-title\"]').getAttribute('content'),\n                            desc:  document.querySelector('meta[name=\"description\"]').getAttribute('content'),\n                            imgUrl: ${publicPath}/resource/images/favicon.ico,\n                            link: data.url,\n                            success: function () {\n                                document.querySelector('.m-wx-share-box').style.display = 'inline'\n                            },\n                            cancel: function () {\n                                document.querySelector('.m-wx-share-box').style.display = 'inline'\n                            }\n                        }\n                        wx.updateAppMessageShareData(shareData)\n                        wx.updateTimelineShareData(shareData)\n                    })\n                    \n                    wx.error(function (err) {\n                        console.log(err.errMsg)\n                    })\n                },\n                fail: function (status) {\n                    console.log('wx share fail status ' + status)\n                }\n            })\n        </script>`\n}\n\nexport { statisticsHx24, statistics, myStylesScripts, clientLink, wxShare, statistCc, statistGram }\n","import { webTdk } from 'multiPublic/index'\nimport { statistics, statistCc, statistGram, statisticsHx24, myStylesScripts, wxShare, clientLink } from './publc'\n\nconst { publicPath } = require('../../config/config')\nconst { title, description, keywords } = webTdk\n\nexport default ({ initState, initProps, styles, scripts, links, platform, isWx, errObjProps, isNagalink, isMarslibco, isMarslibcc, isMarsgram }) => {\n    const securelinklist = ['www.naga.one', 'm.naga.one', '10.0.8.138']\n    const pageTitle = initProps.title ? initProps.title : title\n    const pageDescriptionHtml = initProps.description ? initProps.description.replace(/\\n/g, '') : description\n    const pageDescription = pageDescriptionHtml.replace(/<[^>]+>/ig, '')\n    const pageKeywords = initProps.keywords ? initProps.keywords : keywords\n    const pageIcon = securelinklist.indexOf(isNagalink) > -1 ? `${publicPath}/resource/images/naga_icon.ico` : `${publicPath}/favicon.ico`\n    const shareIcon = initProps.shareIcon ? initProps.shareIcon : `${publicPath}/resource/images/favicon.ico`\n    const shareTitle = initProps.shareTitle ? initProps.shareTitle : pageTitle\n    const { myScripts, myStyles } = myStylesScripts(initProps)\n    // 统计代码按域名区分\n    const statictCode = isMarslibco ? statistics : isMarslibcc ? statistCc : isMarsgram ? statistGram : statistics\n    // 如果移动端打开pc页面，如果有相对应的移动端则跳转\n    const clientLinkStr = clientLink(initProps, 'pc')\n    // 如果是微信pc则返回微信分享代码\n    const wxShareStr = wxShare(isWx)\n    const errObjScript = errObjProps ? `window._ERROBJPROPS_ = ${JSON.stringify(errObjProps)}` : ''\n    const siteicon = 'http://www.marsbit.co/resource/images/huoxing24.png?t=' + new Date().getTime()\n    const twettericon = initProps.twettericon ? initProps.twettericon + '?t=' + new Date().getTime() : siteicon\n    const twetterType = initProps.twettericon && initProps.twettericon !== '' ? 'summary_large_image' : 'summary'\n    // const twitterimg = `http://www.marsbit.co/resource/images/naga_icon.ico`\n    // <meta content=\"${siteicon}\" name=\"twitter:image\" />\n    return {\n        header: `<!DOCTYPE html>\n                <html lang=\"zh-hans\">\n                    <title>${pageTitle}</title>\n                    <meta charset=\"utf-8\">\n                    <meta content=\"index, follow\" name=\"robots\" />\n                    <meta content=\"width=device-width, initial-scale=1.0, shrink-to-fit=no\" name=\"viewport\" />\n                    <meta content=\"ie=edge\" http-equiv=\"x-ua-compatible\" />\n                    <meta name=\"keywords\" content=\"${pageKeywords}\">\n                    <meta name=\"description\" content=\"${pageDescription}\">\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"/>\n                    <meta name=\"renderer\" content=\"webkit|ie-comp|ie-stand\"/>\n                    <meta name=\"force-rendering\" content=\"webkit\"/>\n                    <!--微信分享图标-->\n                    <meta name=\"wxshare-icon\" content=\"${shareIcon}\"/>\n                    <!--微信分享标题--> \n                    <meta name=\"wxshare-title\" content=\"${shareTitle}\"/>\n                    <!--微信分享描述--> \n                    <meta name=\"wxshare-desc\" content=\"${pageDescription}\"/>\n                    <!--外站分享图标-->\n                    <meta property=\"og:site_name\" content=\"Mars Finance\"/>\n                    <meta property=\"og:title\" content=\"${pageTitle}\"/>\n                    <meta property=\"og:image\" content=\"${siteicon}\"/>\n                    <meta property=\"og:description\" content=\"${pageDescription}\"/>\n                    <title>${pageTitle}</title>\n                    <meta content='${twetterType}' name='twitter:card' />\n                    <meta content=\"@Mars Finance\" name=\"twitter:site\"  />\n                    <meta content=\"@Mars_Finance\" name=\"twitter:creator\" />\n                    <meta content=\"${pageTitle}\" name=\"twitter:title\" />\n                    <meta content=\"${pageDescription}\" name=\"twitter:description\" />\n                    <meta content=\"${twettericon}\" name=\"twitter:image\" />\n                    <!--手机QQ分享-->\n                    <meta itemprop=\"name\" content=\"${pageTitle}\">\n                    <meta itemprop=\"description\" content=\"${pageDescription}\">\n                    <meta itemprop=\"image\" content=\"${shareIcon}\">\n                    <!--360site-->\n                    <meta name=\"360-site-verification\" content=\"4d4227e94cc86231bd81ada778d071d7\" />\n                    ${statisticsHx24('webpc')}\n                    ${clientLinkStr}\n                    ${wxShareStr}\n                    <!--[if lte IE 10]>\n                    <script src=\"${publicPath}/resource/plugin/browser-tips.js\"></script>\n                    <![endif]-->\n                    <link rel=\"shortcut icon\" href=\"${pageIcon}\" type=\"image/x-icon\">\n                    ${myStyles}\n                    ${styles}\n                </head>\n                <body>\n                    <img src=\"http://www.marsbit.co/resource/images/huoxing24.png\" width=\"0\" height=\"0\" style=\"height:0;width:0;position:absolute;top:0\" />\n                    <noscript>You need to enable JavaScript to run this app.</noscript>\n                    <div id=\"root\">`,\n        footer: `</div>\n                    <script>\n                        window.__INITIAL_STATE__ =${JSON.stringify(initState)}\n                        window.__INITIAL_PROPS__ =${JSON.stringify(initProps)}\n                        window.__PLATFORM__ =\"${platform}\"\n                        ${errObjScript}\n                    </script>\n                    <script src=\"https://www.yunpian.com/static/official/js/libs/riddler-sdk-0.2.2.js\"></script>\n                    ${myScripts}\n                    ${scripts}\n                    ${statictCode}\n                </body>\n            </html>`\n    }\n}\n","import { webTdk } from 'multiPublic/index'\nimport { statistics, myStylesScripts, clientLink, statisticsHx24, statistCc, statistGram, wxShare } from './publc'\n\nconst { publicPath } = require('../../config/config')\nconst { title, description, keywords } = webTdk\n\nexport default ({ initState, initProps, styles, scripts, links, platform, isWx, errObjProps, isNagalink, isMarslibco, isMarslibcc, isMarsgram }) => {\n    const securelinklist = ['www.naga.one', 'm.naga.one']\n    const pageTitle = initProps.title ? initProps.title : title\n    const pageDescriptionHtml = initProps.description ? initProps.description.replace(/\\n/g, '') : description\n    const pageDescription = pageDescriptionHtml.replace(/<[^>]+>/ig, '')\n    const pageKeywords = initProps.keywords ? initProps.keywords : keywords\n    const pageIcon = securelinklist.indexOf(isNagalink) > -1 ? `${publicPath}/resource/images/naga_icon.ico` : `${publicPath}/favicon.ico`\n    const shareIcon = initProps.shareIcon ? initProps.shareIcon : `${publicPath}/resource/images/favicon.ico`\n    const shareTitle = initProps.shareTitle ? initProps.shareTitle : pageTitle\n    const { myScripts, myStyles } = myStylesScripts(initProps)\n    const siteicon = 'http://www.marsbit.co/resource/images/huoxing24.png?t=' + new Date().getTime()\n    const twettericon = initProps.twettericon ? initProps.twettericon + '?t=' + new Date().getTime() : siteicon\n    const twetterType = initProps.twettericon && initProps.twettericon !== '' ? 'summary_large_image' : 'summary'\n    // 如果pc打开移动端页面，如果有相对应的pc页面则跳转\n    const clientLinkStr = clientLink(initProps, 'mob')\n    // 统计代码按域名区分\n    const wxShareStr = wxShare(isWx)\n    const statictCode = isMarslibco ? statistics : isMarslibcc ? statistCc : isMarsgram ? statistGram : statistics\n    // 如果是微信pc则返回微信分享代码\n    const errObjScript = errObjProps ? `window._ERROBJPROPS_ = ${JSON.stringify(errObjProps)}` : ''\n    // const twitterimg = 'http://www.marsbit.co/resource/images/naga_icon.ico'\n    return {\n        header: `<!DOCTYPE html>\n            <html lang=\"zh-cmn-Hans\">\n                <head>\n                    <meta charset=\"utf-8\">\n                    <meta name=\"keywords\" content=\"${pageKeywords}\">\n                    <meta name=\"description\" content=\"${pageDescription}\">\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n                    <!--手机QQ分享-->\n                    <meta itemprop=\"name\" content=\"${pageTitle}\">\n                    <meta itemprop=\"description\" content=\"${pageDescription}\">\n                    <meta itemprop=\"image\" content=\"${shareIcon}\">\n                    <!--360site-->\n                    <meta name=\"360-site-verification\" content=\"4d4227e94cc86231bd81ada778d071d7\" />\n                    <!--视窗限制-->\n                    <meta name=\"viewport\"\n                          content=\"\n                          width=device-width,\n                          initial-scale=1.0,\n                          minimum-scale=1.0,\n                          maximum-scale=1.0,\n                          user-scalable=no\">\n\n                    <!--微信分享图标-->\n                    <meta name=\"wxshare-icon\" content=\"${shareIcon}\"/>\n                    <!--微信分享标题--> \n                    <meta name=\"wxshare-title\" content=\"${shareTitle}\"/>\n                    <!--微信分享描述--> \n                    <meta name=\"wxshare-desc\" content=\"${pageDescription}\"/>\n                    <!--外站分享图标-->\n                    <meta property=\"og:site_name\" content=\"Mars Finance\"/>\n                    <meta property=\"og:title\" content=\"${pageTitle}\"/>\n                    <meta property=\"og:image\" content=\"http://www.marsbit.co/resource/images/huoxing24.png\"/>\n                    <meta property=\"og:description\" content=\"${pageDescription}\"/>\n                    <title>${pageTitle}</title>\n                    <meta content=\"${twetterType}\" name='twitter:card' />\n                    <meta content=\"@Mars Finance\" name=\"twitter:site\"  />\n                    <meta content=\"@Mars_Finance\" name=\"twitter:creator\" />\n                    <meta content=\"${pageTitle}\" name=\"twitter:title\" />\n                    <meta content=\"${pageDescription}\" name=\"twitter:description\" />\n                    <meta content=\"${twettericon}\" name=\"twitter:image\" />\n                    ${statisticsHx24('webm')}\n                    ${clientLinkStr}\n                    ${wxShareStr}\n                    <script src=\"${publicPath}/resource/plugin/remset.js?t=${new Date().getDay()}\"></script>\n                    <link rel=\"shortcut icon\" href=\"${pageIcon}\" type=\"image/x-icon\">\n                    ${myStyles}\n                    ${styles}\n                </head>\n                <body>\n                    <img src=\"http://www.marsbit.co/resource/images/huoxing24.png\" width=\"0\" height=\"0\" style=\"height:0;width:0;position:absolute;top:0\" />\n                    <noscript>You need to enable JavaScript to run this app.</noscript>\n                    <div id=\"root\" class=\"root-mobile\">`,\n        footer: `</div>\n                    <script>\n                        window.__INITIAL_STATE__= ${JSON.stringify(initState)}\n                        window.__INITIAL_PROPS__ = ${JSON.stringify(initProps)}\n                        window.__PLATFORM__ =\"${platform}\"\n                        ${errObjScript}\n                    </script>\n                    <script src=\"https://www.yunpian.com/static/official/js/libs/riddler-sdk-0.2.2.js\">\n                    </script>\n                    ${myScripts}\n                    ${scripts}\n                    ${statictCode}\n                </body>\n            </html>`\n    }\n}\n","// 获取新闻详情\nexport const GETNEWSDETAILS = 'get-news-details'\n\n// 获取推荐新闻\nexport const GETRECOMMENDNEWS = 'get-recommend-news'\n\n// 获取相关新闻\nexport const GETRELATEDNEWS = 'get-related-news'\n\n// 获取专题详情\nexport const GETFEATUREDETAILS = 'get-feature-details'\n\n// 获取更多专题列表\nexport const GETMOREFEATURE = 'get-more-feature'\n\nexport const GETADIMPLANT = 'get-ad-implant'\n\nexport const GETNEWSLIST = 'get-news-list'\n\nexport const GETHOTNEWSVIDEO = 'get-hot-news-video'\n","import {\n    GETNEWSDETAILS,\n    GETRECOMMENDNEWS,\n    GETRELATEDNEWS,\n    GETFEATUREDETAILS,\n    GETADIMPLANT,\n    GETHOTNEWSVIDEO,\n    GETMOREFEATURE\n} from '../constants/news'\n\nconst initState = {\n    featureDetails: {\n        topic: {\n            id: '',\n            topicName: '',\n            description: '',\n            pcBackImage: '',\n            mImgSrc: '',\n            mBackImage: '',\n            createTime: 0,\n            tags: '',\n            titleDisplayFlag: 0\n        },\n        topicContentList: {\n            pageSize: 0,\n            recordCount: 0,\n            currentPage: 0,\n            pageCount: 0,\n            inforList: []\n        }\n    },\n    relatedNewslist: {\n        inforList: []\n    },\n    recommendNewsList: {\n        inforList: []\n    },\n    adImplant: [],\n    newsDetails: {\n        current: {\n            title: '',\n            createdBy: '',\n            author: '',\n            publishTime: '',\n            hotCounts: '',\n            synopsis: '',\n            content: '',\n            tagsV2: ''\n        },\n        next: {\n            coverPic: '',\n            title: '',\n            id: ''\n        }\n    },\n    hotNewsVideo: []\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETNEWSDETAILS:\n            /** @desc 2020.8.13\n             * PC内置微信浏览器使用chrome53，window.__INITIAL_STATE__ 会报错\n             * 测试结果为：current.content引起\n             * 此处对其进行特殊字符编码\n             * 在组件/containers/Details/NewsContent使用时进行解码 decodeURIComponent\n             */\n            const current = action.data.current\n            const newContent = encodeURIComponent(current.content)\n            delete current.content\n            current.content = newContent\n            return { ...state, newsDetails: { current: current, next: current.next } }\n        case GETRECOMMENDNEWS:\n            return { ...state, recommendNewsList: action.data }\n        case GETRELATEDNEWS:\n            return { ...state, relatedNewslist: action.data }\n        case GETFEATUREDETAILS:\n            return { ...state, featureDetails: action.data }\n        case GETMOREFEATURE:\n            const inforList = action.data.topicContentList.inforList\n            if (inforList.length !== 0) {\n                const obj = action.data\n                obj.topicContentList.inforList = state.featureDetails.topicContentList.inforList.concat(action.data.topicContentList.inforList)\n                return { ...state, featureDetails: obj }\n            } else {\n                return state\n            }\n        case GETADIMPLANT:\n            return { ...state, adImplant: action.data }\n        case GETHOTNEWSVIDEO:\n            return { ...state, hotNewsVideo: action.data }\n        default:\n            return state\n    }\n}\n","// 获取作者文章\nexport const GETAUTHORNEWS = 'get-author-news'\n\n// 获取作者视频\nexport const GETAUTHORVIDEO = 'get-author-video'\n\n// 获取作者文章\nexport const GETAUTHORCOLLECT = 'get-author-collect'\n\n// 获取作者关注\nexport const GETCOLLECTAUTHOR = 'get-collect-author'\n\n// 获取作者个人成就\nexport const GETAUTHORACHIEVE = 'get-author-achieve'\n\n// 获取作者列表\nexport const GETAUTHOR = 'get-author'\n\n// 获取专栏作者信息\nexport const GETAUTHORINFO = 'get-author-info'\n","import {\n    GETAUTHORVIDEO,\n    GETAUTHORCOLLECT,\n    GETCOLLECTAUTHOR,\n    GETAUTHORACHIEVE,\n    GETAUTHOR,\n    GETAUTHORINFO\n} from '../constants/author'\n\nimport {\n    GETNEWSLIST\n} from '../constants/news'\n\n// import { from } from 'rxjs'\nconst initState = {\n    authorVideoList: {\n        inforList: []\n    },\n    authorNewsList: {\n        inforList: []\n    },\n    authorCollectList: {\n        inforList: []\n    },\n    collectAuthor: {\n        inforList: []\n    },\n    authorAchieve: {\n        inforList: []\n    },\n    author: {\n        inforList: []\n    },\n    authorInfo: {\n        inforList: []\n    }\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETNEWSLIST:\n            return { ...state, authorNewsList: action.data }\n        case GETAUTHORVIDEO:\n            return { ...state, authorVideoList: action.data }\n        case GETAUTHORCOLLECT:\n            return { ...state, authorCollectList: action.data }\n        case GETCOLLECTAUTHOR:\n            return { ...state, collectAuthor: action.data }\n        case GETAUTHORACHIEVE:\n            return { ...state, authorAchieve: action.data }\n        case GETAUTHOR:\n            return { ...state, author: action.data }\n        case GETAUTHORINFO:\n            return { ...state, authorInfo: action.data }\n        default:\n            return state\n    }\n}\n","// 获取快讯频道\nexport const GETFLASHCHANNEL = 'get-flash-channel'\n\n// 获取精选快讯\nexport const GETIMPORTANTFLASH = 'get-important-flash'\n\n// 获取新闻排行\nexport const GETNEWSRANKINGS = 'get-news-rankings'\n\n// 获取快讯详情\nexport const GETFLASHDETAILS = 'get-flash-details'\n\n// 获取详情利好利空\nexport const DETAILSUPORDOWN = 'details-up-or-down'\n","import {\n    GETNEWSRANKINGS,\n    GETFLASHCHANNEL,\n    GETIMPORTANTFLASH,\n    GETFLASHDETAILS,\n    DETAILSUPORDOWN\n} from '../constants/flash'\n\nconst initState = {\n    flashChannel: [],\n    flashImportant: {\n        inforList: []\n    },\n    flashDetails: {},\n    newsRankings: {\n        inforList: []\n    }\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETFLASHCHANNEL:\n            return { ...state, flashChannel: action.data }\n        case GETIMPORTANTFLASH:\n            return { ...state, flashImportant: action.data }\n        case GETNEWSRANKINGS:\n            return { ...state, newsRankings: action.data }\n        case GETFLASHDETAILS:\n            return { ...state, flashDetails: action.data }\n        case DETAILSUPORDOWN:\n            const newDetails = { ...state.flashDetails, ...action.data, type: action.params.status }\n            return { ...state, flashDetails: newDetails }\n        default:\n            return state\n    }\n}\n","// 交易所公告详情\nexport const GETNOTICEDETAIL = 'get-notice-detail'\n","import {\n    GETNOTICEDETAIL\n} from '../constants/noticeDetail'\n\nconst initState = {\n    noticeObj: {}\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETNOTICEDETAIL:\n            console.log(action.data)\n            return { ...state, noticeObj: action.data }\n        default:\n            return state\n    }\n}\n","// 交易所公告列表\nexport const GETNOTICELIST = 'get-notice-list'\n// 交易所信息列表\nexport const GETBOURSELIST = 'get-bourse-list'\n// 交易所公告统计列表\nexport const GETBOURSESTATISTICSLIST = 'get-bourse-statistics-list'\n// 交易所公告详情\nexport const GETNOTICEDETAIL = 'get-notice-detail'\n","import {\n    GETNOTICELIST,\n    GETBOURSELIST,\n    GETBOURSESTATISTICSLIST,\n    GETNOTICEDETAIL\n} from '../constants/notice'\n\nconst initState = {\n    noticeObj: {},\n    bourseObj: {},\n    statisticsObj: {},\n    noticeDetailObj: {}\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETNOTICELIST:\n            return { ...state, noticeObj: action.data }\n        case GETBOURSELIST:\n            return { ...state, bourseObj: action.data }\n        case GETBOURSESTATISTICSLIST:\n            return { ...state, statisticsObj: action.data }\n        case GETNOTICEDETAIL:\n            return { ...state, noticeDetailObj: action.data }\n        default:\n            return state\n    }\n}\n","// 获取新闻评论\nexport const GETNEWSCOMMENT = 'get-news-commnet'\n\n// 获取新闻更多评论\nexport const GETNEWSMORECOMMENT = 'get-news-more-commnet'\n\n// 回复评论\nexport const REPLYCOMENT = 'reply-comment'\n\n// 删除评论\nexport const DELCOMMENT = 'del-comment'\n\n// 删除回复\nexport const DELREPLY = 'del-reply'\n","import {\n    DELCOMMENT,\n    DELREPLY,\n    GETNEWSCOMMENT,\n    GETNEWSMORECOMMENT,\n    REPLYCOMENT\n} from '../constants/comment'\n\n/** @desc 新闻视频评论 */\nconst initCommentList = {\n    pageSize: 0,\n    recordCount: 0,\n    currentPage: 0,\n    pageCount: 0,\n    currentTime: new Date(),\n    inforList: []\n}\nexport default (state = initCommentList, action) => {\n    switch (action.type) {\n        case GETNEWSCOMMENT:\n            return action.data\n        case GETNEWSMORECOMMENT:\n            const commentList = action.data.inforList\n            if (commentList.length !== 0) {\n                const newCommentList = state.inforList.concat(action.data.inforList)\n                return { ...action.data, inforList: newCommentList }\n            } else {\n                return state\n            }\n        case REPLYCOMENT:\n            const pid = action.data.pid\n            const replayCommentList = state.inforList\n            replayCommentList.map(function (item, index) {\n                if (pid === item.comment.id) {\n                    const replies = item.replies\n                    replies.push(action.data)\n                    replayCommentList[index] = {\n                        ...replayCommentList[index],\n                        replies: replies\n                    }\n                }\n            })\n            return { ...state, inforList: replayCommentList }\n        case DELCOMMENT:\n            const delCommentId = action.data\n            const delCommentList = state.inforList\n            delCommentList.map(function (item, index) {\n                if (delCommentId === item.comment.id) {\n                    delCommentList.splice(index, 1)\n                }\n            })\n            return { ...state, inforList: delCommentList }\n        case DELREPLY:\n            const replyId = action.data.replyId\n            const commentId = action.data.commentId\n            const delReplyCommentList = state.inforList\n            delReplyCommentList.map(function (item, index) {\n                if (commentId === item.comment.id) {\n                    const replies = item.replies\n                    replies.map(function (item, index) {\n                        if (replyId === item.id) {\n                            replies.splice(index, 1)\n                        }\n                    })\n                    delReplyCommentList[index] = {\n                        ...delReplyCommentList[index],\n                        replies: replies\n                    }\n                }\n            })\n            return { ...state, inforList: delReplyCommentList }\n        default:\n            return state\n    }\n}\n","// 获取快讯列表\nexport const GETFLASHLIST = 'get-flash-list'\n\n// 获取更多快讯\nexport const GETMOREFLASH = 'get-more-flash'\n\n// 快讯利好利空\nexport const FLASHUPDOWN = 'flash-up-down'\n","import { combineReducers } from 'redux'\nimport { FLASHUPDOWN, GETFLASHLIST, GETMOREFLASH } from '../constants/flash'\n\n/** @desc 快讯列表 */\nconst initFlashList = {\n    pageSize: 0,\n    recordCount: 0,\n    currentPage: 1,\n    pageNum: 0,\n    currentTime: new Date(),\n    inforList: []\n}\nconst flashList = (state = initFlashList, action) => {\n    switch (action.type) {\n        case GETFLASHLIST:\n            return action.data\n        case GETMOREFLASH:\n            const flshList = action.data.inforList\n\n            if (flshList.length !== 0) {\n                const newFlashList = state.inforList.concat(action.data.inforList)\n                return { ...state, inforList: newFlashList }\n            } else {\n                return state\n            }\n        case FLASHUPDOWN:\n            const upList = state.inforList\n            upList.map(function (item, index) {\n                if (item.id === action.params.id) {\n                    upList[index] = {\n                        ...upList[index],\n                        upCounts: action.data.upCounts,\n                        downCounts: action.data.downCounts,\n                        status: action.params.status,\n                        type: action.params.status\n                    }\n                }\n            })\n            return { ...state, inforList: upList }\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    flashList\n})\n","// 获取新闻导航channelId\nexport const GETNEWSCHANNELID = 'get-news-channel-id'\n\n// 获取热门新闻\nexport const GETHOTNEWS = 'get-hot-news'\n\n// 新闻新闻列表\nexport const GETNEWSLIST = 'get-news-list'\n\n// 获取跟多新闻\nexport const GETMORENEWS = 'get-more-news'\n\n// 获取作者信息\nexport const GETAUTHORINFO = 'get-author-info'\n\n// 获取作者列表\nexport const GETAUTHORLIST = 'get-author-list'\n\n// 获取专题列表\nexport const GETFEATURELIST = 'get-feature-list'\n\n// 获取 更多的专题列表\nexport const GETMOREFEATURELIST = 'get-more-feature-list'\n\n// 获取24H热门新闻\nexport const GET24HNEWSLIST = 'get-24h-news-list'\n","import { combineReducers } from 'redux'\nimport {\n    GETMORENEWS,\n    GETNEWSLIST,\n    GETHOTNEWS,\n    GETNEWSCHANNELID,\n    GETAUTHORINFO,\n    GETAUTHORLIST,\n    GETFEATURELIST,\n    GETMOREFEATURELIST,\n    GET24HNEWSLIST\n} from '../constants/news'\n\n/** @desc 新闻列表 */\nconst initNewsList = {\n    pageSize: 0,\n    recordCount: 0,\n    currentPage: 0,\n    pageCount: 0,\n    currentTime: 0,\n    inforList: []\n}\nconst newsList = (state = initNewsList, action) => {\n    switch (action.type) {\n        case GETNEWSLIST:\n            return { ...state, ...action.data }\n        case GETMORENEWS:\n            const newsList = action.data.inforList\n            if (newsList.length !== 0) {\n                const newNewsList = state.inforList.concat(action.data.inforList)\n                return { ...action.data, inforList: newNewsList }\n            } else {\n                return state\n            }\n        default:\n            return state\n    }\n}\n\n/** @desc 新闻导航channelId */\nconst initStateChannelId = []\nconst newsChannelId = (state = initStateChannelId, action) => {\n    switch (action.type) {\n        case GETNEWSCHANNELID:\n            let newsChannelId = action.data\n            newsChannelId.unshift({\n                id: 100,\n                channelId: 0,\n                channelName: '头条',\n                rank: 20,\n                updateTime: '',\n                createTime: ''\n            })\n            return newsChannelId\n        default:\n            return state\n    }\n}\n\n/** @desc 热门新闻 */\nconst initHotNewsList = {\n    inforList: []\n}\nconst hotNewsList = (state = initHotNewsList, action) => {\n    switch (action.type) {\n        case GETHOTNEWS:\n            return action.data\n        default:\n            return state\n    }\n}\n\n/** @desc 24H热门新闻 */\nconst initHotNews24HList = {\n    inforList: []\n}\nconst hot24HNewsList = (state = initHotNews24HList, action) => {\n    switch (action.type) {\n        case GET24HNEWSLIST:\n            return action.data\n        default:\n            return state\n    }\n}\n\n/** @desc 作者信息 */\nconst initStateAuthor = {\n    authorInfo: {\n        newsCount: 0,\n        followCount: 0,\n        totalReadCounts: 0,\n        infolist: [],\n        ifCollect: 0,\n        passportId: '',\n        nickName: '',\n        iconUrl: '',\n        introduce: '',\n        vGrade: 0\n    },\n    authorList: {\n        inforList: []\n    }\n}\n\nconst author = (state = initStateAuthor, action) => {\n    switch (action.type) {\n        case GETAUTHORINFO:\n            return { ...state, authorInfo: action.data }\n        case GETAUTHORLIST:\n            return { ...state, authorList: action.data }\n        default:\n            return state\n    }\n}\n\n/** @desc 专题列表 */\nconst initFeatureList = {\n    pageSize: 0,\n    recordCount: 0,\n    currentPage: 0,\n    pageCount: 0,\n    inforList: []\n}\nconst featureList = (state = initFeatureList, action) => {\n    switch (action.type) {\n        case GETFEATURELIST:\n            return action.data\n        case GETMOREFEATURELIST:\n            let obj = action.data\n            obj.inforList = state.inforList.concat(action.data.inforList)\n            return obj\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    newsList,\n    hotNewsList,\n    newsChannelId,\n    author,\n    featureList,\n    hot24HNewsList\n})\n","// 获取涨跌幅数据\nexport const GETRISEDROPDATA = 'get-rise-drop-data'\n// 获取搜索行情数据\nexport const GETSEARCHMARKETDATA = 'get-search-market-data'\n","import { combineReducers } from 'redux'\nimport { GETRISEDROPDATA, GETSEARCHMARKETDATA } from '../constants/market'\n\n/** @desc 行情涨跌幅 */\nconst initRiseDrop = {\n    pageSize: 0,\n    recordCount: 0,\n    currentPage: 1,\n    pageNum: 0,\n    inforList: []\n}\nconst riseDrop = (state = initRiseDrop, action) => {\n    switch (action.type) {\n        case GETRISEDROPDATA:\n            return action.data\n        case GETSEARCHMARKETDATA:\n            return action.data\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    riseDrop\n})\n","// 获取用户信息\nexport const GETUSERINFO = 'get-user-info'\n\n// 登录框显示状态\nexport const LOGINSTATE = 'login-state'\n\n// 昵称框显示状态\nexport const RENAMESTATE = 'rename-state'\n","import {\n    GETUSERINFO,\n    LOGINSTATE,\n    RENAMESTATE\n} from '../constants/login'\n\nconst initState = {\n    userInfo: {\n        isLogin: false,\n        info: {\n            nickName: null,\n            passportId: null,\n            iconUrl: null,\n            realAuth: null,\n            faceAuth: null,\n            intro: null,\n            token: null,\n            phone: null\n        }\n    },\n    userState: {\n        loginType: 'account', // account账号登录,sms短信登录,register注册,retrievePassword找回密码,wechat微信登录,bind绑定账号\n        loginShow: false,\n        renameShow: false // 昵称弹窗\n    }\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETUSERINFO:\n            return { ...state, userInfo: action.data }\n        case LOGINSTATE:\n            return { ...state, userState: action.data }\n        case RENAMESTATE:\n            return { ...state, userState: action.data }\n        default:\n            return state\n    }\n}\n","// 获取头部导航栏内容\nexport const HEADERCHANNELS = 'header-channels'\n","import { HEADERCHANNELS } from '../constants/header'\nimport { mixUrl } from '../../public'\n\nconst navData = [\n    { channelName: '头条', channelId: '0', url: mixUrl.m() },\n    { channelName: '快讯', channelId: '100', url: mixUrl.m(`/flash`) },\n    { channelName: '视频', channelId: '200', url: mixUrl.m(`/video`) },\n    { channelName: '活动', channelId: '300', url: mixUrl.m(`/huodong`) },\n    { channelName: '专题', channelId: '500', url: mixUrl.m('/feature') }\n]\n\nconst initState = {\n    channelsList: []\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case HEADERCHANNELS:\n            return { ...state, channelsList: navData.concat(action.data) }\n        default:\n            return state\n    }\n}\n","// 获取首页 7x24H 快讯\nexport const GETSHOWLIVESLIST = 'get-show-lives-list'\n// 获取首页项目动态(潜伏日历)\nexport const GETCALENDARLIST = 'get-calendar-list'\n// 获取首页推荐直播列表\nexport const GETHOOMROOMLIVERECOMMENDLIST = 'get-hoom-room-live-recommend-list'\n// 获取首页直播分类列表\nexport const GETHOOMROOMLIVETYPELISTOBJDATA = 'get-hoom-room-live-type-list-objdata'\n// 获取首页直播列表\nexport const GETHOOMROOMLIVELIST = 'get-hoom-room-live-list'\n// 是否显示实名验证弹窗\nexport const HOMELIVEVERIFYPOPUPSHOW = 'home-live-verify-popup-show'\n","import {\n    GETSHOWLIVESLIST,\n    GETCALENDARLIST,\n    GETHOOMROOMLIVERECOMMENDLIST,\n    GETHOOMROOMLIVELIST,\n    HOMELIVEVERIFYPOPUPSHOW\n} from '../constants/home'\nimport { mixUrl } from '../../public/index'\n\nconst initState = {\n    // 7x24H 快讯\n    showlivesData: [],\n    // 项目动态(潜伏日历)\n    calendarData: [],\n\n    // 弹窗状态\n    popupState: {\n        liveVerify: false // 创建直播实名验证弹窗\n    },\n\n    /* ----------- 临时添加，右侧推荐直播列表 ---------- */\n    roomLiveRecommendList: {\n        pageSize: 1,\n        recordCount: 1,\n        currentPage: 1,\n        pageCount: 1,\n        inforList: []\n    },\n    roomLiveTypeListObjData: {},\n    roomLiveList: []\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETSHOWLIVESLIST:\n            let liveList = action.data.inforList\n            liveList.map((item) => {\n                if (!item.content) return\n                let startIndex = item.content.indexOf('【') === -1 ? 0 : item.content.indexOf('【') + 1\n                let endIndex = item.content.indexOf('】') === -1 ? 0 : item.content.indexOf('】')\n                item.title = item.content.substring(startIndex, endIndex)\n                item.url = mixUrl.news(`/flash/${item.id}.html`)\n            })\n\n            return { ...state, showlivesData: liveList }\n        case GETCALENDARLIST:\n            return { ...state, calendarData: action.data }\n        case HOMELIVEVERIFYPOPUPSHOW:\n            return { ...state, popupState: action.data }\n        /* ----------- 临时添加，右侧推荐直播列表 ---------- */\n        case GETHOOMROOMLIVELIST:\n            return { ...state, roomLiveList: action.data }\n        case GETHOOMROOMLIVERECOMMENDLIST:\n            let recommendListData = action.data\n            if (action.data.currentPage > 1) {\n                recommendListData.inforList.concat(action.data.inforList)\n                return { ...state, roomLiveRecommendList: recommendListData }\n            } else {\n                return { ...state, roomLiveRecommendList: recommendListData }\n            }\n        default:\n            return state\n    }\n}\n","// 首页右侧直播间人气列表（用来请求列表的人气数据）\nexport const GETRIGHTLIVEPOPULARITYLIST = 'get-right-live-popularity-list'\n","import {\n    GETRIGHTLIVEPOPULARITYLIST\n} from '../constants/live'\n\nconst initState = {\n    // 右侧人气列表\n    roomLivePopularityList: []\n}\n\nexport default (state = initState, action) => {\n    switch (action.type) {\n        case GETRIGHTLIVEPOPULARITYLIST:\n            return { ...state, roomLivePopularityList: action.data }\n        default:\n            return state\n    }\n}\n","// action错误处理\nexport const ACTIONERROR = 'action-error'\n\n// 获取友情链接\nexport const GETFRIENDLYLINKS = 'get-friendly-links'\n\n// 获取合作伙伴\nexport const GETPARTNERLINKS = 'get-partner-links'\n\n// 获取广告\nexport const GETAD = 'get-ad'\n\n// 获取嵌入广告\nexport const GETADIMPLANT = 'get-ad-implant'\n\n// 统计事件上报\nexport const GATHERPUSH = 'gather-push'\n","import { combineReducers } from 'redux'\nimport Cookies from 'js-cookie'\n\nimport { uuidDiy, cookiesName } from '../../public/index'\nimport comment from './comment'\nimport flash from './flash'\nimport news from './news'\nimport market from './market'\nimport login from './login'\nimport header from './header'\nimport home from './home'\nimport live from './live'\n\nimport {\n    GETFRIENDLYLINKS,\n    GETPARTNERLINKS,\n    GETAD,\n    GETADIMPLANT,\n    GATHERPUSH\n} from '../constants/public'\n\n/** @desc 尾部合作伙伴，友情链接 */\nconst initStateFooter = {\n    partner: [],\n    friendly: []\n}\nconst footer = (state = initStateFooter, action) => {\n    switch (action.type) {\n        case GETPARTNERLINKS:\n            return { ...state, partner: action.data }\n        case GETFRIENDLYLINKS:\n            return { ...state, friendly: action.data }\n        default:\n            return state\n    }\n}\n\n/** @desc 广告 */\nconst initStateAd = {}\nconst adData = (state = initStateAd, action) => {\n    switch (action.type) {\n        case GETAD:\n            return action.data\n        default:\n            return state\n    }\n}\n\n/** @desc 嵌入广告 */\nconst adImplantData = {}\nconst adImplant = (state = adImplantData, action) => {\n    switch (action.type) {\n        case GETADIMPLANT:\n            return action.data\n        default:\n            return state\n    }\n}\n\n/** @desc 统计上报 */\nconst gatherData = []\nconst gather = (state = gatherData, action) => {\n    switch (action.type) {\n        case GATHERPUSH:\n            const preTraceId = Cookies.get(cookiesName.traceId)\n            const traceId = uuidDiy(32, 16)\n            Cookies.set(cookiesName.traceId, traceId)\n\n            let deviceId = Cookies.get(cookiesName.deviceId)\n            if (!deviceId) {\n                deviceId = uuidDiy()\n                Cookies.set(cookiesName.deviceId, deviceId)\n            }\n\n            const reportData = {\n                trace_id: traceId,\n                pre_trace_id: preTraceId,\n                device_type: 'web',\n                device_id: deviceId,\n                event_type: action.data && action.data.eventType,\n                timestamp: parseInt(new Date().getTime() / 1000),\n                event_info: action.data && action.data.eventInfo\n            }\n\n            const userId = Cookies.get(cookiesName.passportId)\n            if (userId) reportData['user_id'] = userId\n\n            const userName = Cookies.get(cookiesName.nickName)\n            if (userName) reportData['user_name'] = userName\n\n            state.push(reportData)\n            return [...state]\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    login,\n    footer,\n    adData,\n    market,\n    flash,\n    comment,\n    news,\n    adImplant,\n    header,\n    home,\n    live,\n    gather\n})\n","import { combineReducers } from 'redux'\n\nimport news from './news'\nimport author from './author'\nimport flash from './flash'\nimport noticeDetail from './noticeDetail'\nimport notice from './notice'\nimport multi from 'multiRedux/reducers/public'\n\nexport default combineReducers(Object.assign({\n    news,\n    author,\n    flash,\n    noticeDetail,\n    notice,\n    multi\n}))\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from '../../assets/redux/reducers/rootReducer'\n\nimport { ACTIONERROR } from 'multiRedux/constants/public'\n\nconst errorHandle = store => next => action => {\n    if (action.type === ACTIONERROR) {\n        return store.getState()\n    } else {\n        return next(action)\n    }\n}\n\nexport default () => {\n    return createStore(rootReducer, {}, compose(applyMiddleware(thunk, errorHandle)))\n}\n","import path from 'path'\nimport React from 'react'\n// import { renderToNodeStream } from 'react-dom/server'\nimport { renderToString } from 'react-dom/server'\nimport { StaticRouter, matchPath } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { matchRoutes } from 'react-router-config'\nimport { ChunkExtractor } from '@loadable/server'\nimport { I18nextProvider } from 'react-i18next'\nimport Cookies from 'js-cookie'\n\n// import { getUserInfo } from 'multiRedux/actions/login'\n// import { getFooterData } from 'multiRedux/actions/public'\nimport { isPc, isWechat, mixUrl, isJson, naGacom, isMarsbitco, isMarsbitcc, isMarstelegram, isMarsshare, isMarsbitinfo, cookiesName } from 'multiPublic/index'\nimport layout from './layout'\nimport layoutM from './layout-m'\nimport serverStore from './store'\nimport configServer from '../../config/config-server'\nimport { replaceDomain } from '../../_multiappsharing/public'\n\n/**\n * @Desc 匹配当前请求url是否跟客户端路由一致 不一致则执行next 进行静态资源处理等\n * @param {url, routesParam}\n */\nconst urlMatch = (url, routesParam) => {\n    let isExit = false\n    const hasKey = (arr) => {\n        for (let val of arr) {\n            let hasPath = null\n            if (val.path) {\n                const params = {}\n                params.path = val.path\n                if (val.exact) params.exact = val.exact\n                if (val.strict) params.strict = val.strict\n                hasPath = matchPath(url, params)\n            }\n\n            const isObj = Object.prototype.toString.call(hasPath) === '[object Object]'\n            if (isObj) {\n                isExit = true\n                return true\n            }\n            if (val.routes && !isObj) {\n                hasKey(val.routes)\n            }\n        }\n    }\n    hasKey(routesParam)\n    return isExit\n}\n\n/**\n * @Desc 服务端渲染\n */\nconst devEnv = process.env.NODE_ENV === 'development'\nconst rootPath = path.join(__dirname).split('server')[0]\nconst stasFileFolder = devEnv ? '_dist' : 'build'\nconst nodeStats = path.join(`${rootPath}server/${stasFileFolder}/loadable-stats.json`)\nconst webStats = path.join(`${rootPath}static/${stasFileFolder}/loadable-stats.json`)\n\nexport default async (req, res, next) => {\n    /**  生成服务端extractor */\n    const extractorParams = { statsFile: nodeStats, entrypoints: ['App'] }\n    if (!devEnv) extractorParams.outputPath = configServer.loadableStatsOutputPath\n    const nodeExtractor = new ChunkExtractor(extractorParams)\n    const { default: App } = nodeExtractor.requireEntrypoint()\n    const routes = App.routes().routes\n    const routesM = App.routes().routesM\n    const ErrorPage = App.ErrorPage\n\n    /**  生成客户端extractor */\n    const webExtractor = new ChunkExtractor({ statsFile: webStats, entrypoints: ['index'] })\n\n    let lang = req.language\n    let domain = ''\n    const env = process.env.NODE_ENV\n    if (env === 'production') {\n      if (req.hostname.includes('marstelegram.com')) {\n        domain = 'marstelegram.com'\n      }\n      if (req.hostname.includes('marsbit.cc')) {\n        domain = 'marsbit.cc'\n      }\n      if (req.hostname.includes('marsbit.co')) {\n        domain = 'marsbit.co'\n      }\n    }\n    if (env === 'test') domain = 'marslib.com'\n    if (req.cookies[cookiesName.language]) {\n      lang = req.cookies[cookiesName.language]\n    } else {\n        Cookies.set(cookiesName.language, lang, { domain: domain })\n    }\n    const quermlist = req.url.split('=')\n    if (quermlist && quermlist[1]) {\n      console.log(quermlist[1])\n      req.language = quermlist[1]\n      lang = quermlist[1]\n      Cookies.set(cookiesName.language, quermlist[1], { domain: domain })\n    }\n    req.i18n.changeLanguage(lang)\n\n    let platform = 'pc'\n    if (devEnv) {\n        if (!isPc(req)) platform = 'mob'\n    } else {\n        const mhostlist = ['m.marstelegram.com', 'm.marsbit.cc', 'm.marsshare.cc', 'marsbit.info']\n        if (req.hostname === mixUrl.m().split('://')[1] || (mhostlist.indexOf(req.hostname) > -1)) platform = 'mob'\n    }\n    // const routesParam = platform === 'pc' ? routes : routesM\n    /** 生成默认数据与路由匹配 */\n    // 可通过此参数传递给routes做逻辑判断：Tips：browser/index.js存在同样逻辑\n    const routesParams = {\n        isnaGacom: naGacom(req)\n    }\n    const routesLast = platform === 'pc' ? routes(routesParams) : routesM(routesParams)\n\n    const isMatch = urlMatch(req.path, routesLast)\n    if (!isMatch) {\n        await next()\n    } else {\n        /**  生成默认数据与路由匹配 */\n        const store = serverStore()\n        const branch = matchRoutes(routesLast, req.path)\n        const promises = branch.map(({ route, match }) => {\n            const getInitialProps = route.component.getInitialProps\n            return getInitialProps instanceof Function ? getInitialProps({\n                req,\n                res,\n                match,\n                store,\n                isServer: true\n            }) : Promise.resolve(null)\n        })\n\n        /** @desc 用户信息设置\n        * 由于CDN之后CDN页面缓存了initailState，路由有可能不走node，故登录完之后界面不能显示登录信息，甚至出现别人的登录信息\n        * 由于可能出现的server与client不match问题，jsx中不要直接Cookies.get()\n        * 统一登录信息cookie入口放在redux中好处是[1:以后若有需求更新cookie名称，只需要更新统一设置与获取处; 2:由于是redux更新不会存在上面的match问题]\n        * 2019-12-4设置用户信息[文件有:server/render.js, browser/AppWrapper.js]\n        * */\n        /* promises.push(\n            store.dispatch(getUserInfo({\n                nickName: req.cookies[cookiesName.nickName],\n                passportId: req.cookies[cookiesName.passportId],\n                iconUrl: req.cookies[cookiesName.iconUrl],\n                realAuth: req.cookies[cookiesName.realAuth],\n                intro: req.cookies[cookiesName.intro],\n                token: req.cookies[cookiesName.token],\n                phone: req.cookies[cookiesName.phone]\n            }))\n        ) */\n\n        let apiErr = null\n        // 默认数据请求\n        let initProps = {}\n        await Promise.all(promises).then((res) => {\n            // console.log(res)\n            res.map((item) => {\n                const isObj = Object.prototype.toString.call(item) === '[object Object]' // 排除undefined，null等\n                const notGetUserInfo = isObj && (!item.hasOwnProperty('type') || item.type !== 'get-user-info') && !item.hasOwnProperty('data') // 排除获取用户登录信息actions返回\n                if (notGetUserInfo) {\n                    initProps = Object.assign(initProps, item)\n                }\n            })\n        }).catch((err) => {\n            apiErr = err\n        })\n\n        // 如果当前页面只有pc或者只有移动端。通过域名或者请求已经判断为移动或pc，但当前pages中返回clientLink是否只有移动或pc。由此pc或移动返回同样内容\n        // 线上通过是否包含m.huoxing24.com/m.marslib.com判断是否为移动端。本地通过process.env.NODE_ENV判断\n        // clientLink若为跳转mixUrl，开发环境都不跳转,为服务端正常判断加载页面。\n        // clientLink若为onlyMob/onlyPc变现跟线上一致\n        /** @desc clienLink\n         * 1: pages-m没有对应页面----pc打开移动端的地址m.huoxing24.com\n         * 注：在routes/index.js中配置路由并加载pages-m对应的组件\n         * onlymob显示跟移动端一模一样\n         * minUrl.main()/mixUrl.news()跳转到pc对应地址\n         * 2: pages没有对应页面----m端打开pc的地址www.huoxing24.com+news.huoxing24.com+token.huoxing24.com。\n         * 注：在routes/index-m.js中配置路由并加载pages中对应的组件\n         * onlypc显示跟pc端一模一样\n         * mixUrl.m()跳转到m对应地址\n         * 3: pages-m与pages都有对应页面，不共用地址[cdn缓存]。只是线上有cdn后端不能判断，转为前端跳转。路由与参数一致，只是域名不同。移动端为m.huoxing24.com，pc端为news.huoxing24.com/www.huoxing24.com/token.huoxing24.com\n         * 注：routes/index.js加载pages组件，routes/index-m.js加载pages-m组件[同4]\n         * pages-m中填写pc对应的地址mixUrl.news/mixUrl.main\n         * pages中填写m对应的地址mixUrl.m\n         * 4: pages-m与pages都有对应页面，且共用一个地址[cdn不缓存]。www.huoxing24.com+news.huoxing24.com+token.huoxing24.com。\n         * 注：routes/index.js加载pages组件，routes/index-m.js加载pages-m组件[同3]\n         * sameUrl--由于线上使用域名判断是否为pc或mob，故若pc与mob使用同于域名地址[不加cdn]，在此需要重新再用clientLink重新判断一次。eg: http://www.cryptoquanter.com/\n         * */\n        const { clientLink } = initProps\n        if (clientLink) {\n            if (platform === 'mob' && clientLink === 'onlyPc') platform = 'pc'\n            if (platform === 'pc' && clientLink === 'onlyMob') platform = 'mob'\n            if (clientLink === 'sameUrl') { // 线上已通过域名判断，若不加CDN，node能获取到UA，在此转换到通过UA判断。并且不用跳转clientLink设置为undefined\n                initProps.clientLink = undefined\n                if (!isPc(req)) {\n                    platform = 'mob'\n                } else {\n                    platform = 'pc'\n                }\n            }\n        }\n\n        // platform === 'pc' &&\n        // await store\n        //     .dispatch(getFooterData())\n        //     .catch(function (err) {\n        //         apiErr = err\n        //     })\n\n        const errReport = (err) => {\n            if (!(err instanceof Error)) return\n            const errMsg = err.message.replace(/Error: /g, '')\n            if (isJson(errMsg)) {\n                res.logger.error({\n                    ...JSON.parse(errMsg),\n                    stack: err.stack\n                })\n            } else {\n                res.logger.error({\n                    message: errMsg,\n                    stack: err.stack\n                })\n            }\n            return errMsg\n        }\n        // apiErr 请求错误,打印日志\n        if (apiErr) errReport(apiErr)\n\n        /** 利用extractor生成主要jsx内容 */\n        let jsx = null\n        let html = ''\n\n        let errObjProps = null\n        try {\n            /** 当前没有错误情况下才开始尝试渲染正式App */\n            jsx = webExtractor.collectChunks(<Provider store={store}>\n                <StaticRouter\n                    location={req.originalUrl}\n                    context={{}}>\n                      <I18nextProvider i18n={req.i18n}>\n                        <App platform={platform} {...initProps} routesParams={routesParams}/>\n                      </I18nextProvider>\n                </StaticRouter>\n            </Provider>)\n\n            /** 建立stream渲染中部 */\n            // const stream = renderToNodeStream(jsx)\n            html = renderToString(jsx)\n        } catch (err) {\n            /** 错误组件渲染\n             * 如果node程序或者不是react程序报错则使用express的errorHandle，也就是404页面\n             * 如果是react组件报错则使用此错误处理组件\n             * 如果是此错误组件出错则也使用express的errorHandle\n             * */\n            errObjProps = {\n                platform: platform,\n                message: 'unknown error',\n                stack: 'unknown stack'\n            }\n            if (err instanceof Error) {\n                const errMsg = errReport(err)\n\n                errObjProps = {\n                    ...errObjProps,\n                    message: errMsg,\n                    stack: err.stack\n                }\n            }\n\n            jsx = webExtractor.collectChunks(<Provider store={store}>\n              <I18nextProvider i18n={req.i18n}>\n                <StaticRouter\n                    location={req.originalUrl}\n                    context={{}}>\n                    <ErrorPage {...errObjProps} />\n                </StaticRouter>\n              </I18nextProvider>\n            </Provider>)\n            html = renderToString(jsx)\n        }\n\n        /** 利用extractor获取js+css，并生成html骨架，并渲染头部 */\n        let scripts = ''\n        const links = webExtractor.getLinkTags()\n        const styles = webExtractor.getStyleTags()\n        if (devEnv) {\n            // 开发环境静态资源在另外一个端口需要添加crossorigin属性\n            const scriptCreate = (item) => {\n                let scriptsStr = `<script `\n                let scriptsStrEnd = `crossorigin></script>`\n                Object.keys(item.props).map(function (key, index) {\n                    if (key === 'dangerouslySetInnerHTML') {\n                        scriptsStrEnd = `crossorigin>${item.props[key]['__html']}</script>`\n                    } else {\n                        scriptsStr += `${key}=\"${item.props[key]}\" `\n                    }\n                })\n                scripts += scriptsStr + scriptsStrEnd\n            }\n            webExtractor.getScriptElements().map(function (item, index) {\n                if (Array.isArray(item)) {\n                    item.map(function (itemIn, indexIn) {\n                        scriptCreate(itemIn)\n                    })\n                } else {\n                    scriptCreate(item)\n                }\n            })\n        } else {\n            scripts = webExtractor.getScriptTags()\n        }\n\n        // 获取redux默认state\n        const initState = store.getState()\n        const isWx = isWechat(req)\n        const isNagalink = req.hostname\n        const isMarslibco = isMarsbitco(req)\n        const isMarslibcc = isMarsbitcc(req)\n        const isMarsgram = isMarstelegram(req)\n        const isnewMarsshare = isMarsshare(req)\n        const isMarsbitinfolink = isMarsbitinfo(req)\n        const layoutParams = { initState, initProps, styles, scripts, links, platform, isWx, errObjProps, isNagalink, isMarslibco, isMarslibcc, isMarsgram, isnewMarsshare, isMarsbitinfolink }\n        let htmlTemplate = ''\n        if (platform === 'pc') {\n            htmlTemplate = layout(layoutParams)\n        } else {\n            htmlTemplate = layoutM(layoutParams)\n        }\n\n        /** getInitialProps中返回customRes=true时，不使用这里的res.send，执行其中的res调用 */\n        // 2021-11-26 huoxing24.com域名备灾临时代码\n        let lastHtmlStr = htmlTemplate.header + html + htmlTemplate.footer\n        !initProps.customRes && res.send(replaceDomain(lastHtmlStr, req))\n\n        // res.write(htmlTemplate.header)\n        //\n        // stream.pipe(res, { end: false })\n        //\n        // /** stream完成后渲染尾部 */\n        // stream.on('end', () =>\n        //     res.end(htmlTemplate.footer)\n        // )\n    }\n}\n\n// 2021-11-26 huoxing24.com域名备灾临时代码 -----> 搜索此注释所有备灾代码都有\n// 1: ajaxAxios -----> 接口请求域名api.huoxing24.com(前端由代码判断，后端直接请求专有Ip)\n// 2: ajaxAxios -----> 接口返回的Data(前端由代码判断，后端在render.js中最后组合的html字符串中判断)\n// 3: mixUrl -----> 返回域.com替换(前端由代码判断，后端在render.js中最后组合的html字符串中判断)\n// 4: render.js -----> 服务端渲染(替换html字符串中.com为.cn，替换store中.com为.cn ====> 最终res.send中替换)\n// 5: 其它写死的www/news.huoxing24.com ----> 编辑器全局替换为mixUrl\n","import Router from 'express-promise-router'\nimport https from 'https'\nimport render from '../render/render'\n\nimport { mixUrl } from 'multiPublic/index'\nimport TLSSigAPIv2 from './imLive/TLSSigAPIv2'\n\nconst router = new Router()\n\nrouter.get('*', render)\n\nrouter.get('/newsdetailShare/:newsId', async function (req, res, next) {\n    res.redirect(301, mixUrl.news(`/${req.params.newsId}`))\n})\n\nrouter.get('/authorCenter/:authorId', async function (req, res, next) {\n    res.redirect(301, mixUrl.m(`/authorCenter/${req.params.authorId}`))\n})\n\nrouter.get('/news/:useTypeId', async function (req, res, next) {\n    res.redirect(301, mixUrl.news(`/list/${req.params.useTypeId}`))\n})\n\nrouter.get('/newsdetail/:newsId', async function (req, res, next) {\n    res.redirect(301, mixUrl.news(`/${req.params.newsId}`))\n})\n\nrouter.get('/imlive/list', async function (req, res, next) {\n    res.redirect(301, mixUrl.main(`/live`))\n})\n\nrouter.get(['/imlive/detail/:liveId', '/live:liveId'], async function (req, res, next) {\n    res.redirect(301, mixUrl.main(`/live/${req.params.liveId}`))\n})\n\nrouter.get('/imlive/recommendlist', async function (req, res, next) {\n    res.redirect(301, mixUrl.main(`/live/recommend`))\n})\n\n// router.get('/liveNewsDetail/:flashId', async function (req, res, next) {\n//     res.redirect(301, mixUrl.news(`/flash/${req.params.flashId}`))\n// })\n\n// im-user-sig\nrouter.get('/imusersig/:userId', async function (req, res, next) {\n    const imSdkAppId = 1400383128\n    const imSecretKey = '734e752d070bafe347a9831a18c451877273dc675b9a41b2c72fa2c89f93d3a7'\n    const api = new TLSSigAPIv2.Api(imSdkAppId, imSecretKey)\n    const sig = api.genUserSig(req.params.userId, 86400 * 180)\n    res.send({ code: 1, msg: 'sig success', data: sig })\n\n    // var sig = api.genPrivateMapKey('xiaojun', 86400 * 180, 10000, 255)\n    // console.log('sig with userbuf ' + sig)\n    // var sig = api.genPrivateMapKeyWithStringRoomID('xiaojun', 86400 * 180, '1000000040', 255)\n})\n\nrouter.get('/format', function (req, res, next) {\n    let { imgUrl } = req.query\n\n    let getImgP = (url) => new Promise((resolve, reject) => {\n        let chunks = []\n        let size = 0\n\n        https.get(url, function (res) {\n            if (!res) {\n                reject(res)\n                return\n            }\n            res.on('data', function (chunk) {\n                chunks.push(chunk)\n                size += chunk.length\n            })\n            res.on('end', function (err) {\n                console.log(err)\n                let data = Buffer.concat(chunks, size)\n                let base64Img = data.toString('base64')\n                resolve(base64Img)\n            })\n        })\n    })\n\n    getImgP(imgUrl).then((data) => {\n        res.send(JSON.stringify({ imgUrl: `data:image/jpeg;base64,${data}` }))\n    }).catch(() => {\n        res.send(JSON.stringify({ imgUrl: '' }))\n    })\n})\n\nrouter.get('/test', async function (req, res, next) {\n    const test = await new Promise(function (resolve, reject) {\n        resolve({ name: 'test' })\n    })\n\n    console.log(test)\n    res.send(test)\n})\n\nexport default router\n","import Router from 'express-promise-router'\n\nconst router = new Router()\n\nrouter.get('/', async function (req, res, next) {\n    res.send('respond with a resource')\n})\n\nexport default router\n","const createNonceStr = function () {\n    return Math.random().toString(36).substr(2, 15)\n}\n\nconst createTimestamp = function () {\n    return parseInt(new Date().getTime() / 1000) + ''\n}\n\nconst raw = function (args) {\n    let keys = Object.keys(args)\n    keys = keys.sort()\n    let newArgs = {}\n    keys.forEach(function (key) {\n        newArgs[key.toLowerCase()] = args[key]\n    })\n\n    let string = ''\n    for (let k in newArgs) {\n        string += '&' + k + '=' + newArgs[k]\n    }\n    string = string.substr(1)\n    return string\n}\n\n/**\n * @synopsis 签名算法\n *\n * @param jsapi_ticket 用于签名的 jsapi_ticket\n * @param url 用于签名的 url ，注意必须动态获取，不能 hardcode\n *\n * @returns\n */\nconst sign = function (jsapiTicket, url) {\n    let ret = {\n        jsapi_ticket: jsapiTicket,\n        nonceStr: createNonceStr(),\n        timestamp: createTimestamp(),\n        url: url\n    }\n    let string = raw(ret)\n    const JsSHA = require('jssha')\n    const shaObj = new JsSHA(string, 'TEXT')\n    ret.signature = shaObj.getHash('SHA-1', 'HEX')\n\n    return ret\n}\n\nexport default sign\n","import redis from 'redis'\nimport { redisIp, redisPsd } from '../../../config/config-server'\n\nconst redisServerIP = redisIp\nconst redisServerPort = '6379'\nconst redisPassword = redisPsd\n\nconst setupRedis = () => {\n    const client = redis.createClient(redisServerPort, redisServerIP)\n    client.auth(redisPassword)\n    client.on('error', function (error) {\n        console.log('RedisServer is error!\\n' + error)\n    })\n    client.on('connect', function () {\n        console.log('RedisServer is connected!')\n    })\n    client.on('end', function () {\n        console.log('RedisServer is end!')\n    })\n    client.select('15', function (error) {\n        if (error) console.log(error)\n        console.log('RedisServer is connected 15!')\n    })\n    return client\n}\n\nexport default setupRedis\n","import { promisify } from 'util'\nimport express from 'express'\nimport request from 'request'\n\nimport sign from './signture/sign'\nimport clientDB from './signture/client'\n\nconst router = express.Router()\nconst client = clientDB()\n\nconst getAsync = promisify(client.get).bind(client) // 获取当个值\nconst setAsync = promisify(client.set).bind(client) // 设置单个值\nconst hmsetAsync = promisify(client.hmset).bind(client) // 设置多个值，以json形式\nconst hgetallAsync = promisify(client.hgetall).bind(client) // 获取多个值，以json形式\n\n// 用户名：lineJoyce@sina.com 密码：linekong2018\nconst config = {\n    appID: 'wx0ed2ac0b34184652',\n    appSecret: 'a99c38fbea57fb8ba669d6cda2354788'\n}\n\n// accessToken与jsApiTickets过期时间\nconst deadTime = 2 * 60 * 60 * 1000\n\n/** 请求获取access_token */\nconst tokenUrl = 'https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=' + config.appID + '&secret=' + config.appSecret\nconst getAccessToken = () => new Promise((resolve, reject) => {\n    request(tokenUrl, function (error, response, data) {\n        if (error) reject(new Error(`getAccessToken: ${error}`))\n\n        if (response && response.statusCode && response.statusCode === 200) {\n            const accessToken = JSON.parse(data).access_token\n            if (accessToken) {\n                resolve(accessToken)\n            } else {\n                reject(new Error(`getAccessToken: ${response.body}`))\n            }\n        } else {\n            reject(new Error(`getAccessToken: ${response.body}`))\n        }\n    })\n})\n\n/**\n * 请求获取Jsapi_Ticket\n * @param {* URL链接} hrefURL\n * @param {* token} accessToken\n */\nconst getJsapiTicket = (reqUrl, accessToken) => {\n    const ticketUrl = 'https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=' + accessToken + '&type=jsapi'\n    return new Promise((resolve, reject) => {\n        request(ticketUrl, function (error, response, data) {\n            if (error) reject(new Error(`getJsapiTicket: ${error}`))\n\n            if (response.statusCode && response.statusCode === 200) {\n                const content = JSON.parse(data)\n                if (!content) reject(new Error(`getJsapiTicket: ${response.body}`))\n\n                if (content.errcode === 0) {\n                    resolve(sign(content.ticket, reqUrl))\n                } else if (content.errcode === 40001) {\n                    resolve({ errcode: 40001, errmsg: 'invalid credential, access_token is invalid or not latest' })\n                } else {\n                    reject(new Error(`getJsapiTicket: ${response.body}`))\n                }\n            } else {\n                reject(new Error(`getJsapiTicket: ${response.body}`))\n            }\n        })\n    })\n}\n\nasync function getAndSetAccessToken () {\n    const token = await getAccessToken()\n    const access = {\n        'token': token,\n        'time': new Date().getTime()\n    }\n    await hmsetAsync('access', access)\n    return access\n}\n\nasync function dueClear (reqUrl) {\n    const access = await getAndSetAccessToken()\n    const ticketObj = await noDueVerify(access, reqUrl)\n    return ticketObj\n}\n\nasync function noDueVerify (access, reqUrl) {\n    const ticketsArrStr = await getAsync('tickets')\n    const ticketsArr = JSON.parse(ticketsArrStr)\n\n    // 如果tickets不存在redis中，请求ticket并存入\n    if (!ticketsArrStr || !Array.isArray(ticketsArr)) {\n        console.log('redis no tickets')\n        let ticketObj = await getJsapiTicket(reqUrl, access.token)\n        if (ticketObj.hasOwnProperty('errcode') && ticketObj.errcode === 40001) {\n            console.log('accessToken time live, but accessToken die')\n            // accessToken未到过期时间，但过期了重新请求\n            const newAccess = await getAndSetAccessToken()\n            ticketObj = await getJsapiTicket(reqUrl, newAccess.token)\n        }\n        await setAsync('tickets', JSON.stringify([ticketObj]))\n        return ticketObj\n    }\n\n    // 检测当前url是否之前获取过jsApiTicket\n    let ticketIndex = -1\n    let tempArr = ticketsArr.slice(0)\n    for (let key in ticketsArr) {\n        const ticketDie = parseInt(Date.parse(new Date()) / 1000) - parseInt(ticketsArr[key].timestamp) > deadTime / 1000\n        if (ticketDie) tempArr.splice(ticketIndex, 1) // 删除已过期的ticket\n        if (ticketsArr[key].url === reqUrl && !ticketDie) { // 未过期且是当前url，下一步重新获取\n            ticketIndex = key\n            break\n        }\n    }\n    if (ticketIndex === -1) { // 没获取过或已过期，去获取\n        console.log('no ticket or ticket die')\n        let ticketObj = await getJsapiTicket(reqUrl, access.token)\n        if (ticketObj.hasOwnProperty('errcode') && ticketObj.errcode === 40001) {\n            console.log('accessToken time live, but accessToken die')\n            // accessToken未到过期时间，但过期了重新请求\n            const newAccess = await getAndSetAccessToken()\n            ticketObj = await getJsapiTicket(reqUrl, newAccess.token)\n        }\n        tempArr.push(ticketObj)\n        await setAsync('tickets', JSON.stringify(tempArr))\n        return ticketObj\n    } else { // 获取过，直接返回之前信息\n        console.log('ticket live')\n        return ticketsArr[ticketIndex]\n    }\n}\n\nrouter.post('/', async function (req, res, next) {\n    const reqUrl = req.body.url\n    const access = await hgetallAsync('access')\n\n    if (access) { // 请求过access_token并且存储到redis\n        if (new Date().getTime() - parseInt(access.time) > deadTime) { // accessToken已過期\n            console.log('access die')\n            dueClear(reqUrl).then(function (data) {\n                res.json(data)\n            }).catch(function (err) {\n                res.status(404).send(err.message)\n            })\n        } else { // accessToken未過期\n            console.log('access live')\n            noDueVerify(access, reqUrl).then(function (data) {\n                res.json(data)\n            }).catch(function (err) {\n                res.status(404).send(err.message)\n            })\n        }\n    } else { // 未请求过access_token\n        console.log('no access')\n        dueClear(reqUrl).then(function (data) {\n            res.json(data)\n        }).catch(function (err) {\n            res.status(404).send(err.message)\n        })\n    }\n})\n\nexport default router\n","import Router from 'express-promise-router'\nimport { deepCompare } from 'multiPublic/index.js'\n\nconst router = new Router()\n\nlet logArr = []\nlet logPreTime = new Date().getTime() // 1秒内logArr中不存在的errObj才上报，防止强刷\nrouter.post('/', async function (req, res, next) {\n    try {\n        const { body, headers, cookies, ip } = req\n        const cookiesTmp = {}\n        Object.keys(cookies).map(function (key, index) { // 排除不必要的信息\n            const keyTrue = key.indexOf('Hm_lvt_') === -1 &&\n                key.indexOf('Hm_lpvt_') === -1 &&\n                key.indexOf('CNZZDATA') === -1 &&\n                key !== 'yp_riddler_id' &&\n                key !== 'UM_distinctid'\n            if (keyTrue) {\n                cookiesTmp[key] = cookies[key]\n            }\n        })\n        const logObj = {\n            ...body,\n            ip: ip,\n            userAgent: headers['user-agent'],\n            cookies: cookiesTmp\n        }\n        const logCurTime = new Date().getTime()\n        const logPrint = () => {\n            if (body.framework) { // 如果框架自动打印包含framework字段\n                delete logObj.framework\n                switch (logObj.message) {\n                    case 'client-api-msg':\n                    case 'client-api-err':\n                        res.logger.warn({ ...logObj })\n                        break\n                    case 'client-app-err':\n                    case 'client-app-err-react':\n                    case 'client-app-err-window':\n                    case 'client-ajax-handle-err':\n                        res.logger.error({ ...logObj })\n                        break\n                    default:\n                        res.logger.info({ ...logObj })\n                }\n            } else { // 打印前端自定义日志\n                if (body.level) {\n                    const level = body.level\n                    delete body.level\n                    res.logger[level]({ ...body, message: `client: ${body.message || 'browser'}` })\n                } else {\n                    res.logger.info({ ...body, message: `client: ${body.message || 'browser'}` })\n                }\n            }\n        }\n        if (logCurTime - logPreTime >= 1000 && logArr.length !== 0) {\n            logArr = []\n            logArr.push(logObj)\n            logPreTime = logCurTime\n            logPrint()\n        } else {\n            const hasLogObj = () => {\n                for (let val of logArr) {\n                    if (deepCompare(val, logObj)) {\n                        return true\n                    }\n                }\n                return false\n            }\n            if (logArr.length !== 0 && hasLogObj()) return\n            logArr.push(logObj)\n            logPrint()\n        }\n        res.send({\n            code: 1,\n            msg: 'Log reported successfully'\n        })\n    } catch (err) {\n        res.send({\n            code: -1,\n            msg: err.message\n        })\n    }\n})\n\nexport default router\n","import index from './index'\nimport users from './users'\nimport signture from './signture'\nimport logger from './logger'\n\nexport default (app) => {\n    app.use('/', index)\n    app.use('/users', users)\n    app.use('/signture', signture)\n    app.use('/logger', logger)\n}\n","import zh from './zh-cn.json'\r\nimport tw from './zh-tw.json'\r\n\r\nexport default {\r\n    'zh-cn': {\r\n        translation: zh\r\n    },\r\n    'zh-tw': {\r\n        translation: tw\r\n    }\r\n}\r\n","import i18next from 'i18next'\nimport i18nMiddleware, { LanguageDetector } from 'i18next-express-middleware'\nimport Backend from 'i18next-node-fs-backend'\nimport resources from '../../_multiappsharing/public/i18n'\n\nexport default (app) => {\n    i18next\n        .use(Backend)\n        .use(LanguageDetector)\n        .init({\n            react: {\n                useSuspense: false\n            },\n            preload: ['zh-CN', 'zh-TW'],\n            resources,\n            lng: 'en', // 使用i18n.changeLanguage更改语言，此处暂无效果，原因待查？browser/i18n.js一样\n            fallbackLng: ['zh-CN', 'zh-TW'],\n            lowerCaseLng: true,\n            // keySeparator: false, // 多级访问如one.two\n            interpolation: {\n                escapeValue: false\n            }\n        }, (err, t) => {\n            if (err) throw Error(err)\n        })\n    app.use(\n        i18nMiddleware.handle(i18next, {\n            ignoreRoutes: ['/foo'], // or function(req, res, options, i18next) { /* return true to ignore */ }\n            removeLngFromUrl: false\n        })\n    )\n}\n","import path from 'path'\nimport createError from 'http-errors'\nimport express from 'express'\nimport cookieParser from 'cookie-parser'\nimport compression from 'compression'\nimport expressWinston from 'express-winston'\nimport logger from './logger'\nimport proxy from './proxy'\nimport routes from '../routes/root'\nimport i18n from './i18n'\n\nconst app = express()\n\n// 接口代理\nproxy(app)\n\n// react程序国际化挂载到req上\ni18n(app)\n\nconst rootPath = path.join(__dirname).split('server')[0]\n\napp.use(compression())\napp.set('views', path.join(`${rootPath}/server/views`))\napp.set('view engine', 'ejs')\napp.use(expressWinston.logger({\n    winstonInstance: logger\n}))\napp.use(function (req, res, next) {\n    res.logger = logger\n    next()\n})\napp.use(express.json())\napp.use(express.urlencoded({ extended: false }))\napp.use(cookieParser())\nconst staticOptions = {\n    index: false,\n    maxAge: 365 * 24 * 60 * 60 * 1000,\n    setHeaders: function (res, path, stat) {\n        res.set('Access-Control-Allow-Origin', '*')\n    }\n}\napp.use(express.static(path.join(`${rootPath}/static`), staticOptions))\n\nroutes(app)\n\napp.use(function (req, res, next) {\n    next(createError(404))\n})\n\nexpressWinston.requestWhitelist.push('body') // 把post参数打印至日志文件\napp.use(expressWinston.errorLogger({\n    winstonInstance: logger\n}))\napp.use(function (err, req, res, next) {\n    res.locals.message = err.message\n    res.locals.error = req.app.get('env') === 'development' ? err : {}\n    res.status(err.status || 500)\n    res.render('error')\n})\n\nexport default app\n","import debug from 'debug'\nimport http from 'http'\n\nimport app from './app'\nimport { serverPort } from '../../config/config'\n\nconst createHttp = (app) => {\n    debug('huoxing24:server')\n    const normalizePort = (val) => {\n        const port = parseInt(val, 10)\n        if (isNaN(port)) {\n            return val\n        }\n        if (port >= 0) {\n            return port\n        }\n        return false\n    }\n    const onError = (error) => {\n        if (error.syscall !== 'listen') {\n            throw error\n        }\n        const bind = typeof port === 'string'\n            ? 'Pipe ' + port\n            : 'Port ' + port\n        if (error.code === 'EACCES') {\n            console.error(bind + ' requires elevated privileges')\n            process.exit(1)\n        } else if (error.code === 'EADDRINUSE') {\n            console.error(bind + ' is already in use')\n            process.exit(1)\n        } else {\n            throw error\n        }\n    }\n\n    const port = normalizePort(process.env.PORT || serverPort)\n    app.set('port', port)\n\n    const server = http.createServer(app)\n    const onListening = () => {\n        const addr = server.address()\n        const bind = typeof addr === 'string'\n            ? 'pipe ' + addr\n            : 'port ' + addr.port\n        debug('Listening on ' + bind)\n    }\n\n    server.listen(port, function (err) {\n        if (err) {\n            console.error(err)\n        } else {\n            console.info('==> Server Listening on port %s.', port)\n        }\n    })\n    server.on('error', onError)\n    server.on('listening', onListening)\n}\n\ncreateHttp(app)\n"],"sourceRoot":""}