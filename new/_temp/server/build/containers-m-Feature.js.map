{"version":3,"sources":["webpack:///./_multiappsharing/public/img/feature-backImg.png","webpack:///./_multiappsharing/components-m/LoadMore/index.js","webpack:///./_multiappsharing/components-m/FeatureListItem/index.js","webpack:///./assets/containers-m/Feature/index.js"],"names":["LoadMore","props","FeatureListItem","item","topic","featureLink","mixUrl","news","id","topicName","newSmallPcImgSrc","pcImgSrc","featureBackImg","propTypes","object","isRequired","Feature","featureList","dispatch","useTranslation","t","useState","curPage","setCurPage","orderType","setOrderType","mounted","useRef","useEffect","current","getFeatureList","currentPage","pageSize","then","res","code","Toast","index","msg","err","console","log","info","loadMore","useCallback","isArray","inforList","map","length","display","recordCount","mapStateToProps","state","multi","connect"],"mappings":"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","file":"containers-m-Feature.js","sourcesContent":["module.exports = __webpack_public_path__ + \"feature-backImg-d818821e.png\";","import React from 'react'\n\nimport './index.scss'\n\nconst LoadMore = (props) => <a {...props} className=\"m-load-more-btn\">加载更多</a>\n\nexport default LoadMore\n","import React from 'react'\nimport { object } from 'prop-types'\nimport { mixUrl } from 'multiPublic/index'\nimport featureBackImg from '../../public/img/feature-backImg.png'\n\nimport './index.scss'\n\nconst FeatureListItem = (props) => {\n    const { item } = props\n    const { topic } = item\n    const featureLink = mixUrl.news(`/feature/${topic.id}`)\n    return <li className=\"m-feature-list-item-wrapper\" key={topic.id}>\n        <div className=\"content\">\n            <a className=\"info\" href={featureLink} title={topic.topicName}>\n                <img src={topic.newSmallPcImgSrc || topic.pcImgSrc || featureBackImg} alt={topic.topicName} />\n                <h3>{topic.topicName}</h3>\n                {/* {contentList && <p>{contentList[0].title}</p>} */}\n                {/* <p>{contentList.length}篇文章吧</p> */}\n            </a>\n        </div>\n    </li>\n}\n\nFeatureListItem.propTypes = {\n    item: object.isRequired\n}\n\nexport default FeatureListItem\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport { isArray } from 'multiPublic/index'\nimport LoadMore from 'multiCompsM/LoadMore'\nimport { getFeatureList } from 'multiRedux/actions/news'\nimport Toast from 'multiComps/Toast'\nimport FeatureListItem from 'multiCompsM/FeatureListItem'\n\nconst Feature = (props) => {\n    const { featureList, dispatch } = props\n    const { t } = useTranslation()\n\n    const [curPage, setCurPage] = useState(1)\n    const [orderType, setOrderType] = useState(0)\n    const mounted = useRef(false) // 判断是否为第一次运行：didMounted\n\n    useEffect(() => {\n        if (mounted.current) {\n            dispatch(getFeatureList({\n                currentPage: curPage,\n                pageSize: 15,\n                orderType: orderType\n            }, 'isMore')).then(function (res) {\n                if (res.code !== 1) {\n                    Toast.index(res.msg)\n                }\n            }).catch(function (err) {\n                console.log(err)\n                Toast.info('获取专题列表错误')\n            })\n        } else {\n            mounted.current = true\n        }\n    }, [curPage, orderType])\n\n    const loadMore = useCallback(() => {\n        setCurPage(curPage + 1)\n    }, [curPage])\n\n    return <div className=\"m-feature-wrapper\">\n        <div className=\"func\">\n            <div className=\"sort\">\n                <a onClick={() => setOrderType(0)} className={`${orderType === 0 && 'active'}`}>{t('feature_update_time')}</a>\n                <a onClick={() => setOrderType(1)} className={`${orderType === 1 && 'active'}`}>{t('feature_set_time')}</a>\n            </div>\n        </div>\n        <ul className=\"list\">{isArray(featureList.inforList) && featureList.inforList.map(function (item, index) {\n            return <FeatureListItem item={item} key={item.topic.id} />\n        })}\n        </ul>\n        {featureList.inforList.length > 0 ? <LoadMore\n            onClick={loadMore}\n            dataleng={featureList.inforList.length}\n            style={{ display: featureList.inforList.length === 0 || featureList.recordCount < featureList.pageSize ? 'none' : 'block' }}\n        /> : ''}\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    featureList: state.multi.news.featureList\n})\n\nexport default connect(mapStateToProps)(Feature)\n"],"sourceRoot":""}