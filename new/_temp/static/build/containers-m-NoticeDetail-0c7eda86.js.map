{"version":3,"sources":["webpack:///./assets/containers-m/NoticeDetail/index.js","webpack:///./_multiappsharing/public/hooks/useAppDownload.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/index.js","webpack:///./_multiappsharing/components-m/WebchatOpenInBrowser/images/wechat-download-tips.png","webpack:///./_multiappsharing/components-m/DownloadBtn/index.js","webpack:///./_multiappsharing/components-m/DownloadBtn/images/cellphone-icon.png","webpack:///./assets/containers-m/NoticeDetail/img/m-header-logo-blue.svg"],"names":["NoticeDetail","contObj","this","props","noticeObj","currentExchangeNotice","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","style","display","title","href","mixUrl","m","alt","src","logo","exchangeIconUrl","exchangeSymbol","flashTime","publishTime","typeName","dangerouslySetInnerHTML","__html","content","orignUrl","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_components_m_DownloadBtn__WEBPACK_IMPORTED_MODULE_10__","type","id","match","params","noticeId","Component","connect","state","noticeDetail","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_redux_actions_public__WEBPACK_IMPORTED_MODULE_1__","_components_Toast__WEBPACK_IMPORTED_MODULE_2__","_public__WEBPACK_IMPORTED_MODULE_3__","__webpack_exports__","iosUrl","andUrl","useRef","openApp","useCallback","url","doNotDownload","callback","intHandle","_clickTime","_count","location","isIos","isAndroid","current","Date","setInterval","elsTime","clearInterval","document","hidden","webkitHidden","console","log","appDownload","obj","openInBrowser","isWechat","concat","useEffect","getAndroidDownloadUrl","then","res","code","Toast","info","msg","err","react__WEBPACK_IMPORTED_MODULE_0___default","n","_images_wechat_download_tips_png__WEBPACK_IMPORTED_MODULE_2__","_images_wechat_download_tips_png__WEBPACK_IMPORTED_MODULE_2___default","onClick","setOpenInBrowser","tipsImg","module","exports","p","_useState","useState","_useState2","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","iphonex","setIphonex","_useState3","_useState4","useAppDownload","clickDownload","isIphoneX","react__WEBPACK_IMPORTED_MODULE_1___default","phoneIcon","_components_m_WebchatOpenInBrowser__WEBPACK_IMPORTED_MODULE_4__"],"mappings":"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","file":"containers-m-NoticeDetail-0c7eda86.js","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './index.scss'\nimport logo from './img/m-header-logo-blue.svg'\nimport { mixUrl, flashTime } from '../../../_multiappsharing/public'\nimport DownloadBtn from 'multiCompsM/DownloadBtn'\n\nclass NoticeDetail extends Component {\n    render () {\n        const { noticeObj } = this.props\n        let contObj = noticeObj.currentExchangeNotice\n        return <div className=\"m-notice-detail\">\n            <div className=\"m-header\" style={{ display: 'none' }}>\n                <a title=\"MarsBit\" className=\"logo\" href={mixUrl.m()}>\n                    <img alt=\"MarsBit\" src={logo}/>\n                </a>\n                <a href={mixUrl.m('/search')} className=\"search\"/>\n            </div>\n            <h6>{contObj.title}</h6>\n            <div className=\"detail-logo\">\n                <img src={contObj.exchangeIconUrl} alt=\"\" className=\"cont-logo\"/>\n                <span className=\"name\">{contObj.exchangeSymbol}</span>\n                <p>\n                    <span className=\"time\">{flashTime(contObj.publishTime)}</span>\n                    <span className=\"type\">{contObj.typeName}</span>\n                </p>\n            </div>\n            <div className=\"detail-cont\" dangerouslySetInnerHTML={{ __html: contObj.content }}></div>\n            <div className=\"orign-url\">原文连接：<a href={contObj.orignUrl}>点击进入</a></div>\n            <DownloadBtn type=\"noticeDetail\" id={this.props.match.params.noticeId}/>\n        </div>\n    }\n}\nconst mapStateToProps = (state) => ({\n    noticeObj: state.noticeDetail.noticeObj\n})\nexport default connect(mapStateToProps)(NoticeDetail)\n","import { useEffect, useCallback, useRef } from 'react'\nimport { getAndroidDownloadUrl } from '../../redux/actions/public'\nimport Toast from '../../components/Toast'\nimport { isAndroid, isIos, isWechat } from '../../public'\n\nconst checkOpen = (callback) => {\n    let _clickTime = +(new Date())\n    // 启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    let _count = 0\n    let intHandle\n    intHandle = setInterval(() => {\n        _count++\n        let elsTime = +(new Date()) - _clickTime\n        if (_count >= 100 || elsTime > 3000) {\n            clearInterval(intHandle)\n            if (elsTime > 3000 || document.hidden || document.webkitHidden) {\n                console.log('正在打开app')\n            } else {\n                callback()\n            }\n        }\n    }, 20)\n}\n\n/**\n * @params type 当前页面类型 id文章视频等相对应的id\n * newsDetail新闻详情，newsList新闻列表\n * flashDetail快讯详情，flashList快讯列表\n * videoDetail视频详情，videoList视频列表\n * authorCenter作者中心\n * 不传type默认跳转到首页\n * 返回appDownload 传递以上参数\n * 并返回openInBrowser是否提示浏览器中打开\n * */\nexport default () => {\n    const iosUrl = 'https://itunes.apple.com/cn/app/id1343659925?mt=8'\n    const andUrl = useRef('')\n\n    const openApp = useCallback((url, doNotDownload) => {\n        location.href = url\n        checkOpen(() => {\n            if (isIos() && !doNotDownload) location.href = iosUrl\n            if (isAndroid() && !doNotDownload) location.href = andUrl.current\n        })\n    }, [andUrl])\n\n    const appDownload = useCallback((type, id, obj) => {\n        const doNotDownload = obj ? obj.doNotDownload : false\n        let openInBrowser = false\n        if (isWechat() && isIos()) {\n            // 打开appStore\n            location.href = iosUrl\n        } else if (isWechat() && isAndroid()) {\n            // 提示浏览器中打开\n            openInBrowser = true\n        } else {\n            switch (type) {\n                case 'liveshare':\n                    openApp(`marsbusiness://liveshare/${id}`, doNotDownload)\n                    break\n                case 'newsDetail':\n                    openApp(`marsbusiness://news/${id}`, doNotDownload)\n                    break\n                case 'newsList':\n                    openApp(`marsbusiness://newlist/${id}`, doNotDownload)\n                    break\n                case 'flashDetail':\n                    openApp(`marsbusiness://fast/${id}`, doNotDownload)\n                    break\n                case 'flashList':\n                    openApp(`marsbusiness://home/fast`, doNotDownload)\n                    break\n                case 'videoDetail':\n                    openApp(`marsbusiness://video/${id}`, doNotDownload)\n                    break\n                case 'videoList':\n                    openApp(`marsbusiness://home/video`, doNotDownload)\n                    break\n                case 'authorCenter':\n                    openApp(`marsbusiness://authorCenter/${id}`, doNotDownload)\n                    break\n                case 'noticeDetail':\n                    openApp(`marsbusiness://noticeDetail/${id}`, doNotDownload)\n                    break\n                default:\n                    openApp(`marsbusiness://home/new`, doNotDownload)\n            }\n        }\n\n        return openInBrowser\n    }, [andUrl])\n\n    useEffect(() => {\n        getAndroidDownloadUrl().then(function (res) {\n            if (res.code === 1) {\n                andUrl.current = res.obj\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            throw err\n        })\n    }, [])\n\n    return appDownload\n}\n","import React from 'react'\nimport './index.scss'\nimport tipsImg from './images/wechat-download-tips.png'\n\nexport default (props) => {\n    return props.openInBrowser && <div\n        className=\"download-app-wechat-tips\"\n        onClick={() => props.setOpenInBrowser(false)}>\n        <div className=\"download-app-img\">\n            <img src={tipsImg} alt=\"请在浏览器中打开\" />\n        </div>\n    </div>\n}\n","module.exports = __webpack_public_path__ + \"wechat-download-tips-fef770a1.png\";","import React, { useState, useCallback, useEffect } from 'react'\nimport './index.scss'\n\nimport { isIphoneX } from 'multiPublic/index'\nimport WebchatOpenInBrowser from '../../components-m/WebchatOpenInBrowser'\nimport useAppDownload from '../../public/hooks/useAppDownload'\nimport phoneIcon from './images/cellphone-icon.png'\n\nexport default (props) => {\n    const [iphonex, setIphonex] = useState(false)\n    const [openInBrowser, setOpenInBrowser] = useState(false)\n    const appDownload = useAppDownload()\n    const clickDownload = useCallback(() => {\n        setOpenInBrowser(appDownload(props.type, props.id))\n    }, [])\n    useEffect(() => {\n        isIphoneX() && setIphonex(true)\n    }, [])\n    return <div className={`download-app-wrapper ${iphonex ? 'iphonex' : ''}`}>\n        <a className=\"download-app-btn\" onClick={clickDownload}>\n            <img src={phoneIcon} alt=\"下载MarsBit\"/>\n            下载MarsBit APP\n        </a>\n        <WebchatOpenInBrowser openInBrowser={openInBrowser} setOpenInBrowser={setOpenInBrowser} />\n    </div >\n}\n","module.exports = __webpack_public_path__ + \"cellphone-icon-524dafc5.png\";","module.exports = __webpack_public_path__ + \"m-header-logo-blue-f47ea14f.svg\";"],"sourceRoot":""}