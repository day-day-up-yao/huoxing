{"version":3,"sources":["webpack:///./_multiappsharing/components-m/FeatureListItem/index.js","webpack:///./assets/containers-m/Feature/index.js","webpack:///./_multiappsharing/public/img/feature-backImg.png","webpack:///./_multiappsharing/components-m/LoadMore/index.js"],"names":["FeatureListItem","props","topic","item","featureLink","mixUrl","news","concat","id","react_default","a","createElement","className","key","href","title","topicName","src","newSmallPcImgSrc","pcImgSrc","featureBackImg","alt","propTypes","object","isRequired","connect","state","featureList","multi","dispatch","t","useTranslation","_useState","useState","_useState2","slicedToArray_default","curPage","setCurPage","_useState3","_useState4","orderType","setOrderType","mounted","useRef","useEffect","current","getFeatureList","currentPage","pageSize","then","res","code","Toast","index","msg","err","console","log","info","loadMore","useCallback","onClick","isArray","inforList","map","_multiappsharing_components_m_FeatureListItem","length","LoadMore","dataleng","style","display","recordCount","module","exports","__webpack_require__","p","react__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"sPAOMA,UAAkB,SAACC,GAAU,IAEvBC,EADSD,EAATE,KACAD,MACFE,EAAcC,IAAOC,KAAP,YAAAC,OAAwBL,EAAMM,KAClD,OAAOC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,8BAA8BC,IAAKX,EAAMM,IAC1DC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,OAAOE,KAAMV,EAAaW,MAAOb,EAAMc,WAChDP,EAAAC,EAAAC,cAAA,OAAKM,IAAKf,EAAMgB,kBAAoBhB,EAAMiB,UAAYC,IAAgBC,IAAKnB,EAAMc,YACjFP,EAAAC,EAAAC,cAAA,UAAKT,EAAMc,gBAQ3BhB,EAAgBsB,UAAY,CACxBnB,KAAMoB,SAAOC,YAGFxB,QCuCAyB,sBAJS,SAACC,GAAD,MAAY,CAChCC,YAAaD,EAAME,MAAMtB,KAAKqB,cAGnBF,CAtDC,SAACxB,GAAU,IACf0B,EAA0B1B,EAA1B0B,YAAaE,EAAa5B,EAAb4B,SACbC,EAAMC,cAAND,EAFeE,EAIOC,mBAAS,GAJhBC,EAAAC,IAAAH,EAAA,GAIhBI,EAJgBF,EAAA,GAIPG,EAJOH,EAAA,GAAAI,EAKWL,mBAAS,GALpBM,EAAAJ,IAAAG,EAAA,GAKhBE,EALgBD,EAAA,GAKLE,EALKF,EAAA,GAMjBG,EAAUC,kBAAO,GAEvBC,oBAAU,WACFF,EAAQG,QACRhB,EAASiB,YAAe,CACpBC,YAAaX,EACbY,SAAU,GACVR,UAAWA,GACZ,WAAWS,KAAK,SAAUC,GACR,IAAbA,EAAIC,MACJC,IAAMC,MAAMH,EAAII,OANxB,MAQS,SAAUC,GACfC,QAAQC,IAAIF,GACZH,IAAMM,KAAK,cAGfhB,EAAQG,SAAU,GAEvB,CAACT,EAASI,IAEb,IAAMmB,EAAWC,sBAAY,WACzBvB,EAAWD,EAAU,IACtB,CAACA,IAEJ,OAAO3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAClBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,KAAGkD,QAAS,kBAAMpB,EAAa,IAAI7B,UAAS,GAAAL,OAAmB,IAAdiC,GAAmB,WAAaV,EAAE,wBACnFrB,EAAAC,EAAAC,cAAA,KAAGkD,QAAS,kBAAMpB,EAAa,IAAI7B,UAAS,GAAAL,OAAmB,IAAdiC,GAAmB,WAAaV,EAAE,uBAG3FrB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAQkD,YAAQnC,EAAYoC,YAAcpC,EAAYoC,UAAUC,IAAI,SAAU7D,EAAMkD,GAC9F,OAAO5C,EAAAC,EAAAC,cAACsD,EAAD,CAAiB9D,KAAMA,EAAMU,IAAKV,EAAKD,MAAMM,QAGvDmB,EAAYoC,UAAUG,OAAS,EAAIzD,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAChCN,QAASF,EACTS,SAAUzC,EAAYoC,UAAUG,OAChCG,MAAO,CAAEC,QAA0C,IAAjC3C,EAAYoC,UAAUG,QAAgBvC,EAAY4C,YAAc5C,EAAYqB,SAAW,OAAS,WACjH,2BC1DbwB,EAAAC,QAAiBC,EAAAC,EAAuB,6GCMzBR,IAFE,SAAClE,GAAD,OAAW2E,EAAAlE,EAAAC,cAAA,IAAAkE,IAAA,GAAO5E,EAAP,CAAcW,UAAU,oBAAxB","file":"containers-m-Feature-0c7eda86.js","sourcesContent":["import React from 'react'\nimport { object } from 'prop-types'\nimport { mixUrl } from 'multiPublic/index'\nimport featureBackImg from '../../public/img/feature-backImg.png'\n\nimport './index.scss'\n\nconst FeatureListItem = (props) => {\n    const { item } = props\n    const { topic } = item\n    const featureLink = mixUrl.news(`/feature/${topic.id}`)\n    return <li className=\"m-feature-list-item-wrapper\" key={topic.id}>\n        <div className=\"content\">\n            <a className=\"info\" href={featureLink} title={topic.topicName}>\n                <img src={topic.newSmallPcImgSrc || topic.pcImgSrc || featureBackImg} alt={topic.topicName} />\n                <h3>{topic.topicName}</h3>\n                {/* {contentList && <p>{contentList[0].title}</p>} */}\n                {/* <p>{contentList.length}篇文章吧</p> */}\n            </a>\n        </div>\n    </li>\n}\n\nFeatureListItem.propTypes = {\n    item: object.isRequired\n}\n\nexport default FeatureListItem\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport { isArray } from 'multiPublic/index'\nimport LoadMore from 'multiCompsM/LoadMore'\nimport { getFeatureList } from 'multiRedux/actions/news'\nimport Toast from 'multiComps/Toast'\nimport FeatureListItem from 'multiCompsM/FeatureListItem'\n\nconst Feature = (props) => {\n    const { featureList, dispatch } = props\n    const { t } = useTranslation()\n\n    const [curPage, setCurPage] = useState(1)\n    const [orderType, setOrderType] = useState(0)\n    const mounted = useRef(false) // 判断是否为第一次运行：didMounted\n\n    useEffect(() => {\n        if (mounted.current) {\n            dispatch(getFeatureList({\n                currentPage: curPage,\n                pageSize: 15,\n                orderType: orderType\n            }, 'isMore')).then(function (res) {\n                if (res.code !== 1) {\n                    Toast.index(res.msg)\n                }\n            }).catch(function (err) {\n                console.log(err)\n                Toast.info('获取专题列表错误')\n            })\n        } else {\n            mounted.current = true\n        }\n    }, [curPage, orderType])\n\n    const loadMore = useCallback(() => {\n        setCurPage(curPage + 1)\n    }, [curPage])\n\n    return <div className=\"m-feature-wrapper\">\n        <div className=\"func\">\n            <div className=\"sort\">\n                <a onClick={() => setOrderType(0)} className={`${orderType === 0 && 'active'}`}>{t('feature_update_time')}</a>\n                <a onClick={() => setOrderType(1)} className={`${orderType === 1 && 'active'}`}>{t('feature_set_time')}</a>\n            </div>\n        </div>\n        <ul className=\"list\">{isArray(featureList.inforList) && featureList.inforList.map(function (item, index) {\n            return <FeatureListItem item={item} key={item.topic.id} />\n        })}\n        </ul>\n        {featureList.inforList.length > 0 ? <LoadMore\n            onClick={loadMore}\n            dataleng={featureList.inforList.length}\n            style={{ display: featureList.inforList.length === 0 || featureList.recordCount < featureList.pageSize ? 'none' : 'block' }}\n        /> : ''}\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    featureList: state.multi.news.featureList\n})\n\nexport default connect(mapStateToProps)(Feature)\n","module.exports = __webpack_public_path__ + \"feature-backImg-d818821e.png\";","import React from 'react'\n\nimport './index.scss'\n\nconst LoadMore = (props) => <a {...props} className=\"m-load-more-btn\">加载更多</a>\n\nexport default LoadMore\n"],"sourceRoot":""}