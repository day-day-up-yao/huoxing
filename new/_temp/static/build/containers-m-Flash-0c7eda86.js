(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[17],{149:function(e,t,a){"use strict";a.r(t);var n=a(131),c=a.n(n),r=a(4),s=a.n(r),i=a(16),o=a.n(i),l=a(0),u=a.n(l),m=a(24),f=a(17),b=a(1),d=(a(325),function(e){var t=e.item,a=e.serverTime,n=Object(l.useState)(!1),c=o()(n,2),r=c[0],s=c[1];t.openMsg=!1;var i=Object(b.i)(t),m=i.title,f=i.content.replace(/<\/?.+?>/g,"").replace(/ /g,""),d=/【([^【】]+)】([^【】]*)/,p=d.exec(f)?d.exec(f)[2]:f;Object(b.a)(p)>80&&(t.openMsg=r);var h=Object(l.useCallback)(function(){s(!0)});return console.log(),u.a.createElement("div",{className:"new-fash-list","data-date":"创建时间"},u.a.createElement("i",{className:"iconfont iconfont-fangkuai fangkuai"}),u.a.createElement("div",{className:"time-flash"},Object(b.j)(t.createdTime,a)),u.a.createElement("div",{className:"text-flash clearfix"},u.a.createElement("div",{className:"text-box"},u.a.createElement("a",{className:"text-title",href:b.y.m("/flash/".concat(t.id,".html"))},m),u.a.createElement("p",{className:"text-msg ".concat(t.openMsg?"":"maxH")},f,u.a.createElement("a",{href:t.url,className:"original",title:"查看原文"},"查看原文")),u.a.createElement("p",{className:"open-msg",style:{display:r?"none":"inline-block"},onClick:function(){return h()}},"展开 ",u.a.createElement("i",{className:"iconfont iconfont-open"})),t.images&&u.a.createElement("div",{className:"text-img"},u.a.createElement("img",{className:"item-img",src:t.images})))))});d.propTypes={serverTime:f.number.isRequired};var p=d,h=a(267),v=(a(326),a(13)),O=a(49);t.default=Object(m.b)(function(e){return{flashList:e.multi.flash.flashList}})(function(e){var t=e.flashList,a=e.dispatch,n={currentPage:t.currentPage,pageSize:30},r=Object(l.useState)(n),i=o()(r,2),m=i[0],f=i[1],d=Object(l.useRef)(!1),j=Object(l.useRef)(!1),g=Object(l.useRef)(!1);Object(l.useEffect)(function(){var e=Object(b.K)(function(e){if("down"!==e||d.current)return!1;j.current="more";var t=document.getElementById("btnMore");Object(b.C)().top+Object(b.J)().height>Object(b.g)(t).top-Object(b.J)().height/2&&E()});return function(){window.removeEventListener("scroll",e,!1)}},[d]);var w=Object(l.useRef)(t.inforList[t.inforList.length-1].createTime);Object(l.useEffect)(function(){w.current=t.inforList[t.inforList.length-1].createTime},[t]);var E=Object(l.useCallback)(function(){if(console.log(1111),d.current)return!1;f(s()({},m,{currentPage:m.currentPage+1,refreshTime:w.currentPage}))},[m,d,w]);return Object(l.useEffect)(function(){g.current&&!d.current?(d.current=!0,Promise.all([a(Object(O.b)(m,j.current)).catch(function(e){console.log(e),v.a.info("获取快讯列表错误")})]).then(function(e){if(d.current=!1,1===e[0].code){var t=e[0].obj.inforList;Object(b.n)(t)&&0!==t.length||v.a.info("暂无更多快讯")}else v.a.info(e[0].msg)})):g.current=!0},[d,g,m]),u.a.createElement("div",{className:"news-fash page-con-wrap",id:"currNewsBox"},u.a.createElement("div",{className:"lives-box"},t.inforList.map(function(e,a){return u.a.createElement(p,c()({item:e,serverTime:t.currentTime,key:e.id},"key",a))})),u.a.createElement("div",{className:"flash-more-btn"},u.a.createElement("div",{className:"btn-more",id:"btnMore"},"加载更多")),u.a.createElement(h.a,null))})},218:function(e,t,a){"use strict";var n=a(0),c=a(34),r=a(13),s=a(1);t.a=function(){var e="https://itunes.apple.com/cn/app/id1343659925?mt=8",t=Object(n.useRef)(""),a=Object(n.useCallback)(function(a,n){var c,r,i,o;location.href=a,c=function(){Object(s.o)()&&!n&&(location.href=e),Object(s.m)()&&!n&&(location.href=t.current)},i=+new Date,o=0,r=setInterval(function(){o++;var e=+new Date-i;(o>=100||e>3e3)&&(clearInterval(r),e>3e3||document.hidden||document.webkitHidden?console.log("正在打开app"):c())},20)},[t]),i=Object(n.useCallback)(function(t,n,c){var r=!!c&&c.doNotDownload,i=!1;if(Object(s.w)()&&Object(s.o)())location.href=e;else if(Object(s.w)()&&Object(s.m)())i=!0;else switch(t){case"liveshare":a("marsbusiness://liveshare/".concat(n),r);break;case"newsDetail":a("marsbusiness://news/".concat(n),r);break;case"newsList":a("marsbusiness://newlist/".concat(n),r);break;case"flashDetail":a("marsbusiness://fast/".concat(n),r);break;case"flashList":a("marsbusiness://home/fast",r);break;case"videoDetail":a("marsbusiness://video/".concat(n),r);break;case"videoList":a("marsbusiness://home/video",r);break;case"authorCenter":a("marsbusiness://authorCenter/".concat(n),r);break;case"noticeDetail":a("marsbusiness://noticeDetail/".concat(n),r);break;default:a("marsbusiness://home/new",r)}return i},[t]);return Object(n.useEffect)(function(){Object(c.c)().then(function(e){1===e.code?t.current=e.obj:r.a.info(e.msg)}).catch(function(e){throw e})},[]),i}},221:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=(a(224),a(225)),s=a.n(r);t.a=function(e){return e.openInBrowser&&c.a.createElement("div",{className:"download-app-wechat-tips",onClick:function(){return e.setOpenInBrowser(!1)}},c.a.createElement("div",{className:"download-app-img"},c.a.createElement("img",{src:s.a,alt:"请在浏览器中打开"})))}},224:function(e,t,a){},225:function(e,t,a){e.exports=a.p+"wechat-download-tips-fef770a1.png"},267:function(e,t,a){"use strict";var n=a(16),c=a.n(n),r=a(0),s=a.n(r),i=(a(268),a(1)),o=a(221),l=a(218),u=a(269),m=a.n(u);t.a=function(e){var t=Object(r.useState)(!1),a=c()(t,2),n=a[0],u=a[1],f=Object(r.useState)(!1),b=c()(f,2),d=b[0],p=b[1],h=Object(l.a)(),v=Object(r.useCallback)(function(){p(h(e.type,e.id))},[]);return Object(r.useEffect)(function(){Object(i.p)()&&u(!0)},[]),s.a.createElement("div",{className:"download-app-wrapper ".concat(n?"iphonex":"")},s.a.createElement("a",{className:"download-app-btn",onClick:v},s.a.createElement("img",{src:m.a,alt:"下载MarsBit"}),"下载MarsBit APP"),s.a.createElement(o.a,{openInBrowser:d,setOpenInBrowser:p}))}},268:function(e,t,a){},269:function(e,t,a){e.exports=a.p+"cellphone-icon-524dafc5.png"},325:function(e,t,a){},326:function(e,t,a){}}]);
//# sourceMappingURL=containers-m-Flash-0c7eda86.js.map