(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[8],{143:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),r=a(16),i=a.n(r),l=a(0),s=a.n(l),o=a(24),m=a(18),d=(a(305),a(242)),u=a(219),p=a(49),f=a(13),h=a(212),g=a(216),b=a(228),E=a(17),v=(a(306),a(1)),w=a(25),y=a(222),N=a(251),k=function(e){var t=e.item,a=e.serverTime,n=e.loginInfo,c=e.dispatch,r=Object(l.useState)(""),o=i()(r,2),m=o[0],d=o[1],u=Object(l.useState)(!1),h=i()(u,2),g=h[0],b=h[1],E=Object(l.useCallback)(function(e){if(!Object(w.b)(n.passportId,c))return!1;c(Object(p.c)({id:e.target.getAttribute("data-id"),status:e.target.getAttribute("data-status"),passportid:n.passportId,token:n.token})).then(function(e){1!==e.code&&f.a.info(e.msg)}).catch(function(e){throw f.a.info("快讯利好利空错误"),e})},[n]),k=Object(v.i)(t),j=k.title,O=k.content;return(O=unescape(O)).replace('rel="noopener noreferrer"',""),s.a.createElement("div",{className:"flash-list-item-wrapper"},s.a.createElement("div",{className:"item-icons ".concat(2===t.tag?"import":"")},s.a.createElement("div",{className:"round"}),s.a.createElement("div",{className:"time-left"},Object(v.j)(t.createdTime,a))),s.a.createElement("a",{href:v.y.news("/flash/".concat(t.id,".html")),className:"item-title ".concat(2===t.tag?"import":""),target:"_blank"},j),s.a.createElement("h3",{className:"item-detail"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(v.G)(O).replace(/\n/g,"</br>")}}),t.url&&s.a.createElement("a",{title:"查看原文",href:t.url,target:"_blank"}," 「查看原文」")),t.images&&s.a.createElement("img",{className:"little-img",onClick:function(){b(!g),d(t.images)},alt:t.imagesRemark||j,src:t.images}),s.a.createElement(N.a,{details:t,upOrDown:E}),s.a.createElement(y.a,{close:function(){return b(!g)},show:g,src:m}))};k.propTypes={item:E.object.isRequired,serverTime:E.number.isRequired};var j=Object(o.b)(function(e){return{loginInfo:e.multi.login.userInfo.info}})(k),O=a(34);t.default=Object(o.b)(function(e){var t=e.multi;return{adUp:t.adData[5]||[],login:t.login.userInfo,flashList:t.flash.flashList,hotNewsList:t.news.hotNewsList,flashImportant:e.flash.flashImportant,flashChannel:e.flash.flashChannel,newsRankings:e.flash.newsRankings,adImplant:e.multi.adImplant}})(function(e){var t=Object(m.c)().t,a=e.flashChannel,n=e.flashList,r=e.dispatch,o=e.login,E=e.flashImportant,w=e.newsRankings,y=e.adImplant,N={currentPage:n.currentPage,pageSize:20,channelId:a.id||0,passportid:o.info.passportId||""},k=Object(l.useState)(N),I=i()(k,2),x=I[0],_=I[1];Object(l.useEffect)(function(){_(N)},[o]);var T=Object(l.useRef)(!1),C=Object(l.useRef)(!1),L=Object(l.useRef)(!1);Object(l.useEffect)(function(){var e=Object(v.K)(function(e){if("down"!==e||x.currentPage>3||C.current)return!1;T.current="more";var t=document.getElementById("footerWrapper");Object(v.C)().top+Object(v.J)().height>Object(v.g)(t).top-Object(v.J)().height/2&&S()});return function(){window.removeEventListener("scroll",e,!1)}},[x,C]);var R=Object(l.useRef)(n.inforList[n.inforList.length-1].createdTime);Object(l.useEffect)(function(){R.current=n.inforList[n.inforList.length-1].createdTime},[n]);var S=Object(l.useCallback)(function(){if(C.current)return!1;_(c()({},x,{currentPage:x.currentPage+1,refreshTime:R.current}))},[x,C,R]),P=Object(l.useCallback)(function(e){if(C.current)return!1;T.current=!1,_(c()({},x,{currentPage:1,channelId:e}))},[x,T,C]);return Object(l.useEffect)(function(){L.current&&!C.current?(C.current=!0,Promise.all([r(Object(p.b)(x,T.current)).catch(function(e){console.log(e),f.a.info("获取快讯列表错误")}),r(Object(O.b)([{adPlace:12,secondPosition:x.channelId},{adPlace:5}])).catch(function(e){console.log(e),f.a.info("获取快讯广告列表错误")})]).then(function(e){if(C.current=!1,1===e[0].code){var t=e[0].obj.inforList;Object(v.n)(t)&&0!==t.length||f.a.info("暂无更多快讯")}else f.a.info(e[0].msg)})):L.current=!0},[x,C,L]),[s.a.createElement("div",{className:"ad-flash-wrapper",key:"adFlashWrapper",style:{display:y[5][0]?"block":"none"}},s.a.createElement(d.a,{data:y[5][0]||[]})),s.a.createElement("div",{className:"flash-notice-nav",key:"flashNoticeNav"}),s.a.createElement("div",{className:"layout-main flash-list-wrapper",key:"flashListWrapper"},s.a.createElement("div",{className:"layout-left"},s.a.createElement("div",{className:"flash-nav"},a.map(function(e,t){return s.a.createElement("a",{key:e.id,className:parseInt(e.channelId)===parseInt(x.channelId)?"active":"",datatype:e.channelId,onClick:function(){return P(e.channelId)}},e.channelName)})),s.a.createElement("div",{className:"flash-list-content"},n.inforList.map(function(e,t){return 0===y[12].length?s.a.createElement(j,{item:e,serverTime:n.currentTime,key:e.id}):y[12].map(function(a,c){var r=null;switch(a.useType){case 1:case 2:r=a.url;break;case 3:r=v.y.news("/newsdetail/".concat(a.url));break;case 4:r=v.y.news("/list/".concat(a.url));break;case 5:r=v.y.news("/feature/".concat(a.url.split("/")[1]));break;case 6:r=v.y.news("/tags/".concat(a.url))}return(0===parseInt(a.topOrder)?parseInt(a.topOrder)+1:parseInt(a.topOrder))===t?s.a.createElement("a",{className:"flash-ad-list",target:"_blank",href:r,key:a.id},s.a.createElement("div",{className:"item-icons"},s.a.createElement("div",{className:"round"}),s.a.createElement("div",{className:"time-left"},Object(v.j)(e.createdTime,n.currentTime))),s.a.createElement("h6",null,a.title),s.a.createElement("p",null,a.description),s.a.createElement("span",{className:"ad-span",style:{display:"".concat(1===a.useType?"block":"none")}},"广告")):c===y[12].length-1?s.a.createElement(j,{item:e,serverTime:n.currentTime,key:e.id}):void 0})})),s.a.createElement(u.a,{onClick:S,style:{display:0===n.inforList.length||n.recordCount===n.inforList.length?"none":""}})),s.a.createElement("div",{className:"layout-right"},s.a.createElement(h.a,{firstItem:!0,title:t("flash_info")},E.inforList&&E.inforList.map(function(e,t){var a=Object(v.i)(e);return s.a.createElement("div",{className:"flash-important-item",key:e.id},s.a.createElement("h4",null,Object(v.j)(e.createdTime,n.currentTime)),s.a.createElement("a",{href:v.y.news("/flash/".concat(e.id,".html")),target:"_blank"},s.a.createElement("h3",null,a.title),s.a.createElement("div",{className:"animate-content"},s.a.createElement("div",{className:"im-content"},a.content))))})),s.a.createElement(b.a,null),s.a.createElement(g.a,{data:w.inforList||[],title:t("24_hot_news")})))]})},212:function(e,t,a){"use strict";var n=a(4),c=a.n(n),r=a(0),i=a.n(r);a(214);t.a=function(e){var t=e.id,a=e.children,n=e.title,r=e.firstItem,l=e.titleBtn,s=e.titleStyle,o=e.onClick;return i.a.createElement("div",{id:t||"",className:"layout-content-right-item ".concat(r?"first-item":"")},n&&i.a.createElement("div",{className:"right-item-title"},i.a.createElement("h5",{style:s&&c()({},s)},n),i.a.createElement("div",{className:"button",style:{display:l&&""!==l?"flex":"none"},onClick:o&&o},l)),i.a.createElement("div",{className:"right-item-content"},a))}},213:function(e,t,a){e.exports=a.p+"feature-backImg-d818821e.png"},214:function(e,t,a){},216:function(e,t,a){"use strict";var n=a(39),c=a.n(n),r=a(0),i=a.n(r),l=a(215),s=a(17),o=(a(217),a(212)),m=a(1),d=a(213),u=a.n(d),p=function(e){var t=e.title,a=e.id,n=e.coverPic,c=e.author,r=e.rank,s=e.tags,o=m.y.news("/".concat(a,".html"));return i.a.createElement("div",{className:"right-news-item"},i.a.createElement("a",{className:"left",title:t,href:o,target:"_blank"},i.a.createElement("span",null,r+1),i.a.createElement(l.SimpleImg,{applyAspectRatio:!0,width:90,height:65,placeholder:"#f6f8fa",src:Object(m.E)(n,"pc"),alt:s})),i.a.createElement("div",{className:"right"},i.a.createElement("a",{title:t,href:o,target:"_blank"},t),i.a.createElement("time",null,c)))};p.propTypes={title:s.string.isRequired,id:s.string.isRequired,coverPic:s.string.isRequired,publishTime:s.number.isRequired,author:s.string.isRequired};var f=function(e){var t=e.id,a=e.topicName,n=e.newSmallPcImgSrc,c=e.pcImgSrc,r=e.createTime,s=e.serverTime,o=m.y.news("/feature/".concat(t));return i.a.createElement("div",{className:"right-news-item"},i.a.createElement("a",{className:"left",title:a,href:o,target:"_blank"},i.a.createElement(l.SimpleImg,{applyAspectRatio:!0,width:90,height:65,placeholder:"#f6f8fa",src:n||c||u.a})),i.a.createElement("div",{className:"right"},i.a.createElement("a",{title:a,href:o,target:"_blank"},a),i.a.createElement("time",null,Object(m.k)(r,s&&""!==s&&s))))};f.propTypes={topicName:s.string.isRequired,id:s.string.isRequired,createTime:s.number.isRequired};t.a=function(e){return i.a.createElement(o.a,{id:e.id||"",titleBtn:i.a.createElement("a",{className:"more-icon",style:{display:!1===e.ismore?"none":"block"},href:e.feature?m.y.news("/feature"):m.y.news(),target:"_blank"}),title:e.title},i.a.createElement("div",{className:"right-news-wrapper"},Object(m.n)(e.data)&&(0!==e.data.length?e.data.map(function(t,a){return e.feature?i.a.createElement(f,c()({key:t.topic.id},t.topic)):i.a.createElement(p,c()({key:t.id,rank:a},t))}):i.a.createElement("div",{className:"no-news"},"暂无内容"))))}},217:function(e,t,a){},219:function(e,t,a){"use strict";var n=a(39),c=a.n(n),r=a(0),i=a.n(r);a(220);t.a=function(e){return i.a.createElement("a",c()({},e,{className:"load-more-btn"}),"加载更多")}},220:function(e,t,a){},222:function(e,t,a){"use strict";var n=a(4),c=a.n(n),r=a(16),i=a.n(r),l=a(0),s=a.n(l),o=a(17),m=a(1),d=(a(223),function(e){var t=e.src,n=e.show,r=e.close,o=Object(l.useState)(!1),d=i()(o,2),u=d[0],p=d[1],f=Object(l.useState)({height:"auto",width:"100%"}),h=i()(f,2),g=h[0],b=h[1];Object(l.useEffect)(function(){if(t){var e=new Image;e.src=t,e.onload=function(){var t=e.height,a=e.width;if(Object(m.t)())b(a>=t&&(a>=1e3&&1e3*t/a<=600||a<1e3&&t<=600)?{height:"auto",maxWidth:"1000px"}:{maxHeight:"600px",width:"auto"});else{var n=.8*Object(m.J)().height,c=Object(m.J)().width;b(a>=c&&t*c/a<=n||a<c&&t<=n?{height:"auto",width:"100%"}:{height:n,width:"auto"})}p(!0)}}},[t]);var E=Object(l.useState)("pc"),v=i()(E,2),w=v[0],y=v[1];return Object(l.useEffect)(function(){if(!Object(m.t)()){y("mobile");var e=a(241),t=document.getElementById("imgPopContent"),n=new e(t,{});n.get("pinch").set({enable:!0});var c=0,r=0,i=1,l=1,s=0,o=0,d=0,u=0,p="",f=t;n.on("doubletap pan pinch panend pinchend",function(e){if("doubletap"===e.type){p="translate3d(0, 0, 0) scale3d(2, 2, 1)",i=2,l=2;try{"matrix(1, 0, 0, 1, 0, 0)"!==window.getComputedStyle(f,null).getPropertyValue("-webkit-transform").toString()&&(p="translate3d(0, 0, 0) scale3d(1, 1, 1)",i=1,l=1)}catch(e){console.log(e)}f.style.webkitTransform=p,p=""}1!==i&&(c=s+e.deltaX,r=o+e.deltaY,d=Math.ceil((i-1)*f.clientWidth/2),u=Math.ceil((i-1)*f.clientHeight/2),c>d&&(c=d),c<-d&&(c=-d),r>u&&(r=u),r<-u&&(r=-u)),"pinch"===e.type&&(i=Math.max(.999,Math.min(l*e.scale,4))),"pinchend"===e.type&&(l=i),"panend"===e.type&&(s=c<d?c:d,o=r<u?r:u),1!==i&&(p="translate3d("+c+"px,"+r+"px, 0) scale3d("+i+", "+i+", 1)"),p&&(f.style.webkitTransform=p)})}},[]),s.a.createElement("div",{className:"img-popup-wrapper ".concat(w),style:{display:n&&u?"flex":"none"}},s.a.createElement("div",{className:"img-position",onClick:r},s.a.createElement("div",{id:"imgPopContent",className:"img-content ".concat("pc"===w?"beautify-scroll":"")},t&&s.a.createElement("img",{src:t,style:c()({},g),alt:"img-viewer"})),s.a.createElement("a",{className:"close-icon",onClick:r})),s.a.createElement("div",{className:"img-popup-mask",onClick:r}))});d.propTypes={show:o.bool.isRequired,close:o.func.isRequired},t.a=d},223:function(e,t,a){},228:function(e,t,a){"use strict";var n=a(16),c=a.n(n),r=a(0),i=a.n(r),l=a(18),s=a(34),o=(a(229),a(13)),m=a(230),d=a.n(m),u=a(231),p=a.n(u),f=a(232),h=a.n(f);t.a=function(e){var t=Object(l.c)().t,a=e.isLive,n=Object(r.useState)(""),m=c()(n,2),u=m[0],f=m[1];return Object(r.useEffect)(function(){Object(s.c)().then(function(e){1===e.code?f(e.obj):o.a.info(e.msg)}).catch(function(e){throw e})},[u]),i.a.createElement("div",{className:"right-download-box ".concat(void 0!==a?"right-download-box-live":"")},i.a.createElement("div",{className:"right-download-box-title"},t("download_marsbit_app")),i.a.createElement("div",{className:"right-download-box-content"},t("marsbit_app_desc")),i.a.createElement("div",{className:"right-download-box-btn-box"},i.a.createElement("a",{className:"right-download-box-btn right-download-box-btn-color1",href:"https://apps.apple.com/cn/app/id1343659925",target:"_blank"},i.a.createElement("img",{className:"right-download-box-btn-img",src:d.a,style:{marginRight:"8px"}}),i.a.createElement("div",{className:"right-download-box-btn-text"},"iPhone 版")),i.a.createElement("a",{className:"right-download-box-btn right-download-box-btn-color2",href:u,target:"_blank"},i.a.createElement("img",{className:"right-download-box-btn-img",src:p.a,style:{marginRight:"6px"}}),i.a.createElement("div",{className:"right-download-box-btn-text"},"Android 版")),i.a.createElement("div",{className:"right-download-box-btn-code"},i.a.createElement("div",{className:"right-download-box-btn-code-show"},i.a.createElement("img",{className:"right-download-box-btn-code-show-img",src:h.a})))))}},229:function(e,t,a){},230:function(e,t,a){e.exports=a.p+"right-download-ios-bfae97d1.png"},231:function(e,t,a){e.exports=a.p+"right-download-android-e33868e0.png"},232:function(e,t,a){e.exports=a.p+"right-download-QRcode-e79e9b7e.jpg"},242:function(e,t,a){"use strict";var n=a(0),c=a.n(n);a(243);t.a=function(e){var t=e.data,a=null;switch(t.useType){case 1:case 2:a=t.url;break;case 3:a="https://news.marsbit.co/newsdetail/".concat(t.url);break;case 4:a="https://news.marsbit.co/list/".concat(t.url);break;case 5:a="https://news.marsbit.co/feature/".concat(t.url);break;case 6:a="https://news.marsbit.co/tags/".concat(t.url)}return c.a.createElement("div",{className:"ad-up-wrapper"},c.a.createElement("a",{href:a,title:t.title,key:t.id,className:"item",target:"_blank"},c.a.createElement("img",{src:t.pcImgSrc,alt:t.title})))}},243:function(e,t,a){},251:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(17),i=(a(252),function(e){var t=e.details,a=e.upOrDown;return c.a.createElement("div",{className:"judge-profit-wrapper",style:{display:"none"}},c.a.createElement("p",{className:"good-profit ".concat(1===parseInt(t.type)?"active":"")},c.a.createElement("span",{"data-status":"1","data-id":t.id,onClick:a},"利好"),c.a.createElement("span",{"data-status":"1","data-id":t.id,onClick:a},t.upCounts)),c.a.createElement("p",{className:"bad-profit ".concat(0===parseInt(t.type)?"active":"")},c.a.createElement("span",{"data-status":"0","data-id":t.id,onClick:a},"利空"),c.a.createElement("span",{"data-status":"0","data-id":t.id,onClick:a},t.downCounts)))});i.propTypes={details:r.object.isRequired},t.a=i},252:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){}}]);
//# sourceMappingURL=containers-Flash-0c7eda86.js.map