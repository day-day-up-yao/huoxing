{"version":3,"sources":["webpack:///./assets/containers/Author/index.js","webpack:///./_multiappsharing/components/Pagination/index.js","webpack:///./_multiappsharing/components/AuthorInfo/index.js","webpack:///./_multiappsharing/public/img/v-orange.svg","webpack:///./_multiappsharing/public/img/v-blue.svg"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_public_index__WEBPACK_IMPORTED_MODULE_5__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_components_AuthorInfo__WEBPACK_IMPORTED_MODULE_6__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_redux_actions_news__WEBPACK_IMPORTED_MODULE_7__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_components_Toast__WEBPACK_IMPORTED_MODULE_8__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_components_Pagination__WEBPACK_IMPORTED_MODULE_9__","identityData","type","name","connect","state","multi","authorList","news","author","userInfo","login","info","withRouter","props","dispatch","match","history","order","params","page","attentionSuccessed","useCallback","getAuthorList","currentPage","identityAuth","pageSize","myPassportId","passportId","then","res","code","Toast","msg","err","console","log","goPage","curPage","arriveAtDom","push","concat","a","createElement","className","to","parseInt","map","item","index","key","isArray","inforList","authorInfo","title","introduce","newsCount","followCount","style","display","length","recordCount","totalData","pageChange","Pagination","prevTxt","nextTxt","prevNextCount","prevNextHide","prevNextNum","totalPage","Math","ceil","totalPagePrev","useRef","_useState","useState","_useState2","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","setCurPage","_useState3","_useState4","pageArr","setPageArr","useEffect","getStartAndEnd","start","end","pageClick","initArr","itemArr","lastArr","i","current","react__WEBPACK_IMPORTED_MODULE_1___default","onClick","defaultProps","propTypes","number","isRequired","d","AttentionButton","Avatar","AuthorName","react_i18next__WEBPACK_IMPORTED_MODULE_2__","_public_img_v_orange_svg__WEBPACK_IMPORTED_MODULE_4__","_public_img_v_orange_svg__WEBPACK_IMPORTED_MODULE_4___default","_public_img_v_blue_svg__WEBPACK_IMPORTED_MODULE_5__","_public_img_v_blue_svg__WEBPACK_IMPORTED_MODULE_5___default","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_components_RegisterLogin_public__WEBPACK_IMPORTED_MODULE_6__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_components_Toast__WEBPACK_IMPORTED_MODULE_7__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_public_index__WEBPACK_IMPORTED_MODULE_8__","_Users_admin_Desktop_HUOXING_hx_news_huoxing24_com_multiappsharing_redux_actions_news__WEBPACK_IMPORTED_MODULE_9__","t","useTranslation","attentionAuthorFunc","isLogin","ifCollect","id","attentionAuthor","passportid","token","authorId","iconHide","authStyle","authName","vGrade","vOrange","vBlue","href","mixUrl","main","nickName","target","src","iconUrl","alt","module","exports","p"],"mappings":"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","file":"containers-Author-0c7eda86.js","sourcesContent":["import React, { useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport './index.scss'\n\nimport { isArray, arriveAtDom } from 'multiPublic/index'\nimport { Avatar, AttentionButton, AuthorName } from 'multiComps/AuthorInfo'\nimport { getAuthorList } from 'multiRedux/actions/news'\nimport Toast from 'multiComps/Toast'\nimport Pagination from 'multiComps/Pagination'\n\nconst identityData = [\n    {\n        type: 0,\n        name: '全部'\n    }, {\n        type: 3,\n        name: '投研'\n    }, {\n        type: 1,\n        name: '媒体'\n    }, {\n        type: 6,\n        name: '社群 '\n    }, {\n        type: 4,\n        name: '项目'\n    }, {\n        type: 2,\n        name: 'KOL'\n    }/* , {\n        type: 5,\n        name: '行情'\n    } */\n]\n\nconst Author = (props) => {\n    const { authorList, dispatch, userInfo, match, history } = props\n    const order = match.params.order || 5\n    const type = match.params.type || 0\n    const page = match.params.page || 1\n    const attentionSuccessed = useCallback(() => {\n        dispatch(getAuthorList({\n            type: order,\n            currentPage: page,\n            identityAuth: type,\n            pageSize: 30,\n            myPassportId: userInfo.passportId || ''\n        })).then(function (res) {\n            if (res.code !== 1) {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            console.log(err)\n            Toast.info('获取作者列表错误')\n        })\n    }, [order, type, page, userInfo])\n\n    const goPage = useCallback((curPage) => {\n        arriveAtDom(0)\n        history.push(`/author/${order}/${type}/${curPage}`)\n    }, [order, type])\n\n    return <div className=\"author-list-wrapper\">\n        <div className=\"sort\">\n            排序:\n            <Link\n                to={`/author/5/${type}/1`}\n                className={`${parseInt(order) === 5 && 'active'}`}>\n                推荐作者\n            </Link>\n            <Link\n                to={`/author/6/${type}/1`}\n                className={`${parseInt(order) === 6 && 'active'}`}>\n                最新入驻\n            </Link>\n        </div>\n        <div className=\"type\">\n            类别:\n            {identityData.map(function (item, index) {\n                return <Link\n                    key={item.type}\n                    to={`/author/${order}/${item.type}/1`}\n                    className={`${parseInt(type) === item.type && 'active'}`}>\n                    {item.name}\n                </Link>\n            })}\n        </div>\n        <ul>{isArray(authorList.inforList) && authorList.inforList.map(function (item, index) {\n            return <li key={index}>\n                <div className=\"left\">\n                    <Avatar authorInfo={item} />\n                </div>\n                <div className=\"right\">\n                    <div className=\"info-up\">\n                        <div className=\"title\">\n                            <div className=\"name\">\n                                <AuthorName authorInfo={item} />\n                                {/* <span>意见领袖</span> */}\n                            </div>\n                            <AttentionButton authorInfo={item} attentionSuccessed={attentionSuccessed} />\n                        </div>\n                        <p title={item.introduce}>{item.introduce}</p>\n                    </div>\n                    <div className=\"info-down\">\n                        <span>文章数：{item.newsCount || 0}</span>\n                        <span>粉丝数：{item.followCount || 0}</span>\n                    </div>\n                </div>\n            </li>\n        })}</ul>\n        <div\n            className=\"pagination\"\n            style={{ display: (authorList.inforList.length === 0 || authorList.recordCount < authorList.pageSize) && 'none' }}>\n            <Pagination\n                currentPage={page}\n                pageSize={authorList.pageSize}\n                totalData={authorList.recordCount}\n                pageChange={goPage}\n            />\n        </div>\n    </div>\n}\n\nconst mapStateToProps = (state) => {\n    const multi = state.multi\n    return {\n        authorList: multi.news.author.authorList,\n        userInfo: multi.login.userInfo.info\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(Author))\n","import React, { useState, useCallback, useEffect, useRef } from 'react'\nimport { number } from 'prop-types'\n\nimport './index.scss'\n\nconst Pagination = (props) => {\n    const {\n        currentPage, // 默认页面\n        totalData, // 数据总条数\n        pageSize, // 每页显示条数\n        pageChange, // 点击时回调函数，返回curPage\n        prevTxt, // 上一页按钮文字\n        nextTxt, // 下一页按钮文字\n        prevNextCount, // 当前页前后分页个数\n        prevNextHide // 是否显示上一页下一页\n    } = props\n\n    const dotStr = '•••'\n    const prevNextNum = parseInt(prevNextCount)\n    const totalPage = Math.ceil(parseInt(totalData) / parseInt(pageSize))\n    const totalPagePrev = useRef(totalPage)\n    const [curPage, setCurPage] = useState(parseInt(currentPage))\n    const [pageArr, setPageArr] = useState([])\n\n    // props更新时，useState数据不会更新。故在此currentPage更新时，重新设置curPage\n    useEffect(() => {\n        setCurPage(parseInt(currentPage))\n    }, [currentPage])\n\n    /** @desc 根据当前页两边页数计算: 中间开始于结束数字 */\n    const getStartAndEnd = useCallback(() => {\n        let start = 0\n        let end = 0\n        if (totalPage > prevNextNum * 2 + 3) { // 总页数大于前后个数+当前页+首尾页，需要省略\n            if (curPage < prevNextNum * 2) { // curr=1,2,3页\n                start = 2\n                end = start + 3\n            } else if (curPage > totalPage - prevNextNum * 2) { // curr=47,48,49,50\n                end = totalPage - 1\n                start = end - 3\n            } else { // 如curr=45  分页1...43 44 45 46 47 ...50\n                start = curPage - 2\n                end = curPage + 2\n            }\n        } else {\n            start = 2\n            end = totalPage - 1\n        }\n\n        return {\n            start: start,\n            end: end\n        }\n    }, [curPage, totalPage])\n\n    /** @desc 点击设置当前页，并调用props回调函数 */\n    const pageClick = useCallback((curPage) => {\n        pageChange(curPage)\n        setCurPage(curPage)\n    }, [curPage, totalPage])\n\n    /** @desc 根据curPage自动计算页面显示数组 */\n    useEffect(() => {\n        let start = getStartAndEnd().start\n        let end = getStartAndEnd().end\n        const initArr = [1]\n        const itemArr = []\n        let lastArr = []\n        for (let i = start; i <= end; i++) {\n            itemArr.push(i)\n        }\n        if (start === 2) {\n            if (end === totalPage - 1) {\n                lastArr = initArr.concat(itemArr)\n            } else {\n                lastArr = initArr.concat(itemArr).concat([dotStr])\n            }\n        } else {\n            if (end === totalPage - 1) {\n                lastArr = initArr.concat([dotStr]).concat(itemArr)\n            } else {\n                lastArr = initArr.concat([dotStr]).concat(itemArr).concat([dotStr])\n            }\n        }\n\n        if (totalPagePrev.current !== totalPage) {\n            totalPagePrev.current = totalPage\n            setCurPage(1)\n        }\n\n        if (totalPage === 1) {\n            setPageArr(lastArr)\n        } else {\n            setPageArr(lastArr.concat([totalPage]))\n        }\n    }, [curPage, totalPage])\n\n    return <div className=\"react-pagination\">\n        {!prevNextHide && <a\n            className={`prev ${curPage === 1 && 'disabled'}`}\n            title={prevTxt}\n            onClick={() => curPage > 1 && pageClick(curPage - 1)}>\n            {prevTxt}\n        </a>}\n        {pageArr.map(function (item, index) {\n            return <a key={index} className={`${curPage === item && 'active'}`} onClick={() => {\n                if (item === dotStr) return\n                pageClick(item)\n            }}>{item}</a>\n        })}\n        {!prevNextHide && <a\n            className={`next ${curPage === totalPage && 'disabled'}`}\n            title={nextTxt}\n            onClick={() => curPage < totalPage && pageClick(curPage + 1)}>\n            {nextTxt}\n        </a>}\n    </div>\n}\n\nPagination.defaultProps = {\n    prevTxt: '上一页',\n    nextTxt: '下一页',\n    prevNextCount: 2,\n    prevNextHide: false,\n    currentPage: 1\n}\n\nPagination.propTypes = {\n    totalData: number.isRequired,\n    pageSize: number.isRequired\n}\n\nexport default Pagination\n","import React, { useCallback } from 'react'\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\n\nimport './index.scss'\n\nimport vOrange from '../../public/img/v-orange.svg'\nimport vBlue from '../../public/img/v-blue.svg'\n\nimport { isLogin } from 'multiComps/RegisterLogin/public'\nimport Toast from 'multiComps/Toast'\nimport { mixUrl } from 'multiPublic/index'\nimport { attentionAuthor } from 'multiRedux/actions/news'\n\n/** @desc 关注按钮 */\nexport const AttentionButton = connect((state) => ({\n    userInfo: state.multi.login.userInfo.info\n}))((props) => {\n    const { authorInfo, userInfo, attentionSuccessed, className, dispatch } = props\n    const { t } = useTranslation()\n\n    /** @desc 关注作者 */\n    const attentionAuthorFunc = useCallback(() => {\n        if (!isLogin(userInfo.passportId, dispatch)) return\n\n        const type = authorInfo.ifCollect === 1 ? 'delete' : 'add'\n        const id = authorInfo.passportId\n        attentionAuthor({\n            passportid: userInfo.passportId,\n            token: userInfo.token,\n            authorId: id\n        }, type).then(function (res) {\n            if (res.code === 1) {\n                attentionSuccessed()\n            } else {\n                Toast.info(res.msg)\n            }\n        }).catch(function (err) {\n            Toast.info('关注作者错误')\n            throw err\n        })\n    }, [userInfo, authorInfo])\n    return <button\n        onClick={attentionAuthorFunc}\n        className={`attention-author-button ${authorInfo.ifCollect === 1 ? 'active' : ''} ${className || ''}`}>\n        {authorInfo.ifCollect === 1 ? t('guan_zhu_ed') : t('guan_zhu')}\n    </button>\n})\n\n/** @desc 头像 */\nexport const Avatar = (props) => {\n    const { authorInfo, iconHide, className } = props // iconHide认证类型图标是否隐藏\n    const { t } = useTranslation()\n\n    /** @desc 认证样式与名称 */\n    let authStyle = null\n    let authName = t('author_info_ordinary_user')\n    switch (parseInt(authorInfo.vGrade)) {\n        case 0:\n            authName = t('author_info_ordinary_user')\n            break\n        case 1:\n            authStyle = vOrange\n            authName = `MarsBit ${t('author_info_zl_self')}`\n            break\n        case 2:\n            authStyle = vBlue\n            authName = `MarsBit ${t('author_info_zl_media')}`\n            break\n        case 3:\n            authStyle = vBlue\n            authName = `MarsBit ${t('author_info_zl_enterprise')}`\n            break\n        default:\n            authName = t('author_info_ordinary_user')\n    }\n\n    return <a\n        href={mixUrl.main(`/userCenter/${authorInfo.passportId}`)}\n        title={authorInfo.nickName}\n        className={`author-info-avatar ${className || ''}`}\n        target=\"_blank\">\n        <span className=\"avatar-img\"><img className=\"img-clear-blur\" src={authorInfo.iconUrl} alt={authorInfo.nickName} /></span>\n        {authStyle && !iconHide && <span title={authName} className=\"avatar-mark\">\n            <img className=\"img-clear-blur\" src={authStyle} alt={authorInfo.nickName} />\n        </span>}\n    </a>\n}\n\n/** @desc 作者名称 */\nexport const AuthorName = (props) => {\n    const { authorInfo, className } = props\n    return <a\n        href={mixUrl.main(`/userCenter/${authorInfo.passportId}`)} title={authorInfo.nickName}\n        className={`author-info-user-name ${className || ''}`} target=\"_blank\">\n        {authorInfo.nickName}\n    </a>\n}\n\n/** @desc 作者类型标签 */\nexport const AuthorType = (props) => {\n    const { authorInfo, className } = props\n    const { t } = useTranslation()\n\n    /** @desc 认证样式与名称 */\n    let authStyle = { display: 'none' }\n    let authName = ''\n    switch (parseInt(authorInfo.vGrade)) {\n        case 1:\n            authStyle = { display: 'block', color: 'rgba(255, 123, 1, 1)', background: 'rgba(255, 123, 1, 0.1)' }\n            authName = t('author_info_self')\n            break\n        case 2:\n            authStyle = { display: 'block', color: 'rgba(10, 127, 242, 1)', background: 'rgba(10, 127, 242, 0.1)' }\n            authName = t('author_info_media')\n            break\n        case 3:\n            authStyle = { display: 'block', color: 'rgba(10, 127, 242, 1)', background: 'rgba(10, 127, 242, 0.1)' }\n            authName = t('author_info_enterprise')\n            break\n        default:\n            break\n    }\n\n    return (\n        <div className={`author-info-user-type ${className || ''}`} style={authStyle} >\n            {authName}\n        </div>\n    )\n}\n","module.exports = __webpack_public_path__ + \"v-orange-ddf372b8.svg\";","module.exports = __webpack_public_path__ + \"v-blue-77c6a4e4.svg\";"],"sourceRoot":""}