(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[3],{132:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),o=a(53),s=a(31),i=(a(295),a(1)),u=a(239),l=a(15),m=a(13),f=a(236),p=[{type:0,name:"全部"},{type:3,name:"投研"},{type:1,name:"媒体"},{type:6,name:"社群 "},{type:4,name:"项目"},{type:2,name:"KOL"}];t.default=Object(r.b)(function(e){var t=e.multi;return{authorList:t.news.author.authorList,userInfo:t.login.userInfo.info}})(Object(s.f)(function(e){var t=e.authorList,a=e.dispatch,r=e.userInfo,s=e.match,d=e.history,b=s.params.order||5,h=s.params.type||0,v=s.params.page||1,E=Object(n.useCallback)(function(){a(Object(l.d)({type:b,currentPage:v,identityAuth:h,pageSize:30,myPassportId:r.passportId||""})).then(function(e){1!==e.code&&m.a.info(e.msg)}).catch(function(e){console.log(e),m.a.info("获取作者列表错误")})},[b,h,v,r]),N=Object(n.useCallback)(function(e){Object(i.c)(0),d.push("/author/".concat(b,"/").concat(h,"/").concat(e))},[b,h]);return c.a.createElement("div",{className:"author-list-wrapper"},c.a.createElement("div",{className:"sort"},"排序:",c.a.createElement(o.b,{to:"/author/5/".concat(h,"/1"),className:"".concat(5===parseInt(b)&&"active")},"推荐作者"),c.a.createElement(o.b,{to:"/author/6/".concat(h,"/1"),className:"".concat(6===parseInt(b)&&"active")},"最新入驻")),c.a.createElement("div",{className:"type"},"类别:",p.map(function(e,t){return c.a.createElement(o.b,{key:e.type,to:"/author/".concat(b,"/").concat(e.type,"/1"),className:"".concat(parseInt(h)===e.type&&"active")},e.name)})),c.a.createElement("ul",null,Object(i.n)(t.inforList)&&t.inforList.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("div",{className:"left"},c.a.createElement(u.c,{authorInfo:e})),c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"info-up"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"name"},c.a.createElement(u.b,{authorInfo:e})),c.a.createElement(u.a,{authorInfo:e,attentionSuccessed:E})),c.a.createElement("p",{title:e.introduce},e.introduce)),c.a.createElement("div",{className:"info-down"},c.a.createElement("span",null,"文章数：",e.newsCount||0),c.a.createElement("span",null,"粉丝数：",e.followCount||0))))})),c.a.createElement("div",{className:"pagination",style:{display:(0===t.inforList.length||t.recordCount<t.pageSize)&&"none"}},c.a.createElement(f.a,{currentPage:v,pageSize:t.pageSize,totalData:t.recordCount,pageChange:N})))}))},236:function(e,t,a){"use strict";var n=a(16),c=a.n(n),r=a(0),o=a.n(r),s=a(17),i=(a(237),function(e){var t=e.currentPage,a=e.totalData,n=e.pageSize,s=e.pageChange,i=e.prevTxt,u=e.nextTxt,l=e.prevNextCount,m=e.prevNextHide,f=parseInt(l),p=Math.ceil(parseInt(a)/parseInt(n)),d=Object(r.useRef)(p),b=Object(r.useState)(parseInt(t)),h=c()(b,2),v=h[0],E=h[1],N=Object(r.useState)([]),g=c()(N,2),_=g[0],I=g[1];Object(r.useEffect)(function(){E(parseInt(t))},[t]);var k=Object(r.useCallback)(function(){var e=0,t=0;return p>2*f+3?v<2*f?t=(e=2)+3:v>p-2*f?e=(t=p-1)-3:(e=v-2,t=v+2):(e=2,t=p-1),{start:e,end:t}},[v,p]),y=Object(r.useCallback)(function(e){s(e),E(e)},[v,p]);return Object(r.useEffect)(function(){for(var e=k().start,t=k().end,a=[1],n=[],c=[],r=e;r<=t;r++)n.push(r);c=2===e?t===p-1?a.concat(n):a.concat(n).concat(["•••"]):t===p-1?a.concat(["•••"]).concat(n):a.concat(["•••"]).concat(n).concat(["•••"]),d.current!==p&&(d.current=p,E(1)),I(1===p?c:c.concat([p]))},[v,p]),o.a.createElement("div",{className:"react-pagination"},!m&&o.a.createElement("a",{className:"prev ".concat(1===v&&"disabled"),title:i,onClick:function(){return v>1&&y(v-1)}},i),_.map(function(e,t){return o.a.createElement("a",{key:t,className:"".concat(v===e&&"active"),onClick:function(){"•••"!==e&&y(e)}},e)}),!m&&o.a.createElement("a",{className:"next ".concat(v===p&&"disabled"),title:u,onClick:function(){return v<p&&y(v+1)}},u))});i.defaultProps={prevTxt:"上一页",nextTxt:"下一页",prevNextCount:2,prevNextHide:!1,currentPage:1},i.propTypes={totalData:s.number.isRequired,pageSize:s.number.isRequired},t.a=i},237:function(e,t,a){},239:function(e,t,a){"use strict";a.d(t,"a",function(){return b}),a.d(t,"c",function(){return h}),a.d(t,"b",function(){return v});var n=a(0),c=a.n(n),r=a(24),o=a(18),s=(a(246),a(247)),i=a.n(s),u=a(248),l=a.n(u),m=a(25),f=a(13),p=a(1),d=a(15),b=Object(r.b)(function(e){return{userInfo:e.multi.login.userInfo.info}})(function(e){var t=e.authorInfo,a=e.userInfo,r=e.attentionSuccessed,s=e.className,i=e.dispatch,u=Object(o.c)().t,l=Object(n.useCallback)(function(){if(Object(m.b)(a.passportId,i)){var e=1===t.ifCollect?"delete":"add",n=t.passportId;Object(d.a)({passportid:a.passportId,token:a.token,authorId:n},e).then(function(e){1===e.code?r():f.a.info(e.msg)}).catch(function(e){throw f.a.info("关注作者错误"),e})}},[a,t]);return c.a.createElement("button",{onClick:l,className:"attention-author-button ".concat(1===t.ifCollect?"active":""," ").concat(s||"")},1===t.ifCollect?u("guan_zhu_ed"):u("guan_zhu"))}),h=function(e){var t=e.authorInfo,a=e.iconHide,n=e.className,r=Object(o.c)().t,s=null,u=r("author_info_ordinary_user");switch(parseInt(t.vGrade)){case 0:u=r("author_info_ordinary_user");break;case 1:s=i.a,u="MarsBit ".concat(r("author_info_zl_self"));break;case 2:s=l.a,u="MarsBit ".concat(r("author_info_zl_media"));break;case 3:s=l.a,u="MarsBit ".concat(r("author_info_zl_enterprise"));break;default:u=r("author_info_ordinary_user")}return c.a.createElement("a",{href:p.y.main("/userCenter/".concat(t.passportId)),title:t.nickName,className:"author-info-avatar ".concat(n||""),target:"_blank"},c.a.createElement("span",{className:"avatar-img"},c.a.createElement("img",{className:"img-clear-blur",src:t.iconUrl,alt:t.nickName})),s&&!a&&c.a.createElement("span",{title:u,className:"avatar-mark"},c.a.createElement("img",{className:"img-clear-blur",src:s,alt:t.nickName})))},v=function(e){var t=e.authorInfo,a=e.className;return c.a.createElement("a",{href:p.y.main("/userCenter/".concat(t.passportId)),title:t.nickName,className:"author-info-user-name ".concat(a||""),target:"_blank"},t.nickName)}},246:function(e,t,a){},247:function(e,t,a){e.exports=a.p+"v-orange-ddf372b8.svg"},248:function(e,t,a){e.exports=a.p+"v-blue-77c6a4e4.svg"},295:function(e,t,a){}}]);
//# sourceMappingURL=containers-Author-0c7eda86.js.map