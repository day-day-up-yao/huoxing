(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{1455:function(e,t,a){"use strict";a.r(t);a(1396);var i=a(1397),n=a.n(i),l=(a(1388),a(1389)),s=a.n(l),r=(a(1387),a(50)),c=a.n(r),m=(a(361),a(20)),o=a.n(m),u=(a(678),a(363)),d=a.n(u),h=(a(1376),a(1377)),p=a.n(h),N=a(0),v=a.n(N),E=a(246),g=a(10),I=a(48);a(1627);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var U=p.a.confirm,C=d.a.Group,L=function(e){function t(){var e,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=D(t).call(this),e=!i||"object"!==f(i)&&"function"!=typeof i?S(a):i,b(S(e),"closeWindow",function(){g.hashHistory.push("/audit-official")}),b(S(e),"handleSubmit",function(t){var a=S(e);t.preventDefault();var i=e.state,n=i.ifAddV,l=i.phoneNum,s=i.identityAuth,r=i.nickName,c=i.identityDesc,m=i.introduce,u=i.iconUrl,d=i.authorPhoneNum,h=i.identityName,p=i.identityNum,N=i.idUserUrl,v=i.whiteListFlag,E=i.jiaFollow,g=!0;if(""===l?(e.setState({tipsPhone:"注册账号不能为空"}),o.a.error("注册账号不能为空"),g=!1):Object(I.I)(l)?(e.setState({tipsPhone:""}),""===r?(e.setState({tipsNickName:"昵称不能为空"}),o.a.error("昵称不能为空"),g=!1):r.length>16?(e.setState({tipsNickName:"昵称不能超过16个字"}),o.a.error("昵称不能超过16个字"),g=!1):(e.setState({tipsNickName:""}),""===c?(e.setState({tipsIdentityDesc:"MarsBit专栏签名不能为空"}),o.a.error("MarsBit专栏签名不能为空"),g=!1):c.length<5||c.length>20?(e.setState({tipsIdentityDesc:"MarsBit专栏签名请在5-20个字以内"}),o.a.error("MarsBit专栏签名不能为空"),g=!1):(e.setState({tipsIdentityDesc:""}),""===u?(e.setState({tipsIconUrl:"请上传头像图片"}),o.a.error("请上传头像图片"),g=!1):e.setState({tipsIconUrl:""})))):(e.setState({tipsPhone:"请输入正确的手机号"}),o.a.error("请输入正确的手机号"),g=!1),g){var f={type:n,phoneNum:l,identityAuth:s,nickName:r,identityDesc:c,introduce:m,iconUrl:u,authorPhoneNum:d,identityName:h,identityNum:p,idUserUrl:N,jiaFollow:E,whiteListFlag:v};U({title:"提示",content:"确认要添加吗?",onOk:function(){Object(I.i)("POST","/account/addrealauth",f,function(e){1===e.code?(o.a.success("操作成功！"),a.closeWindow()):o.a.error(e.msg)})}})}}),b(S(e),"handleCancel",function(){return e.setState({previewVisible:!1})}),b(S(e),"showModal",function(t){e.setState({previewVisible:!0,previewImage:t})}),b(S(e),"handlePreview",function(t){e.setState({previewImage:t.url||t.thumbUrl,previewVisible:!0})}),b(S(e),"onIconUrlChange",function(t){var a=t.file,i=t.fileList;e.setState({iconUrlFileList:i}),"removed"===a.status&&e.setState({iconUrl:""}),a.response&&(1===a.response.code&&"done"===a.status&&e.setState({iconUrl:a.response.obj,tipsIconUrl:""}),"error"===a.status&&(o.a.error("网络错误，上传失败！"),e.setState({iconUrl:"",iconUrlFileList:[],tipsIconUrl:"网络错误，上传失败！"})))}),b(S(e),"onIdUserUrlChange",function(t){var a=t.file,i=t.fileList;e.setState({idUserUrlFileList:i}),"removed"===a.status&&e.setState({idUserUrl:""}),a.response&&(1===a.response.code&&"done"===a.status&&e.setState({idUserUrl:a.response.obj,tipsIdUserUrl:""}),"error"===a.status&&(o.a.error("网络错误，上传失败！"),e.setState({idUserUrl:"",idUserUrlFileList:[],tipsIdUserUrl:"网络错误，上传失败！"})))}),b(S(e),"onChangeResult",function(t){e.setState({reason:t.target.value})}),b(S(e),"addVChange",function(t){e.setState({ifAddV:t.target.value})}),b(S(e),"changeIdentityAuth",function(t){console.log(t.target.value),e.setState({identityAuth:t.target.value})}),b(S(e),"trim",function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}),b(S(e),"onJiaFollowChange",function(t){t.target.value=t.target.value.replace(/[^\d]/g,""),e.setState({jiaFollow:parseInt(""===t.target.value?0:t.target.value),allFollow:parseInt(e.state.realFollow)+parseInt(""===t.target.value?0:t.target.value)})}),b(S(e),"onPhoneNumChange",function(t){var a=e.trim(t.target.value);e.setState({phoneNum:a}),""===a?e.setState({tipsPhone:"注册手机号不能为空"}):Object(I.I)(a)?e.setState({tipsPhone:""}):e.setState({tipsPhone:"请输入正确的手机号"})}),b(S(e),"onNicknameChange",function(t){var a=e.trim(t.target.value);e.setState({nickName:a}),""===a?e.setState({tipsNickName:"昵称不能为空"}):a.length>16?e.setState({tipsNickName:"昵称不能超过16个字"}):e.setState({tipsNickName:""})}),b(S(e),"onIdentityDescChange",function(t){var a=e.trim(t.target.value);e.setState({identityDesc:a}),""===a?e.setState({tipsIdentityDesc:"MarsBit专栏签名不能为空"}):a.length<5||a.length>20?e.setState({tipsIdentityDesc:"MarsBit专栏签名请在5-20个字以内"}):e.setState({tipsIdentityDesc:""})}),b(S(e),"onIntroduceChange",function(t){var a=e.trim(t.target.value);e.setState({introduce:a})}),b(S(e),"onAuthorPhoneChange",function(t){var a=e.trim(t.target.value);e.setState({authorPhoneNum:a}),""!==a&&(Object(I.I)(a)?e.setState({tipsAuthorPhone:""}):e.setState({tipsAuthorPhone:"请输入正确的手机号"}))}),b(S(e),"onIdentityNameChange",function(t){var a=e.trim(t.target.value);e.setState({identityName:a})}),b(S(e),"onIdentityNumChange",function(t){var a=e.trim(t.target.value);e.setState({identityNum:a}),""!==a&&1===e.state.ifAddV&&(Object(I.F)(a)?e.setState({tipsIdentityNum:""}):e.setState({tipsIdentityNum:"请输入正确的身份证号"}))}),b(S(e),"onWhiteListFlagChange",function(t){!0===t?e.setState({whiteListFlag:1}):e.setState({whiteListFlag:0})}),e.state={loading:!1,previewVisible:!1,previewImage:"",noPassReason:"",nickName:"",ifAddV:1,phoneNum:"",tipsPhone:"",identityAuth:0,closeLoading:!1,identityDesc:"",introduce:"",realFollow:0,jiaFollow:0,allFollow:0,tipsNickName:"",tipsIdentityDesc:"",iconUrl:"",iconUrlFileList:[],tipsIconUrl:"",authorPhoneNum:"",tipsAuthorPhone:"",identityName:"",tipsIdentityName:"",identityNum:"",tipsIdentityNum:"",idUserUrlFileList:[],idUserUrl:"",tipsIdUserUrl:"",whiteListFlag:0},e}var a,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,N["Component"]),a=t,(i=[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"auditStatus",value:function(e){var t="";return I.g.map(function(a,i){parseInt(a.value)===e&&(t=a.label)}),t}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.ifAddV,a=e.phoneNum,i=e.tipsPhone,l=e.nickName,r=e.jiaFollow,m=e.allFollow,o=e.tipsNickName,u=e.identityDesc,h=e.tipsIdentityDesc,N=e.introduce,E=e.iconUrlFileList,g=e.tipsIconUrl,f=e.authorPhoneNum,y=e.tipsAuthorPhone,D=e.identityName,S=e.tipsIdentityName,w=e.identityNum,b=e.tipsIdentityNum,U=e.idUserUrlFileList,L=e.tipsIdUserUrl,P=e.whiteListFlag,F=v.a.createElement("div",null,v.a.createElement(c.a,{type:"plus"}),v.a.createElement("div",{className:"ant-upload-text"},"上传图片")),R=1===P;return v.a.createElement("div",null,v.a.createElement("div",{className:"audit-detail"},v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h1",null,"认证状态")),v.a.createElement("div",{className:"auditDetailItemRight"})),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"认证类型：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement(C,{onChange:this.addVChange,value:t},v.a.createElement(d.a,{className:"radioText",value:1},"个人"),v.a.createElement(d.a,{className:"radioText",value:2},"媒体"),v.a.createElement(d.a,{className:"radioText",value:3},"机构")))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,v.a.createElement("span",null,"*"),"注册账号：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput ".concat(""!==i?"tips":""),value:a,onChange:this.onPhoneNumChange,name:"phoneNum",type:"text"}),v.a.createElement("p",null,"输入注册账号手机号"),v.a.createElement("p",{className:"tips"},i))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h1",null,"粉丝管理")),v.a.createElement("div",{className:"auditDetailItemRight"})),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"真实粉丝数：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("h3",null,"0"))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"添加粉丝数：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput",value:r,onChange:this.onJiaFollowChange,name:"jiaFollow",type:"text"}))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"展示粉丝数：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("h3",null,m),v.a.createElement("p",null,"展示粉丝数为真实粉丝数与添加粉丝数之和"))),v.a.createElement("div",{className:"auditDetailItem otherTop"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h1",null,"基础信息")),v.a.createElement("div",{className:"auditDetailItemRight"})),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"分类：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement(C,{onChange:this.changeIdentityAuth,value:this.state.identityAuth},v.a.createElement(d.a,{className:"radioText",value:1},"媒体"),v.a.createElement(d.a,{className:"radioText",value:2},"KOL"),v.a.createElement(d.a,{className:"radioText",value:3},"投研"),v.a.createElement(d.a,{className:"radioText",value:4},"项目"),v.a.createElement(d.a,{className:"radioText",value:5},"行情"),v.a.createElement(d.a,{className:"radioText",value:6},"社群"),v.a.createElement(d.a,{className:"radioText",value:0},"其他")))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,v.a.createElement("span",null,"*"),"MarsBit专栏昵称：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput ".concat(""!==o?"tips":""),value:l,onChange:this.onNicknameChange,name:"nickName",type:"text"}),v.a.createElement("p",null,"1-16个字，使用与文章主题相关的名称，可有效提高内容点击量。例如：MarsBit行情"),v.a.createElement("p",{className:"tips"},o))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,v.a.createElement("span",null,"*"),"MarsBit专栏签名：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput ".concat(""!==h?"tips":""),value:u,onChange:this.onIdentityDescChange,name:"identityDesc",type:"text"}),v.a.createElement("p",null,"5-20个字，将显示在个人主页，签名准确描述文章风格，有助于加强读者对您的了解。示例：专注BTC行情分析"),v.a.createElement("p",{className:"tips"},h))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"MarsBit专栏介绍：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("textarea",{className:"auditDetailItemRightTextarea",value:N,onChange:this.onIntroduceChange,name:"introduce",maxLength:"100",type:"text"}),v.a.createElement("p",null,"请输入MarsBit专栏介绍，保持100字以内"))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,v.a.createElement("span",null,"*"),"作者头像：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement(s.a,{action:"".concat(I.a,"/pic/upload"),headers:{"Sign-Param":Object(I.A)()},name:"uploadFile",listType:"picture-card",fileList:E,onPreview:this.handlePreview,onChange:this.onIconUrlChange},E.length>=1?null:F),v.a.createElement("p",null,"请勿使用二维码、政治敏感及色情图片；"),v.a.createElement("p",null,"图片格式支持bmp、jpeg、jpg、png；200x200像素，大小不超过5M"),v.a.createElement("p",{className:"tips"},g))),v.a.createElement("div",{className:"auditDetailItem otherTop"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h1",null,"认证信息")),v.a.createElement("div",{className:"auditDetailItemRight"})),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"联系电话：")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput ".concat(""!==y?"tips":""),value:f,onChange:this.onAuthorPhoneChange,name:"authorPhoneNum",type:"text"}),v.a.createElement("p",null,"输入常用的手机号"),v.a.createElement("p",{className:"tips"},y))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"".concat(1===t?"姓名：":"组织/企业名称："))),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput ".concat(""!==S?"tips":""),value:D,onChange:this.onIdentityNameChange,name:"identityName",type:"text"}),v.a.createElement("p",null,"".concat(1===t?"请与身份证姓名保持一致":"请与营业执照上信息保持一致")),v.a.createElement("p",{className:"tips"},S))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"".concat(1===t?"身份证号：":"组织机构代码/营业执照编号："))),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("input",{className:"auditDetailItemRightInput ".concat(""!==b?"tips":""),value:w,onChange:this.onIdentityNumChange,name:"identityNum",type:"text"}),v.a.createElement("p",null,"".concat(1===t?"请确保身份证号和身份证姓名对应":"请与营业执照上信息保持一致")),v.a.createElement("p",{className:"tips"},b))),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"".concat(1===t?"手持身份证：":"组织机构代码证/营业执照影印件："))),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement(s.a,{action:"".concat(I.a,"/pic/upload"),headers:{"Sign-Param":Object(I.A)()},name:"uploadFile",listType:"picture-card",fileList:U,onPreview:this.handlePreview,onChange:this.onIdUserUrlChange},U.length>=1?null:F),v.a.createElement("p",null,"请上传组织机构代码证或营业执照原件的彩色扫描件或复印件"),v.a.createElement("p",null,"请确保图片信息清晰可见，大小不超过5M"),v.a.createElement("p",{className:"tips"},L))),v.a.createElement("div",{className:"auditDetailItem otherTop"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h1",null,"用户权限")),v.a.createElement("div",{className:"auditDetailItemRight"})),v.a.createElement("div",{className:"auditDetailItem"},v.a.createElement("div",{className:"auditDetailItemLeft"},v.a.createElement("h2",null,"白名单")),v.a.createElement("div",{className:"auditDetailItemRight"},v.a.createElement("div",{className:"auditDetailItemRightSwitchBox"},v.a.createElement(n.a,{onChange:this.onWhiteListFlagChange,defaultChecked:R})))),v.a.createElement("div",{className:"auditDetailBtn"},v.a.createElement("button",{onClick:this.handleSubmit},"确认添加"),v.a.createElement("button",{className:"cancel",onClick:this.closeWindow},"返回")),v.a.createElement(p.a,{visible:this.state.previewVisible,footer:null,onCancel:this.handleCancel},v.a.createElement("img",{alt:"example",style:{width:"100%"},src:this.state.previewImage}))))}}])&&y(a.prototype,i),l&&y(a,l),t}();t.default=Object(E.connect)(function(e){return{}})(L)}}]);