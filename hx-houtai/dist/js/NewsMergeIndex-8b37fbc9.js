(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{1537:function(e,t,n){"use strict";n.r(t);n(675);var r=n(676),a=n.n(r),i=(n(1385),n(1386)),o=n.n(i),s=(n(1381),n(1382)),c=n.n(s),l=(n(1383),n(1384)),u=n.n(l),f=(n(247),n(183)),p=n.n(f),h=(n(184),n(1378)),d=n.n(h),b=(n(1390),n(1391)),y=n.n(b),m=(n(361),n(20)),g=n.n(m),v=(n(677),n(362)),k=n.n(v),C=(n(1376),n(1377)),w=n.n(C),E=n(0),B=n.n(E),O=n(246),S=(n(1379),n(1380)),_=n.n(S);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=_.a.Item,N=k.a.Option,F=function(e){function t(e){var n,r,a,i,o,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=D(t).call(this,e),n=!a||"object"!==j(a)&&"function"!=typeof a?I(r):a,i=I(n),s=function(e){n.setState({value:e,data:[]})},(o="handleChange")in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,n.state={data:[],value:"",description:"",loading:!0,userType:"1",searching:!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,E["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onCancel,r=e.onCreate,i=e.form.getFieldDecorator,o={labelCol:{span:6},wrapperCol:{span:16,offset:1}};return B.a.createElement(w.a,{visible:t,title:"新增新闻主体",okText:"确定",onCancel:n,onOk:r},B.a.createElement(_.a,null,B.a.createElement(A,P({},o,{label:"主体类型"}),i("type",{initialValue:this.state.value||"0",rules:[{required:!0,message:"请选择新闻主体！"}]})(B.a.createElement(k.a,{notFoundContent:this.state.searching?B.a.createElement(a.a,{size:"small"}):null,showArrow:!0,filterOption:!1,onChange:this.handleChange},B.a.createElement(N,{key:0},"公众号"),B.a.createElement(N,{key:2},"头条号")))),B.a.createElement(A,P({},o,{label:"公众号/网站地址"}),i("publicId",{initialValue:"",rules:[{required:!0,message:"请填写公众号/网站地址！"}]})(B.a.createElement(d.a,null))),B.a.createElement(A,P({},o,{label:"公众号/网站名称"}),i("publicName",{initialValue:"",rules:[{required:!0,message:"请填写公众号/网站名称！"}]})(B.a.createElement(d.a,null)))))}}])&&x(n.prototype,r),i&&x(n,i),t}(),z=_.a.create()(F),q=(n(1698),n(10)),R=n(1699),T=n(48),H=H||function(e,t){var n={},r=n.lib={},a=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),i=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,a=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<a;i++){var o=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=o<<24-(r+i)%4*8}else if(n.length>65535)for(i=0;i<a;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],a=function(t){t=t;var n=987654321,r=4294967295;return function(){var a=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return a/=4294967296,(a+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=a(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new i.init(r,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},c=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},l=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*c,a);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(r,u);var f=r.splice(0,c);n.sigBytes-=l}return new i.init(f,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=u.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(e){var t=H,n=t.lib,r=n.WordArray,a=n.Hasher,i=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var s=i.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,a=e[r];e[r]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,s=e[t+0],p=e[t+1],h=e[t+2],d=e[t+3],b=e[t+4],y=e[t+5],m=e[t+6],g=e[t+7],v=e[t+8],k=e[t+9],C=e[t+10],w=e[t+11],E=e[t+12],B=e[t+13],O=e[t+14],S=e[t+15],_=i[0],j=i[1],P=i[2],x=i[3];_=c(_,j,P,x,s,7,o[0]),x=c(x,_,j,P,p,12,o[1]),P=c(P,x,_,j,h,17,o[2]),j=c(j,P,x,_,d,22,o[3]),_=c(_,j,P,x,b,7,o[4]),x=c(x,_,j,P,y,12,o[5]),P=c(P,x,_,j,m,17,o[6]),j=c(j,P,x,_,g,22,o[7]),_=c(_,j,P,x,v,7,o[8]),x=c(x,_,j,P,k,12,o[9]),P=c(P,x,_,j,C,17,o[10]),j=c(j,P,x,_,w,22,o[11]),_=c(_,j,P,x,E,7,o[12]),x=c(x,_,j,P,B,12,o[13]),P=c(P,x,_,j,O,17,o[14]),_=l(_,j=c(j,P,x,_,S,22,o[15]),P,x,p,5,o[16]),x=l(x,_,j,P,m,9,o[17]),P=l(P,x,_,j,w,14,o[18]),j=l(j,P,x,_,s,20,o[19]),_=l(_,j,P,x,y,5,o[20]),x=l(x,_,j,P,C,9,o[21]),P=l(P,x,_,j,S,14,o[22]),j=l(j,P,x,_,b,20,o[23]),_=l(_,j,P,x,k,5,o[24]),x=l(x,_,j,P,O,9,o[25]),P=l(P,x,_,j,d,14,o[26]),j=l(j,P,x,_,v,20,o[27]),_=l(_,j,P,x,B,5,o[28]),x=l(x,_,j,P,h,9,o[29]),P=l(P,x,_,j,g,14,o[30]),_=u(_,j=l(j,P,x,_,E,20,o[31]),P,x,y,4,o[32]),x=u(x,_,j,P,v,11,o[33]),P=u(P,x,_,j,w,16,o[34]),j=u(j,P,x,_,O,23,o[35]),_=u(_,j,P,x,p,4,o[36]),x=u(x,_,j,P,b,11,o[37]),P=u(P,x,_,j,g,16,o[38]),j=u(j,P,x,_,C,23,o[39]),_=u(_,j,P,x,B,4,o[40]),x=u(x,_,j,P,s,11,o[41]),P=u(P,x,_,j,d,16,o[42]),j=u(j,P,x,_,m,23,o[43]),_=u(_,j,P,x,k,4,o[44]),x=u(x,_,j,P,E,11,o[45]),P=u(P,x,_,j,S,16,o[46]),_=f(_,j=u(j,P,x,_,h,23,o[47]),P,x,s,6,o[48]),x=f(x,_,j,P,g,10,o[49]),P=f(P,x,_,j,O,15,o[50]),j=f(j,P,x,_,y,21,o[51]),_=f(_,j,P,x,E,6,o[52]),x=f(x,_,j,P,d,10,o[53]),P=f(P,x,_,j,C,15,o[54]),j=f(j,P,x,_,p,21,o[55]),_=f(_,j,P,x,v,6,o[56]),x=f(x,_,j,P,S,10,o[57]),P=f(P,x,_,j,m,15,o[58]),j=f(j,P,x,_,B,21,o[59]),_=f(_,j,P,x,b,6,o[60]),x=f(x,_,j,P,w,10,o[61]),P=f(P,x,_,j,h,15,o[62]),j=f(j,P,x,_,k,21,o[63]),i[0]=i[0]+_|0,i[1]=i[1]+j|0,i[2]=i[2]+P|0,i[3]=i[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,a=8*t.sigBytes;n[a>>>5]|=128<<24-a%32;var i=e.floor(r/4294967296),o=r;n[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,a,i,o){var s=e+(t&n|~t&r)+a+o;return(s<<i|s>>>32-i)+t}function l(e,t,n,r,a,i,o){var s=e+(t&r|n&~r)+a+o;return(s<<i|s>>>32-i)+t}function u(e,t,n,r,a,i,o){var s=e+(t^n^r)+a+o;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,a,i,o){var s=e+(n^(t|~r))+a+o;return(s<<i|s>>>32-i)+t}t.MD5=a._createHelper(s),t.HmacMD5=a._createHmacHelper(s)}(Math);var U={},V=function(e,t){function n(e,t,n){return(l[e]||(l[e]=s("x,y","return x "+e+" y")))(n,t)}function r(e,t,n){return(u[n]||(u[n]=s("x,y","return new x[y]("+Array(n+1).join(",x[++y]").substr(1)+")")))(e,t)}function a(e,t,n){var r,a,o={},s=o.d=n?n.d+1:0;for(o["$"+s]=o,a=0;a<s;a++)o[r="$"+a]=n[r];for(a=0,s=o.length=t.length;a<s;a++)o[a]=t[a];return i(e,0,o)}function i(e,t,s){function l(e){y[m++]=e}function u(){return b=e.charCodeAt(t++)-32,e.substring(t,t+=b)}function f(){try{h=i(e,t,s)}catch(e){p=e,h=f}}for(var p,h,d,b,y=[],m=0;;)switch(b=e.charCodeAt(t++)-32){case 1:l(!y[--m]);break;case 4:y[m++]=u();break;case 5:l(function(e){var t=0,n=e.length;return function(){var r=t<n;return r&&l(e[t++]),r}}(y[--m]));break;case 6:h=y[--m],l(y[--m](h));break;case 8:if(b=e.charCodeAt(t++)-32,f(),t+=b,b=e.charCodeAt(t++)-32,h===i)t+=b;else if(h!==f)return h;break;case 9:y[m++]=i;break;case 10:l(c(y[--m]));break;case 11:h=y[--m],l(y[--m]+h);break;case 12:for(h=u(),d=[],b=0;b<h.length;b++)d[b]=h.charCodeAt(b)^b+h.length;l(String.fromCharCode.apply(null,d));break;case 13:h=y[--m],p=delete y[--m][h];break;case 14:y[m++]=e.charCodeAt(t++)-32;break;case 59:l((b=e.charCodeAt(t++)-32)?(h=m,y.slice(m-=b,h)):[]);break;case 61:l(y[--m][e.charCodeAt(t++)-32]);break;case 62:b=y[--m],s[0]=65599*s[0]+s[1].charCodeAt(b)>>>0;break;case 65:p=y[--m],h=y[--m],y[--m][h]=p;break;case 66:l(n(e.substr(t++,1),y[--m],y[--m]));break;case 67:h=y[--m],d=y[--m],l((b=y[--m]).x===i?a(b.y,h,s):b.apply(d,h));break;case 68:l(n((b=e.substr(t++,1))<"<"?(t--,u()):b+b,y[--m],y[--m]));break;case 70:l(!1);break;case 71:y[m++]=o;break;case 72:y[m++]=+u();break;case 73:l(parseInt(u(),36));break;case 75:if(y[--m]){t++;break}case 74:b=e.charCodeAt(t++)-32<<16>>16,t+=b;break;case 76:l(s[e.charCodeAt(t++)-32]);break;case 77:h=y[--m],l(y[--m][h]);break;case 78:b=e.charCodeAt(t++)-32,l(r(y,m-=b+1,b));break;case 79:b=e.charCodeAt(t++)-32,l(s["$"+b]);break;case 81:p=y[--m],y[--m][u()]=p;break;case 82:l(y[--m][u()]);break;case 83:p=y[--m],s[e.charCodeAt(t++)-32]=p;break;case 84:y[m++]=!0;break;case 85:y[m++]=void 0;break;case 86:l(y[m-1]);break;case 88:p=y[--m],h=y[--m],y[m++]=p,y[m++]=h;break;case 89:l(function(){function e(){return a(e.y,arguments,s)}return e.y=u(),e.x=i,e}());break;case 90:y[m++]=null;break;case 91:y[m++]=p;break;case 93:p=y[--m];break;case 0:return y[--m];default:l((b<<16>>16)-16)}}var o=window,s=o.Function,c=Object.keys||function(e){var t={},n=0;for(var r in e)t[n++]=r;return t.length=n,t},l={},u={};a(decodeURIComponent("gr%24Daten%20%D0%98b%2Fs!l%20y%CD%92y%C4%B9g%2C(lfi~ah%60%7Bmv%2C-n%7CjqewVxp%7Brvmmx%2C%26eff%7Fkx%5B!cs%22l%22.Pq%25widthl%22%40q%26heightl%22vr*getContextx%24%222d%5B!cs%23l%23%2C*%3B%3F%7Cu.%7Cuc%7Buq%24fontl%23vr(fillTextx%24%24%E9%BE%98%E0%B8%91%E0%B8%A0%EA%B2%BD2%3C%5B%23c%7Dl%232q*shadowBlurl%231q-shadowOffsetXl%23%24%24limeq%2BshadowColorl%23vr%23arcx88802%5B%25c%7Dl%23vr%26strokex%5B%20c%7Dl%22v%2C)%7DeOmyoZB%5Dmx%5B%20cs!0s%24l%24Pb%3Ck7l%20l!r%26lengthb%25%5El%241%2Bs%24j%02l%20%20s%23i%241ek1s%24gr%23tack4)zgr%23tac%24!%20%2B0o!%5B%23cj%3Fo%20%5D!l%24b%25s%22o%20%5D!l%22l%24b*b%5E0d%23%3E%3E%3Es!0s%25yA0s%22l%22l!r%26lengthb%3Ck%2Bl%22%5El%221%2Bs%22j%05l%20%20s%26l%26z0l!%24%20%2B%5B%22cs'(0l%23i'1ps9wxb%26s()%20%26%7Bs)%2Fs(gr%26Stringr%2CfromCharCodes)0s*yWl%20._b%26s%20o!%5D)l%20l%20Jb%3Ck%24.aj%3Bl%20.Tb%3Ck%24.gj%2Fl%20.%5Eb%3Ck%26i%22-4j!%1F%2B%26%20s%2ByPo!%5D%2Bs!l!l%20Hd%3E%26l!l%20Bd%3E%26%2Bl!l%20%3Cd%3E%26%2Bl!l%206d%3E%26%2Bl!l%20%26%2B%20s%2Cy%3Do!o!%5D%2Fq%2213o!l%20q%2210o!%5D%2Cl%202d%3E%26%20s.%7Bs-yMo!o!%5D0q%2213o!%5D*Ld%3Cl%204d%23%3E%3E%3Eb%7Cs!o!l%20q%2210o!%5D%2Cl!%26%20s%2FyIo!o!%5D.q%2213o!%5D%2Co!%5D*Jd%3Cl%206d%23%3E%3E%3Eb%7C%26o!%5D%2Bl%20%26%2B%20s0l-l!%26l-l!i'1z141z4b%2F%40d%3Cl%22b%7C%26%2Bl-l(l!b%5E%26%2Bl-l%26zl'g%2C)gk%7Dejo%7B%7Fcm%2C)%7Cyn~Lij~em%5B%22cl%24b%25%40d%3Cl%26zl'l%20%24%20%2B%5B%22cl%24b%25b%7C%26%2Bl-l%258d%3C%40b%7Cl!b%5E%26%2B%20q%24sign%20"),[U={}]);var f=function(){var e=Math.floor((new Date).getTime()/1e3),t=e.toString(16).toUpperCase(),n=H.MD5(e+"").toString().toUpperCase();if(8!=t.length)return{as:"479BB4B7254C150",cp:"7E0AC8874BB0985"};for(var r=n.slice(0,5),a=n.slice(-5),i="",o=0;5>o;o++)i+=r.substr(o,1)+t.substr(o,1);for(var s="",c=0;5>c;c++)s+=t.substr(c+3,1)+a.substr(c,1);return{as:"A1"+i+t.slice(-3),cp:t.slice(0,3)+s+"E1"}}();return f._signature=U.sign(e.toString()+t.toString()),JSON.stringify(f)},L=n(51),J=n.n(L);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Q(e,t,n[t])})}return e}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=w.a.confirm,ee=k.a.Option,te=[],ne=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=X(t).call(this,e),n=!a||"object"!==W(a)&&"function"!=typeof a?Z(r):a,Q(Z(n),"getUid",function(e){var t=e.split("user/")[1].split("/")[0],n=JSON.parse(V(t||"",0));return J.a.set("snuid","".concat(n.as,"&").concat(n.cp,"&").concat(n._signature)),"".concat(n.as,"&").concat(n.cp,"&").concat(n._signature)}),Q(Z(n),"getOrderNum",function(e){n.setState({order:e})}),Q(Z(n),"handleChange",function(e){(0,n.props.dispatch)(Object(R.c)({status:e})),n.setState({status:e}),n.doSearch("init",{currentPage:1,status:e})}),Q(Z(n),"typeChange",function(e){(0,n.props.dispatch)(Object(R.c)({type:e})),n.setState({type:e}),n.doSearch("init",{currentPage:1,type:e})}),Q(Z(n),"showModal",function(){n.setState({visible:!0})}),Q(Z(n),"handleFormCancel",function(){n.setState({visible:!1})}),Q(Z(n),"handleCreate",function(){var e=n.formRef.props.form;e.validateFields(function(t,r){t||(Object(T.i)("POST","/publicnum/addpublicnum",r,function(e){1===e.code?(g.a.success("添加成功！"),n.doSearch("init")):g.a.error(e.msg)}),e.resetFields(),n.setState({visible:!1}))})}),Q(Z(n),"saveFormRef",function(e){n.formRef=e}),n.state={visible:!1,loading:!0,previewVisible:!1,previewImage:"",status:null,type:"0",order:"",recommendVisible:!1,codeValue:""},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,E["Component"]),n=t,(r=[{key:"componentWillMount",value:function(){var e=this;console.log(V(4711676588,0));var t=this.props.filter;this.doSearch("init",{status:t.status}),te=[{title:"名称",key:"publicName",render:function(t,n){return n&&B.a.createElement("div",{className:"columnAuthor-info clearfix"},B.a.createElement("div",null,B.a.createElement("h3",{title:n.publicName,dangerouslySetInnerHTML:e.createMarkup(Object(T.q)(n.publicName,50))}),B.a.createElement("span",{style:{marginTop:5}},"(排序: ",n.rank,")")))}},{title:"来源",key:"type",render:function(e){return e&&0===e.type?B.a.createElement("span",{className:"newsMerge-status pre-publish"},"微信公众号"):e&&1===e.type?B.a.createElement("span",{className:"newsMerge-status pre-publish"},"网站"):e&&2===e.type?B.a.createElement("span",{className:"newsMerge-status pre-publish"},"头条号"):B.a.createElement("span",null,"暂无")}},{title:"地址",key:"publicId",render:function(e){return e&&e.publicId?B.a.createElement("span",{className:"newsMerge-status",style:{background:"#ff8978"}},e.publicId):B.a.createElement("span",null,"暂无")}},{title:"状态",dataIndex:"status",key:"status",render:function(e){return 1===parseInt(e)?B.a.createElement("span",{className:"newsMerge-status",style:{background:"#349d58"}},"正常"):B.a.createElement("span",{className:"newsMerge-status",style:{background:"#f2782a"}},"禁用")}},{title:"操作",key:"option",render:function(t){return B.a.createElement("div",null,B.a.createElement("a",{disabled:1!==t.status,onClick:function(){return e.intoContentList(t)},style:{background:"#3dadf2"},className:"mr10 opt-btn ".concat(1!==t.status?"disabled":""),href:"javascript:void(0)"},"新闻列表"),B.a.createElement("a",{disabled:1!==t.status,onClick:function(){return e.changeRank(t)},style:{background:"#5d7bbe"},className:"mr10 opt-btn ".concat(1!==t.status?"disabled":""),href:"javascript:void(0)"},"修改排序"),1===parseInt(t.status)?B.a.createElement("a",{onClick:function(){return e.changeMergeStatus(t)},style:{background:"#f2782a"},className:"mr10 opt-btn",href:"javascript:void(0)"},"禁用"):B.a.createElement("a",{onClick:function(){return e.changeMergeStatus(t)},style:{background:"#349d58"},className:"mr10 opt-btn",href:"javascript:void(0)"},"启用"),B.a.createElement("a",{onClick:function(){return e.delMerge(t)},style:{background:"#dd274e"},className:"mr10 opt-btn",href:"javascript:void(0)"},"删除"))}}]}},{key:"intoContentList",value:function(e){q.hashHistory.push({pathname:"/merge-edit",query:{snuid:2===e.type?this.getUid(e.publicId):"",id:e.publicId,type:0===e.type?"weixin_".concat(e.publicName):2===e.type?"toutiao_".concat(e.publicName):e.publicName}})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(Object(R.e)({type:"init",nickName:""})),e(Object(R.d)({pageSize:20,totalCount:0}))}},{key:"createMarkup",value:function(e){return{__html:e}}},{key:"channelName",value:function(e,t){var n="";return e.map(function(e,r){parseInt(e.value)===t&&(n=e.label)}),n}},{key:"changeRank",value:function(e){var t=this;this.setState({order:e.rank}),Y({title:"提示",content:B.a.createElement("div",{className:"modal-input"},B.a.createElement("span",{style:{marginRight:10}},"请输入排序值：(数值越小越靠前)"),B.a.createElement(y.a,{min:1,defaultValue:e.rank||1,autoFocus:!0,type:"number",onChange:t.getOrderNum})),onOk:function(){var n=t.state.order;if(!n)return g.a.error("排序值不能为空！"),!1;var r={type:e.type,publicId:e.publicId,newRank:n,oldRank:e.rank};Object(T.i)("POST","/publicnum/updaterank",$({},r),function(e){1===e.code?(g.a.success("操作成功"),t.doSearch("init")):g.a.error(e.msg)})}})}},{key:"doSearch",value:function(e,t){var n=this,r=this.props,a=r.dispatch,i=r.pageData,o=r.filter,s=r.search,c={type:o.type,status:o.status,value:s.symbol,pageSize:20,currentPage:i.currentPage};c=$({},c,t),a(Object(R.b)(e,c,function(){n.setState({loading:!1})}))}},{key:"_search",value:function(){var e=this.props.dispatch;this.doSearch("init",{currentPage:1}),e(Object(R.d)({currentPage:1}))}},{key:"changePage",value:function(e){this.setState({loading:!0});var t=this.props,n=t.dispatch,r=t.search,a=t.filter;n(Object(R.d)({currentPage:e})),this.doSearch(r.type,$({currentPage:e},a))}},{key:"changeMergeStatus",value:function(e){var t=this;Y({title:"提示",content:"确认要".concat(1===parseInt(e.status)?"禁用":"启用","新闻主体吗 ?"),onOk:function(){var n={type:e.type,publicId:e.publicId,status:1===parseInt(e.status)?0:1};Object(T.i)("POST","/publicnum/status",$({},n),function(e){1===e.code?(g.a.success("操作成功"),t.doSearch("init")):g.a.error(e.msg)})}})}},{key:"delMerge",value:function(e){var t=this;Y({title:"提示",content:"删除不可恢复，确认要删除此新闻主体吗？",onOk:function(){var n={type:e.type,publicId:e.publicId,status:-1};Object(T.i)("POST","/publicnum/status",$({},n),function(e){1===e.code?(g.a.success("操作成功"),t.doSearch("init")):g.a.error(e.msg)})}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.list,r=t.pageData,i=t.filter,s=t.dispatch,l=t.search;return B.a.createElement("div",{className:"newsMerge-index"},B.a.createElement(c.a,null,B.a.createElement(u.a,null,B.a.createElement("span",null,"类型："),B.a.createElement(k.a,{defaultValue:"".concat(i.type),style:{width:120},onChange:this.typeChange},T.L.map(function(e){return B.a.createElement(ee,{value:e.value,key:e.value},e.label)})),B.a.createElement("span",null,"状态："),B.a.createElement(k.a,{defaultValue:"".concat(i.status),style:{width:120},onChange:this.handleChange},T.K.map(function(e){return B.a.createElement(ee,{value:e.value,key:e.value},e.label)})),B.a.createElement("span",{style:{marginLeft:15}},"新闻主体："),B.a.createElement(d.a,{value:l.symbol,style:{width:200,marginRight:15},onChange:function(e){return s(Object(R.e)({symbol:e.target.value}))},onPressEnter:function(){e._search()},placeholder:"输入 ID 或名称搜索"}),B.a.createElement(p.a,{type:"primary",onClick:function(){e._search()}},"搜索"),B.a.createElement(p.a,{type:"primary",style:{margin:"0 15px"},onClick:this.showModal},"添加新闻主体"))),B.a.createElement("div",{className:"mt30"},B.a.createElement(a.a,{spinning:this.state.loading,size:"large"},B.a.createElement(o.a,{dataSource:n.map(function(e,t){return $({},e,{key:t})}),columns:te,bordered:!0,pagination:{current:r.currentPage,total:r.totalCount,pageSize:r.pageSize,onChange:function(t){return e.changePage(t)}}}))),B.a.createElement(z,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleFormCancel,onCreate:this.handleCreate}))}}])&&K(n.prototype,r),i&&K(n,i),t}();t.default=Object(O.connect)(function(e){return{newsMergeInfo:e.newsMergeInfo,list:e.newsMergeInfo.list,search:e.newsMergeInfo.search,filter:e.newsMergeInfo.filter,pageData:e.newsMergeInfo.pageData,numArr:e.newsMergeInfo.numArr}})(ne)}}]);