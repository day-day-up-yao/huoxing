(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{1432:function(e,t,a){"use strict";a.r(t),function(e){a(675);var n=a(676),c=a.n(n),r=(a(1394),a(1395)),o=a.n(r),s=(a(1381),a(1382)),i=a.n(s),l=(a(1383),a(1384)),m=a.n(l),u=(a(247),a(183)),p=a.n(u),d=(a(361),a(20)),f=a.n(d),v=(a(1376),a(1377)),b=a.n(v),y=a(0),E=a.n(y),g=a(246),N=a(10),O=a(1605),h=a(1617),w=a(1643),S=a(48);a(1641),a(1610);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T=b.a.confirm,A=function(t){function a(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=this,n=k(a).call(this),e=!n||"object"!==P(n)&&"function"!=typeof n?J(t):n,I(J(e),"closeWindow",function(){e.setState({closeLoading:!0})}),I(J(e),"edit",function(){var t=e.props.info;N.hashHistory.push({pathname:"/video-send",query:{id:t.id}})}),I(J(e),"handleCancel",function(){return e.setState({previewVisible:!1})}),I(J(e),"showModal",function(t){e.setState({previewVisible:!0,previewImage:t})}),e.state={isEdit:!1,loading:!0,previewVisible:!1,previewImage:"",closeLoading:!1},e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,y["Component"]),n=a,(r=[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.location;a(Object(w.b)({id:n.query.id},function(){e.setState({loading:!1})}))}},{key:"_delVideo",value:function(){var e=this.props.location,t=this;T({title:"提示",content:"确认要删除吗 ?",onOk:function(){var a={status:-1,id:e.query.id};Object(S.i)("POST","/video/status",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){I(e,t,a[t])})}return e}({},a),function(e){1===e.code?(f.a.success("删除成功"),t.closeWindow()):f.a.error(e.msg)})}})}},{key:"_forbidcomment",value:function(t){var a=this.props,n=a.location,c=a.dispatch,r={appId:e.cookie("gameId"),id:n.query.id,operate:parseInt(t)?"0":"1"};Object(S.i)("post","/post/forbidcomment",r,function(e){200===e.status?c(Object(w.b)({id:n.query.id})):f.a.error(e.msg)})}},{key:"_isTop",value:function(t){var a=this.props,n=a.location,c=a.dispatch,r={appId:e.cookie("gameId"),id:n.query.id,operate:parseInt(t)?"0":"1"};Object(S.i)("post","/post/top",r,function(e){200===e.status?c(Object(w.b)({id:n.query.id})):f.a.error(e.msg)})}},{key:"createMarkup",value:function(e){return{__html:e}}},{key:"channelName",value:function(e){var t="";return S.p.map(function(a,n){parseInt(a.value)===e&&(t=a.label)}),t}},{key:"render",value:function(){var e=this,t={md:{span:15},lg:{span:7,offset:1}},a=this.props.info;return E.a.createElement("div",null,E.a.createElement(c.a,{spinning:this.state.loading,size:"large"},a.id?E.a.createElement("div",{className:"video-detail"},E.a.createElement(i.a,null,E.a.createElement(m.a,{className:""},E.a.createElement(p.a,{onClick:this.edit,className:"mr10",type:"primary"},E.a.createElement(O.a,{type:"icon-edit"}),"编辑"),E.a.createElement(p.a,{onClick:function(){return e._delVideo()}},E.a.createElement(O.a,{type:"icon-clear"}),"删除"))),E.a.createElement(i.a,{className:"news-detail-info"},E.a.createElement(m.a,_({className:"section"},t),E.a.createElement("span",{className:"name"},"作者："),E.a.createElement("span",{className:"desc"},"".concat(a.author)," ")),E.a.createElement(m.a,_({className:"section"},t),E.a.createElement("span",{className:"name"},"视频来源："),E.a.createElement("span",{className:"desc"},a.source," ")),E.a.createElement(m.a,_({className:"section"},t),E.a.createElement("span",{className:"name"},"发布时间："),E.a.createElement("span",{className:"desc"},Object(S.w)(a.publishTime)," "))),E.a.createElement(i.a,{className:"news-tags"},E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"标签："),a.tags&&a.tags.split(",").map(function(e,t){return E.a.createElement(o.a,{key:t,color:"blue",style:{marginLeft:5}},e)}))),E.a.createElement(i.a,{className:"news-title"},E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"视频标题："),E.a.createElement("span",{className:"desc"},"".concat(a.title)," "))),E.a.createElement(i.a,{className:"news-summary"},E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"视频简介："),E.a.createElement("span",{className:"desc"},"".concat(a.content)," "))),E.a.createElement(i.a,{className:"news-summary"},E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name",style:{verticalAlign:"middle"}},"视频："),E.a.createElement("ul",{className:"desc",style:{display:"inline-block",verticalAlign:"middle"}},Object(S.G)(a.url)&&0!==JSON.parse(a.url).length?JSON.parse(a.url).map(function(e,t){return E.a.createElement("li",{className:"clearfix",key:t,style:{margin:"5px 0"}},E.a.createElement("video",{width:"200",style:{verticalAlign:"middle"},src:e.fileUrl,preload:"metadata",controls:"controls"}))}):E.a.createElement("span",null,"暂无")))),Object(S.G)(a.coverPic)?E.a.createElement("div",null,Object(S.G)(a.url)&&0!==JSON.parse(a.url).length?E.a.createElement(i.a,{className:"news-cover-img"},E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"PC-播放器封面："),E.a.createElement("img",{className:"desc",onClick:function(){return e.showModal(JSON.parse(a.coverPic).video_pc)},src:"".concat(JSON.parse(a.coverPic).video_pc)})),E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"M-播放器封面："),E.a.createElement("img",{className:"desc",onClick:function(){return e.showModal(JSON.parse(a.coverPic).video_m)},src:"".concat(JSON.parse(a.coverPic).video_m)}))):"",E.a.createElement(i.a,{className:"news-cover-img"},E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"PC-缩略图："),JSON.parse(a.coverPic).pc&&""!==JSON.parse(a.coverPic).pc?E.a.createElement("img",{className:"desc",onClick:function(){return e.showModal(JSON.parse(a.coverPic).pc)},src:"".concat(JSON.parse(a.coverPic).pc)}):E.a.createElement("span",{style:{padding:6}},"暂无")),E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"PC-推荐缩略图："),JSON.parse(a.coverPic).pc_recommend&&""!==JSON.parse(a.coverPic).pc_recommend?E.a.createElement("img",{className:"desc",onClick:function(){return e.showModal(JSON.parse(a.coverPic).pc_recommend)},src:"".concat(JSON.parse(a.coverPic).pc_recommend)}):E.a.createElement("span",{style:{padding:6}},"暂无")),E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name",style:{width:"125px",verticalAlign:"top"}},"M-缩略图："),JSON.parse(a.coverPic).wap_small&&""!==JSON.parse(a.coverPic).wap_small?E.a.createElement("img",{className:"desc",onClick:function(){return e.showModal(JSON.parse(a.coverPic).wap_small)},src:"".concat(JSON.parse(a.coverPic).wap_small)}):E.a.createElement("span",{style:{padding:6}},"暂无")),E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name",style:{width:"125px",verticalAlign:"top"}},"M-推荐缩略图："),JSON.parse(a.coverPic).wap_big&&""!==JSON.parse(a.coverPic).wap_big?E.a.createElement("img",{className:"desc",onClick:function(){return e.showModal(JSON.parse(a.coverPic).wap_big)},src:"".concat(JSON.parse(a.coverPic).wap_big)}):E.a.createElement("span",{style:{padding:6}},"暂无")))):E.a.createElement(i.a,null,E.a.createElement(m.a,{className:"section"},E.a.createElement("span",{className:"name"},"缩略图："),E.a.createElement("span",null,"暂无"))),E.a.createElement(b.a,{visible:this.state.previewVisible,footer:null,onCancel:this.handleCancel},E.a.createElement("img",{alt:"example",style:{width:"100%"},src:this.state.previewImage}))):E.a.createElement("div",{style:{height:300}},"加载中...")),this.state.closeLoading&&E.a.createElement(h.a,{handleCancel:function(t){clearInterval(t),e.setState({closeLoading:!1})},closeLoading:this.state.closeLoading}))}}])&&j(n.prototype,r),s&&j(n,s),a}();t.default=Object(g.connect)(function(e){return{info:e.videoInfo.info}})(A)}.call(this,a(97))},1641:function(e,t,a){var n=a(1642);"string"==typeof n&&(n=[[e.i,n,""]]);var c={transform:void 0};a(186)(n,c);n.locals&&(e.exports=n.locals)},1642:function(e,t,a){(e.exports=a(185)(!1)).push([e.i,"",""])},1643:function(e,t,a){"use strict";a.d(t,"e",function(){return l}),a.d(t,"c",function(){return m}),a.d(t,"b",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"a",function(){return f}),a.d(t,"h",function(){return v}),a.d(t,"f",function(){return b}),a.d(t,"g",function(){return y});a(361);var n=a(20),c=a.n(n),r=a(48),o=a(2);function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){i(e,t,a[t])})}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(e){return{type:o.xb,data:e}},m=function(e,t,a){return function(n){var o="init"===e?"/video/getvideolist":"/post/search";Object(r.i)("get",o,t?s({},t,{createrType:0}):{},function(e){if(1===e.code){var t=e.obj;n(d({list:t.inforList})),n(y({totalCount:t.recordCount,pageSize:t.pageSize,currPage:t.currentPage})),a&&a(t)}else c.a.error(e.msg)})}},u=function(e,t){return function(a){Object(r.i)("post","/video/getbyid",s({},e),function(e){if(1===e.code){var n=e.obj;a(d({info:n})),t&&t(n)}else c.a.error(e.msg)})}},p=function(e,t){return function(a){Object(r.i)("post","/news/setorder",s({},e),function(a){1===a.code?(0===parseInt(e.topOrder)?c.a.success("取消置顶成功！"):c.a.success("置顶成功！"),t&&t()):c.a.error(a.msg)})}},d=function(e){return{type:o.Gb.ADD_DATA,data:e}},f=function(e,t){return{type:o.Gb.EDIT_LIST_ITEM,data:e,index:t}},v=function(e){return{type:o.Gb.SET_SEARCH_QUERY,data:e}},b=function(e){return{type:o.Gb.SET_FILTER_DATA,data:e}},y=function(e){return{type:o.Gb.SET_PAGE_DATA,data:e}}}}]);